(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+5jU":function(t,e,n){var r=n("HMbd");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},"+6+2":function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setMinutes(0,0,0),e}},"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"+f+M":function(t,e,n){var r=n("iWRJ");t.exports=function(t,e){return r(t)-r(e)}},"+nbD":function(t,e,n){var r=n("yNUO"),i=n("iUbB"),o=n("hLnY");t.exports=function(t,e){var n=r(t),a=Number(e),s=o(n);return i(n,a-s)}},"+zZ+":function(t,e,n){var r=n("uPm0"),i=n("yNUO");t.exports=function(t,e){var n=i(t),o=i(e);return 4*(n.getFullYear()-o.getFullYear())+(r(n)-r(o))}},"/LN1":function(t,e,n){var r=n("ZmXw");t.exports=function(t,e){var n=Number(e);return r(t,12*n)}},"/Tkk":function(t,e,n){var r=n("CXhC");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},"0u2M":function(t,e,n){var r=n("54Wo");t.exports=function(t,e){var n=r(t,e)/36e5;return n>0?Math.floor(n):Math.ceil(n)}},"1BeU":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("agoU"),o=n("eoPS"),a=n("ZmXw"),s=n("4v8u"),u=n("4coB"),l=n("Ev1t"),c=n("gfz1"),h=n("lX9Q"),f=n("OBTA"),p=n("L486"),d=n("tg+8"),m=n("EMgV");e.adapterFactory=function(){return r.__assign({},i.adapterFactory(),{addWeeks:o,addMonths:a,subDays:s,subWeeks:u,subMonths:l,getISOWeek:c,setDate:h,setMonth:f,setYear:p,getDate:d,getYear:m})}},"1CCG":function(t,e,n){var r=n("CXhC");t.exports=function(t,e){var n=r(t),i=r(e),o=n.getTime()-6e4*n.getTimezoneOffset(),a=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((o-a)/864e5)}},"1HMO":function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setMilliseconds(i),n}},"1K6H":function(t,e,n){var r=n("9d03");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},"1vin":function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},"2XXS":function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}},3:function(t,e,n){t.exports=n("zUnb")},"3d+l":function(t,e,n){var r=n("rMQs");t.exports=function(t){return r(t)?366:365}},"3hPP":function(t,e,n){var r=n("iWRJ"),i=n("tMf1");t.exports=function(t){var e=r(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var o=i(n);return o.setDate(o.getDate()-1),o}},"3zVU":function(t,e,n){var r=n("J6Hf");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},"4Toj":function(t,e,n){var r=n("54Wo");t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},"4coB":function(t,e,n){var r=n("eoPS");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},"4v8u":function(t,e,n){var r=n("iUbB");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},"54Wo":function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()-i.getTime()}},"5R0t":function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),i=new Date(0);return i.setFullYear(e,n,r-1),i.setHours(23,59,59,999),i}},"5iAy":function(t,e,n){var r=n("xq5I");t.exports=function(t){return r(new Date,t)}},"5z3u":function(t,e,n){var r=n("yNUO"),i=n("gfz1");t.exports=function(t,e){var n=r(t),o=Number(e),a=i(n)-o;return n.setDate(n.getDate()-7*a),n}},"6DAA":function(t,e,n){var r=n("kOWh");t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],l={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return o[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){l[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:l,formattingTokensRegExp:r(l)}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("os0x"),s=n("FGoP"),u=i.SDK_VERSION,l=new o.Logger("@firebase/firestore"),c=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function h(){return l.logLevel===o.LogLevel.DEBUG?c.DEBUG:l.logLevel===o.LogLevel.SILENT?c.SILENT:c.ERROR}function f(t){switch(t){case c.DEBUG:l.logLevel=o.LogLevel.DEBUG;break;case c.ERROR:l.logLevel=o.LogLevel.ERROR;break;case c.SILENT:l.logLevel=o.LogLevel.SILENT;break;default:l.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=o.LogLevel.DEBUG){var i=n.map(m);l.debug.apply(l,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var r=e.map(m);l.error.apply(l,["Firestore ("+u+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=v.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function g(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function y(t,e){t||g(e)}var v=function(){function t(){}return t.setPlatform=function(e){t.platform&&g("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||g("Platform not set"),t.platform},t}();function b(){return v.getPlatform().emptyByteString}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new w(_.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k(t){for(var e in y(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e,n){if(e.length!==n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function x(t,e,n){if(e.length<n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function O(t,e,n,r){if(e.length<n||e.length>r)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+H(e.length,"argument")+".")}function A(t,e,n,r){L(t,e,q(n)+" argument",r)}function N(t,e,n,r){void 0!==r&&A(t,e,n,r)}function R(t,e,n,r){L(t,e,n+" option",r)}function P(t,e,n,r){void 0!==r&&R(t,e,n,r)}function M(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(V(u))}var l=V(r);throw new w(_.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function L(t,e,n,r){if(typeof r!==e||"object"===e&&!F(r)){var i=V(r);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function F(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function V(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g("Unknown wrong type: "+typeof t)}function U(t,e,n){if(void 0===n)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+q(e)+" argument, but it was undefined.")}function j(t,e,n){I(e,function(e,r){if(n.indexOf(e)<0)throw new w(_.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function B(t,e,n,r){var i=V(r);return new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its "+q(n)+" argument to be a "+e+", but it was: "+i)}function q(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return y(20===e.length,"Invalid auto ID: "+e),e},t}();function z(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function K(){if("undefined"==typeof Uint8Array)throw new w(_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Q(){if(!v.getPlatform().base64Available)throw new w(_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Y=function(){function t(t){Q(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),A("Blob.fromBase64String","string",1,e),Q();try{return new t(v.getPlatform().atob(e))}catch(n){throw new w(_.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),K(),!(e instanceof Uint8Array))throw B("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),Q(),v.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),K();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return z(this._binaryString,t._binaryString)},t}(),$=E(Y,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),X=function(){function t(t,e){if(D("GeoPoint",arguments,2),A("GeoPoint","number",1,t),A("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new w(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new w(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return z(this._lat,t._lat)||z(this._long,t._long)},t}(),J=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new w(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new w(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?z(this.nanoseconds,t.nanoseconds):z(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Z=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),tt="(default)",et=function(){function t(t,e){this.projectId=t,this.database=e||tt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===tt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return z(this.projectId,t.projectId)||z(this.database,t.database)},t}(),nt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&g("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&g("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):g("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return y(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return y(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return y(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return y(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return y(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new w(_.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(nt),it=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return it.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new w(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new w(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new w(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(nt),at=function(){function t(e){this.path=e,y(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===rt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return rt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new rt(e.slice()))},t.fromPathString=function(e){return new t(rt.fromString(e))},t.EMPTY=new t(new rt([])),t}(),st=function(){function t(t,e,n,r){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=r.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"})"},t.compareByKey=function(t,e){return at.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):g("Trying to compare documents on fields that don't exist")},t}(),ut=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return at.comparator(t.key,e.key)},t}(),lt=function(){function t(t,e){this.comparator=t,this.root=e||ht.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ct(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ct(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ct(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ct(this.root,t,this.comparator,!0)},t}(),ct=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){y(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ht=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw g("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw g("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),ft=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ht(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();ht.EMPTY=new ft;var pt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),dt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),mt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(dt.Estimate,n);case"previous":return new t(dt.Previous,n);case"none":case void 0:return new t(dt.Default,n);default:return g("fromSnapshotOptions() called with invalid options.")}},t}(),gt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return y(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),z(this.typeOrder,t.typeOrder)},t}(),yt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=pt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(gt),vt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?z(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(gt),bt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(gt);function _t(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var wt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&_t(this.internalValue,t.internalValue)},e}(bt),Et=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&_t(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(bt),Ct=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?z(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(gt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Tt?-1:this.defaultCompareTo(t)},e}(gt),Tt=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=pt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===dt.Estimate?new St(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===dt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof St?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(gt),It=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(gt),kt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=pt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:at.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(gt),Dt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(gt),xt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=z(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return z(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(y(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(y(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){y(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new lt(z)),e}(gt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=pt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return z(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(gt),At=Number,Nt=At.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Rt=At.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Pt=At.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Mt(t){return null==t}var Lt=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[zt]:[new Wt(t),zt];else{y(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:qt.ASCENDING)===qt.ASCENDING?zt:Gt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){y(null==this.getInequalityFilterField()||!(e instanceof Ut)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),y(!at.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){y(!at.isDocumentKey(this.path),"No ordering allowed for document query"),y(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Mt(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Mt(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return y(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Mt(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ut&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Ut&&t.op===Vt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return at.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return at.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){y(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Ft=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(yt.INSTANCE)){if(e!==Vt.EQUAL)throw new w(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new jt(t)}if(n.isEqual(Et.NAN)){if(e!==Vt.EQUAL)throw new w(_.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Bt(t)}return new Ut(t,e,n)},t}(),Vt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return g("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Ut=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){y(this.value instanceof kt,"Comparing on key, but filter value not a RefValue"),y(this.op!==Vt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=at.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Vt.ARRAY_CONTAINS?t instanceof Ot&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Vt.LESS_THAN:return t<0;case Vt.LESS_THAN_OR_EQUAL:return t<=0;case Vt.EQUAL:return 0===t;case Vt.GREATER_THAN:return t>0;case Vt.GREATER_THAN_OR_EQUAL:return t>=0;default:return g("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Vt.EQUAL&&this.op!==Vt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Ft),jt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Ft),Bt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Ft),qt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Ht=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){y(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())y(o instanceof kt,"Bound has a non-key value where the key path is being used."),n=at.comparator(o.key,e.key);else{var a=e.field(i.field);y(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===qt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Wt=function(){function t(t,e){this.field=t,void 0===e&&(e=qt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?st.compareByKey(t,e):st.compareByField(this.field,t,e);switch(this.dir){case qt.ASCENDING:return n;case qt.DESCENDING:return-1*n;default:return g("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),zt=new Wt(ot.keyField(),qt.ASCENDING),Gt=new Wt(ot.keyField(),qt.DESCENDING),Kt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new J(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new J(0,0)),t}(),Qt=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Yt=function(){function t(t,e,n,r,i){void 0===r&&(r=Kt.MIN),void 0===i&&(i=b()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=r,this.resumeToken=i}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),$t=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return G(this.fields,t.fields)},t}(),Xt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),Jt=function(){return function(t,e){this.version=t,this.transformResults=e}}(),Zt=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),te=function(){function t(t,e){this.updateTime=t,this.exists=e,y(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof st&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof st:null===t||t instanceof ut:(y(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),ee=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&y(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof st?t.version:Kt.MIN},t}(),ne=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Zt.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by SetMutation.");var n=ee.getPostMutationVersion(t);return new st(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ee.getPostMutationVersion(t);return new st(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ee),re=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Zt.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=ee.getPostMutationVersion(t),r=this.patchDocument(t);return new st(this.key,n,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ee.getPostMutationVersion(t),i=this.patchDocument(t);return new st(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof st?t.data:xt.EMPTY)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e],i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}return t},e}(ee),ie=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Zt.Transform,r.precondition=te.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),y(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return t;var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=this.transformObject(n.data,r);return new st(this.key,n.version,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new st(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){y(t instanceof st,"Unknown MaybeDocument type "+t);var e=t;return y(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];y(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof st&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof st&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){y(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(ee),oe=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Zt.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),y(null==e.transformResults,"Transform results received by DeleteMutation."),new ut(this.key,Kt.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&y(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ut(this.key,Kt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(ee),ae=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),se=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function ue(t){switch(t){case _.OK:return g("Treated status OK as error");case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0;default:return g("Unknown status code: "+t)}}function le(t){if(void 0===t)return d("GRPC error has no .code"),_.UNKNOWN;switch(t){case se.OK:return _.OK;case se.CANCELLED:return _.CANCELLED;case se.UNKNOWN:return _.UNKNOWN;case se.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case se.INTERNAL:return _.INTERNAL;case se.UNAVAILABLE:return _.UNAVAILABLE;case se.UNAUTHENTICATED:return _.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case se.NOT_FOUND:return _.NOT_FOUND;case se.ALREADY_EXISTS:return _.ALREADY_EXISTS;case se.PERMISSION_DENIED:return _.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case se.ABORTED:return _.ABORTED;case se.OUT_OF_RANGE:return _.OUT_OF_RANGE;case se.UNIMPLEMENTED:return _.UNIMPLEMENTED;case se.DATA_LOSS:return _.DATA_LOSS;default:return g("Unknown status code: "+t)}}var ce=function(){function t(t){this.comparator=t,this.data=new lt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),he=new lt(at.comparator);function fe(){return he}var pe=new lt(at.comparator);function de(){return pe}var me=new lt(at.comparator);function ge(){return me}var ye=new ce(at.comparator);function ve(){return ye}var be=function(){return function(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}}(),_e=function(){return function(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}}(),we=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Ee=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Ce=function(){function t(){this.changeMap=new lt(at.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==we.Added&&n.type===we.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===we.Metadata&&n.type!==we.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===we.Modified&&n.type===we.Modified?this.changeMap=this.changeMap.insert(e,{type:we.Modified,doc:t.doc}):t.type===we.Modified&&n.type===we.Added?this.changeMap=this.changeMap.insert(e,{type:we.Added,doc:t.doc}):t.type===we.Removed&&n.type===we.Added?this.changeMap=this.changeMap.remove(e):t.type===we.Removed&&n.type===we.Modified?this.changeMap=this.changeMap.insert(e,{type:we.Removed,doc:n.doc}):t.type===we.Added&&n.type===we.Removed?this.changeMap=this.changeMap.insert(e,{type:we.Modified,doc:t.doc}):g("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Se=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.fromCache=i,this.hasPendingWrites=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Te=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Ie=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),ke=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),De=function(){return function(t,e,n,r){void 0===n&&(n=b()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),xe=function(){function t(){this.pendingResponses=0,this.documentChanges=Ne(),this._resumeToken=b(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=ve(),e=ve(),n=ve();return this.documentChanges.forEach(function(r,i){switch(i){case we.Added:t=t.add(r);break;case we.Modified:e=e.add(r);break;case we.Removed:n=n.add(r);break;default:g("Encountered invalid change type: "+i)}}),new _e(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ne()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Oe=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=fe(),this.pendingDocumentTargetMapping=Ae(),this.pendingTargetResets=new ce(z)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof st?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ut&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetState(n);switch(t.state){case ke.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case ke.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case ke.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),y(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case ke.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case ke.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:g("Unknown target watch change state: "+t.state)}})},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new at(i.path);this.removeDocumentFromTarget(e,o,new ut(o,Kt.forDeletedDoc()))}else y(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new at(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new ut(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=ve();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Qt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new be(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=fe(),this.pendingDocumentTargetMapping=Ae(),this.pendingTargetResets=new ce(z),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?we.Modified:we.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,we.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new xe),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new ce(z),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;y(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new xe,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Ae(){return new lt(at.comparator)}function Ne(){return new lt(at.comparator)}var Re=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Tt(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Pe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Le(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ot(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),Me=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=Le(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ot(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}();function Le(t){return t instanceof Ot?t.internalValue.slice():[]}var Fe,Ve,Ue=((Fe={})[qt.ASCENDING.name]="ASCENDING",Fe[qt.DESCENDING.name]="DESCENDING",Fe),je=((Ve={})[Vt.LESS_THAN.name]="LESS_THAN",Ve[Vt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Ve[Vt.GREATER_THAN.name]="GREATER_THAN",Ve[Vt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Ve[Vt.EQUAL.name]="EQUAL",Ve[Vt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Ve),Be=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qe(t,e){y(!Mt(t),e+" is missing")}function He(t){return"number"==typeof t?t:"string"==typeof t?Number(t):g("can't parse "+t)}var We=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?_.UNKNOWN:le(t.code);return new w(e,t.message||"")},t.prototype.toInt32Value=function(t){return Mt(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Mt(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);y(!!t,"Cannot deserialize null or undefined timestamp.");var e=He(t.seconds||"0");return new J(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=Be.exec(t);if(y(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new J(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(y(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Y.fromBase64String(t)):(y(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),Y.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return y(!!t,"Trying to deserialize version that isn't set"),Kt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=rt.fromString(t);return y(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return y(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),y(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new at(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?rt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new rt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new rt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return y(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof yt)return{nullValue:"NULL_VALUE"};if(t instanceof vt)return{booleanValue:t.value()};if(t instanceof wt)return{integerValue:""+t.value()};if(t instanceof Et){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ct?{stringValue:t.value()}:t instanceof xt?{mapValue:this.toMapValue(t)}:t instanceof Ot?{arrayValue:this.toArrayValue(t)}:t instanceof St?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Dt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof It?{bytesValue:this.toBytes(t.value())}:t instanceof kt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:g("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(ze(t,n,"nullValue"))return yt.INSTANCE;if(ze(t,n,"booleanValue"))return vt.of(t.booleanValue);if(ze(t,n,"integerValue"))return new wt(He(t.integerValue));if(ze(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Et.NAN;if("Infinity"===t.doubleValue)return Et.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Et.NEGATIVE_INFINITY}return new Et(t.doubleValue)}if(ze(t,n,"stringValue"))return new Ct(t.stringValue);if(ze(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(ze(t,n,"arrayValue"))return qe(t.arrayValue,"arrayValue"),new Ot((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(ze(t,n,"timestampValue"))return qe(t.timestampValue,"timestampValue"),new St(this.fromTimestamp(t.timestampValue));if(ze(t,n,"geoPointValue"))return qe(t.geoPointValue,"geoPointValue"),new Dt(new X(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(ze(t,n,"bytesValue")){qe(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new It(r)}if(ze(t,n,"referenceValue")){qe(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new et(i.get(1),i.get(3)),a=new at(this.extractLocalPathFromResourceName(i));return new kt(o,a)}return g("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return y(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new st(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=xt.EMPTY;return I(t,function(t,r){n=n.set(new ot([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){y(!!t.found,"Tried to deserialize a found document from a missing document."),qe(t.found.name,"doc.found.name"),qe(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new st(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){y(!!t.missing,"Tried to deserialize a missing document from a found document."),y(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ut(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return ze(t,e,"found")?this.fromFound(t):ze(t,e,"missing")?this.fromMissing(t):g("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case ke.Added:return"ADD";case ke.Current:return"CURRENT";case ke.NoChange:return"NO_CHANGE";case ke.Removed:return"REMOVE";case ke.Reset:return"RESET";default:return g("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Ie)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Te){var e;if(t.newDoc instanceof st)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ut)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof De){var n=void 0;return t.cause&&(n={code:function(t){if(void 0===t)return se.OK;switch(t){case _.OK:return se.OK;case _.CANCELLED:return se.CANCELLED;case _.UNKNOWN:return se.UNKNOWN;case _.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case _.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case _.INTERNAL:return se.INTERNAL;case _.UNAVAILABLE:return se.UNAVAILABLE;case _.UNAUTHENTICATED:return se.UNAUTHENTICATED;case _.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case _.NOT_FOUND:return se.NOT_FOUND;case _.ALREADY_EXISTS:return se.ALREADY_EXISTS;case _.PERMISSION_DENIED:return se.PERMISSION_DENIED;case _.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case _.ABORTED:return se.ABORTED;case _.OUT_OF_RANGE:return se.OUT_OF_RANGE;case _.UNIMPLEMENTED:return se.UNIMPLEMENTED;case _.DATA_LOSS:return se.DATA_LOSS;default:return g("Unknown status code: "+t)}}(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return g("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(ze(t,n,"targetChange")){qe(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new De(r,i,o,s||null)}else if(ze(t,n,"documentChange")){qe(t.documentChange,"documentChange"),qe(t.documentChange.document,"documentChange.name"),qe(t.documentChange.document.name,"documentChange.document.name"),qe(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,l=this.fromName(u.document.name),c=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new st(l,c,h,{hasLocalMutations:!1});e=new Te(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if(ze(t,n,"documentDelete")){qe(t.documentDelete,"documentDelete"),qe(t.documentDelete.document,"documentDelete.document");var p=t.documentDelete;l=this.fromName(p.document),c=p.readTime?this.fromVersion(p.readTime):Kt.forDeletedDoc(),f=new ut(l,c),e=new Te([],p.removedTargetIds||[],f.key,f)}else if(ze(t,n,"documentRemove")){qe(t.documentRemove,"documentRemove"),qe(t.documentRemove.document,"documentRemove");var d=t.documentRemove;l=this.fromName(d.document),e=new Te([],d.removedTargetIds||[],l,null)}else{if(!ze(t,n,"filter"))return g("Unknown change type "+JSON.stringify(t));qe(t.filter,"filter"),qe(t.filter.targetId,"filter.targetId");var m=t.filter,y=new ae(m.count||0);e=new Ie(m.targetId,y)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?ke.NoChange:"ADD"===t?ke.Added:"REMOVE"===t?ke.Removed:"CURRENT"===t?ke.Current:"RESET"===t?ke.Reset:g("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!ze(t,t.response_type,"targetChange"))return Kt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Kt.MIN:e.readTime?this.fromVersion(e.readTime):Kt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ne)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof oe)e={delete:this.toName(t.key)};else if(t instanceof re)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof ie))return g("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):te.NONE;if(t.update){qe(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new re(r,i,o,n)}return new ne(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new oe(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return y(!0===n.exists,'Transforms only support precondition "exists == true"'),new ie(r,a)}return g("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return y(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?te.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?te.exists(t.exists):te.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map(function(t){return e.fromValue(t)})),new Jt(n,r)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;return n instanceof Re?{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}:n instanceof Pe?{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}}:n instanceof Me?{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}}:void g("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;ze(t,n,"setToServerValue")?(y("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=Re.instance):ze(t,n,"appendMissingElements")?r=new Pe((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)})):ze(t,n,"removeAllFromArray")?r=new Me((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)})):g("Unknown transform proto: "+JSON.stringify(t));var i=ot.fromServerFormat(t.fieldPath);return new Xt(i,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return y(1===e,"DocumentsTarget contained other than 1 document: "+e),Lt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(rt.EMPTY_PATH);else{var n=t.path;y(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(y(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new Lt(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Qt.Listen:return null;case Qt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Qt.LimboResolution:return"limbo-document";default:return g("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Ut?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):g("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Ht(r,n)},t.prototype.toDirection=function(t){return Ue[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return qt.ASCENDING;case"DESCENDING":return qt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return je[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Vt.EQUAL;case"GREATER_THAN":return Vt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Vt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Vt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Vt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Vt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return g("Unspecified relation");default:return g("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ot.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Wt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Ut?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Ut(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Bt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof jt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:g("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Bt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new jt(n);case"OPERATOR_UNSPECIFIED":return g("Unspecified filter");default:return g("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return ot.fromServerFormat(t)});return new $t(e)},t}();function ze(t,e,n){return e===n||!e&&n in t}var Ge=Error.captureStackTrace,Ke=function(){return function(t,e){if(this.code=t,this.message=e,Ge)Ge(this,Qe.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();Ke.prototype=Object.create(Error.prototype),Ke.prototype.constructor=Ke,Ke.prototype.name="FirebaseError";var Qe=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new Ke(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),Ye=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){y(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){y(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){y(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){y(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){y(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){y(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),$e="Connection",Xe={BatchGetDocuments:"batchGet",Commit:"commit"},Je="gl-js/ fire/"+u,Ze=function(){function t(t){this.databaseId=t.databaseId,this.pool=new s.XhrIoPool,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Je},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){r.pool.getObject(function(u){u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();p($e,"XHR received:",JSON.stringify(e)),o(e);break;case s.ErrorCode.TIMEOUT:p($e,'RPC "'+t+'" timed out'),a(new w(_.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();p($e,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new w(function(t){switch(t){case 200:return _.OK;case 400:return _.INVALID_ARGUMENT;case 401:return _.UNAUTHENTICATED;case 403:return _.PERMISSION_DENIED;case 404:return _.NOT_FOUND;case 409:return _.ABORTED;case 416:return _.OUT_OF_RANGE;case 429:return _.RESOURCE_EXHAUSTED;case 499:return _.CANCELLED;case 500:return _.UNKNOWN;case 501:return _.UNIMPLEMENTED;case 503:return _.UNAVAILABLE;case 504:return _.DEADLINE_EXCEEDED;default:return t>=200&&t<300?_.OK:t>=400&&t<500?_.FAILED_PRECONDITION:t>=500&&t<600?_.INTERNAL:_.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(p($e,'RPC "'+t+'" failed'),a(new w(_.UNAVAILABLE,"Connection failed.")));break;default:g('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{p($e,'RPC "'+t+'" completed.'),r.pool.releaseObject(u)}});var l=JSON.stringify(e);p($e,"XHR sending: ",i+" "+l);var c={"Content-Type":"text/plain"};r.modifyHeadersForRequest(c,n),u.send(i,"POST",l,c,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p($e,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),u=!1,l=!1,c=new Ye({sendFn:function(t){l?p($e,"Not sending because WebChannel is closed:",t):(u||(p($e,"Opening WebChannel transport."),a.open(),u=!0),p($e,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),h=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return h(s.WebChannel.EventType.OPEN,function(){l||p($e,"WebChannel transport opened.")}),h(s.WebChannel.EventType.CLOSE,function(){l||(l=!0,p($e,"WebChannel transport closed"),c.callOnClose())}),h(s.WebChannel.EventType.ERROR,function(t){l||(l=!0,p($e,"WebChannel transport errored:",t),c.callOnClose(new w(_.UNAVAILABLE,"The operation could not be completed")))}),h(s.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];y(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p($e,"WebChannel received error:",n);var r=n.status,i=function(t){var e=se[r];if(void 0!==e)return le(e)}(),o=n.message;void 0===i&&(i=_.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,c.callOnClose(new w(i,o)),a.close()}else p($e,"WebChannel received:",e),c.callOnMessage(e)}}),setTimeout(function(){c.callOnOpen()},0),c},t.prototype.makeUrl=function(t){var e=Xe[t];y(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();v.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new Ze(t))},t.prototype.newSerializer=function(t){return new We(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var tn=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new w(_.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}();for(var n=0;n<t.length;++n)if(A("FieldPath","string",n,t[n]),0===t[n].length)throw new w(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ot.keyField().canonicalString()),t}(),en=new RegExp("[~\\*/\\[\\]]"),nn=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),rn=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||at.comparator(e.key,n.key)}:function(t,e){return at.comparator(t.key,e.key)},this.keyedMap=de(),this.sortedSet=new lt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),on=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return k(this.inner)},t}(),an=function(){return function(){this.listeners=[]}}(),sn=function(){function t(t){this.syncEngine=t,this.queries=new on(function(t){return t.canonicalId()}),this.onlineState=nn.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new an,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),un=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=nn.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(y(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==we.Metadata&&e.push(i)}t=new Se(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return y(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==nn.Offline?(y(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===nn.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(e){y(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new Se(e.query,e.docs,rn.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0,!1),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:we.Added,doc:t})}),e},t}(),ln=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&g("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){var n=e.length;if(0===n)return t.resolve();var r=0;return new t(function(t,i){for(var o=0,a=e;o<a.length;o++)a[o].next(function(){++r===n&&t()},function(t){return i(t)})})},t.map=function(e){for(var n=[],r=[],i=function(t){r[t]=e[t].next(function(e){n[t]=e})},o=0;o<e.length;++o)i(o);return t.waitFor(r).next(function(){return n})},t}(),cn=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=ve()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],r=ve();return this.potentialGarbage.forEach(function(i){var o=e.documentHasAnyReferences(t,i);n.push(o.next(function(t){return t||(r=r.add(i)),ln.resolve()}))}),this.potentialGarbage=ve(),ln.waitFor(n).next(function(){return r})},t.prototype.documentHasAnyReferences=function(t,e){var n=ln.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?ln.resolve(!0):e()})},n)},t}(),hn=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=ve(),r=ve(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case we.Added:n=n.add(a.doc.key);break;case we.Removed:r=r.add(a.doc.key)}}return new t(e.query,n,r)},t}(),fn=function(){function t(){this.refsByKey=new ce(pn.compareByKey),this.refsByTarget=new ce(pn.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new pn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new pn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=at.EMPTY,r=new pn(n,t),i=new pn(n,t+1);this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=at.EMPTY,n=new pn(e,t),r=new pn(e,t+1),i=ve();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new pn(e,0),r=this.refsByKey.firstAfterOrEqual(n);return ln.resolve(null!==r&&e.isEqual(r.key))},t}(),pn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return at.comparator(t.key,e.key)||z(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return z(t.targetOrBatchId,e.targetOrBatchId)||at.comparator(t.key,e.key)},t}(),dn=1,mn=function(t){return t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine",t}({}),gn=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>dn<<dn;this.previousId=e-n>=t?n|this.generatorId:(n|this.generatorId)-(1<<dn)}return t.prototype.next=function(){return this.previousId+=1<<dn,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(mn.LocalStore,e)},t.forSyncEngine=function(){return new t(mn.SyncEngine)},t}(),yn=function(){return function(t){this.key=t}}(),vn=function(){return function(t){this.key=t}}(),bn=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=ve(),this.mutatedKeys=ve(),this.documentSet=new rn(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ce,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),c=e instanceof st?e:null;if(c&&(y(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null),c?(a=a.add(c),o=c.hasLocalMutations?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)),l&&c){var h=l.data.isEqual(c.data);h&&l.hasLocalMutations===c.hasLocalMutations||(r.track(h?{type:we.Metadata,doc:c}:{type:we.Modified,doc:c}),u&&n.query.docComparator(c,u)>0&&(s=!0))}else!l&&c?r.track({type:we.Added,doc:c}):l&&!c&&(r.track({type:we.Removed,doc:l}),u&&(s=!0))}),this.query.hasLimit())for(;a.size>this.query.limit;){var l=a.last();a=a.delete(l.key),r.track({type:we.Removed,doc:l})}return y(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.applyChanges=function(t,e){var n=this;y(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var i=t.changeSet.getChanges();i.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case we.Added:return 1;case we.Modified:case we.Metadata:return 2;case we.Removed:return 0;default:return g("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var o=this.updateLimboDocuments(),a=0===this.limboDocuments.size&&this.current?Ee.Synced:Ee.Local,s=a!==this.syncState;return this.syncState=a,0!==i.length||s?{snapshot:new Se(this.query,t.documentSet,r,i,a===Ee.Local,!t.mutatedKeys.isEmpty(),s,!1),limboChanges:o}:{limboChanges:o}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===nn.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ce,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return y(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=ve(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new vn(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new yn(t))}),n},t}(),_n=function(){return function(t,e,n,r){this.query=t,this.targetId=e,this.resumeToken=n,this.view=r}}(),wn=function(){return function(t){this.key=t}}(),En=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new on(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new lt(at.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new fn,this.limboCollector=new cn,this.mutationUserCallbacks={},this.targetIdGenerator=gn.forSyncEngine(),this.limboCollector.addGarbageSource(this.limboDocumentRefs)}return t.prototype.subscribe=function(t,e){y(null!==t&&null!==e,"View and error handlers cannot be null"),y(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),y(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(r){return e.localStore.remoteDocumentKeys(n.targetId).then(function(i){var o=new bn(t,i),a=o.computeDocChanges(r),s=o.applyChanges(a);y(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),y(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new _n(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return y(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),y(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Mt(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),I(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(y(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?y(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(y(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,r){var i=r.view.applyOnlineStateChange(t);y(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&e.push(i.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var r=this.limboResolutionsByTarget[t],i=r&&r.key;if(i){this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[t];var o=new lt(at.comparator);o=o.insert(i,new ut(i,Kt.forDeletedDoc()));var a=ve().add(i),s=new be(Kt.MIN,{},new ce(z),o,a);return this.applyRemoteEvent(s)}var u=this.queryViewsByTarget[t];return y(!!u,"Unknown targetId: "+t),this.localStore.releaseQuery(u.query).then(function(){return n.removeAndCleanupQuery(u).then(function(){n.errorHandler(u.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new lt(z)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(y(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof yn?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof vn?(p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t)):g("Unknown limbo change: "+JSON.stringify(i))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.targetIdGenerator.next(),r=Lt.atPath(e.path);this.limboResolutionsByTarget[n]=new wn(e),this.remoteStore.listen(new Yt(r,n,Qt.LimboResolution)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboResolutionsByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,r=[],i=[],o=[];return this.queryViewsByQuery.forEach(function(a,s){o.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var o=s.view.applyChanges(t,e&&e.targetChanges[s.targetId]);return n.updateTrackedLimbos(s.targetId,o.limboChanges).then(function(){if(o.snapshot){r.push(o.snapshot);var t=hn.fromSnapshot(o.snapshot);i.push(t)}})}))}),Promise.all(o).then(function(){return n.viewHandler(r),n.localStore.notifyLocalViewChanges(i)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){y(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?ve().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:ve()},t}(),Cn=-1,Sn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&y(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;y(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&y(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=ve(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),Tn=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){y(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=ge(),a=e.mutations,s=0;s<a.length;s++){var u=r[s].version;null===u&&(u=n),o=o.insert(a[s].key,u)}return new t(e,n,r,i,o)},t}(),In="\x01",kn="\x01",Dn="\x10",xn="\x11";function On(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Nn(e)),e=An(t.get(n),e);return Nn(e)}function An(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=In+Dn;break;case In:n+=In+xn;break;default:n+=o}}return n}function Nn(t){return t+In+kn}function Rn(t){var e=t.length;if(y(e>=2,"Invalid path "+t),2===e)return y(t.charAt(0)===In&&t.charAt(1)===kn,"Non-empty path "+t+" had length 2"),rt.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(In,o);switch((a<0||a>n)&&g('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case kn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case Dn:i+=t.substring(o,a),i+="\0";break;case xn:i+=t.substring(o,a+1);break;default:g('Invalid encoded resource path: "'+t+'"')}o=a+2}return new rt(r)}var Pn=3;function Mn(t,e,n,r){y(n<r&&n>=0&&r<=Pn,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Fn.store)}(t),function(t){t.createObjectStore(Vn.store,{keyPath:Vn.keyPath}),t.createObjectStore(Un.store,{keyPath:Un.keyPath}),t.createObjectStore(jn.store)}(t),Gn(t),function(t){t.createObjectStore(qn.store)}(t));var i=ln.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wn.store),t.deleteObjectStore(Hn.store),t.deleteObjectStore(zn.store)}(t),Gn(t)),i=i.next(function(){return function(t){var e=t.store(zn.store),n=new zn(0,0,Kt.MIN.toTimestamp(),0);return e.put(zn.key,n)}(e)})),i}var Ln=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Fn=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}(),Vn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Un=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath=["userId","batchId"],t}(),jn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,On(e)]},t.key=function(t,e,n){return[t,On(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Bn=function(){return function(t,e){this.path=t,this.readTime=e}}(),qn=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}(),Hn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),Wn=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),zn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function Gn(t){t.createObjectStore(Wn.store,{keyPath:Wn.keyPath}).createIndex(Wn.documentTargetsIndex,Wn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.queryTargetsIndexName,Hn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zn.store)}var Kn=[Vn.store,Un.store,jn.store,qn.store,Hn.store,Fn.store,zn.store,Wn.store],Qn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Yn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return y(t.isAvailable(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new ln(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new w(_.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){o(t.target.error)},a.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Xn(a.transaction);r(n,i,t.oldVersion,Pn).next(function(){p("SimpleDb","Database upgrade to version "+Pn+" complete")})}}).toPromise()},t.delete=function(t){return p("SimpleDb","Removing database:",t),Zn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t instanceof Xn?t.store(e):g("Invalid transaction object provided!")},t.prototype.runTransaction=function(t,e,n){var r=Xn.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),$n=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Zn(this.dbCursor.delete())},t}(),Xn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new Qn,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p("SimpleDb","Aborting transaction: %s",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return y(!!e,"Object store not part of transaction: "+t),new Jn(e)},t}(),Jn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zn(n)},t.prototype.get=function(t){var e=this;return Zn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Zn(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Zn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new ln(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new $n(i),a=e(i.primaryKey,i.value,o);a instanceof ln&&n.push(a),o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return ln.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(y(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zn(t){return new ln(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var tr=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){return y(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,ir(e).get(n.userId)}).next(function(t){return t||(t=new Vn(n.userId,Cn,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return y(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=Cn,ir(e).put(n.metadata)}):ln.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=Cn;return nr(t).iterate({reverse:!0},function(t,n,r){var i,o,a=t[0];if(t[1]>e&&(e=n.batchId),""===a)r.done();else{var s=(o=(i=a).length-1,0===i.length?"":"\0"===i.charAt(o)?i.substring(0,o):i.substring(0,o)+String.fromCharCode(i.charCodeAt(o)-1));r.skip([s])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return nr(t).iterate({range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return ln.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return ln.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return y(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=er(n),ir(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return ln.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=er(e),ir(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=this.nextBatchId;this.nextBatchId++;var o=new Sn(i,e,n),a=this.serializer.toDbMutationBatch(this.userId,o);return nr(t).put(a).next(function(){for(var e=[],o=0,a=n;o<a.length;o++){var s=jn.key(r.userId,a[o].key.path,i);e.push(rr(t).put(s,jn.PLACEHOLDER))}return ln.waitFor(e)}).next(function(){return o})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return nr(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,i=IDBKeyRange.lowerBound(this.keyForBatchId(r)),o=null;return nr(t).iterate({range:i},function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(Cn),this.keyForBatchId(Number.POSITIVE_INFINITY));return nr(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,r=IDBKeyRange.bound(this.keyForBatchId(Cn),this.keyForBatchId(e));return nr(t).loadAll(r).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=jn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return rr(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],l=Rn(r[1]);if(s===n.userId&&e.path.isEqual(l)){var c=n.keyForBatchId(u);return nr(t).get(c).next(function(t){null===t&&g("Dangling document-mutation reference found: "+r+" which points to "+c),o.push(n.serializer.fromDbMutationBatch(t))})}a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;y(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=jn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ce(z);return rr(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],l=Rn(t[1]);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(u)):o.done()}).next(function(){var e=[],r=[];return s.forEach(function(i){var o=n.keyForBatchId(i);r.push(nr(t).get(o).next(function(t){null===t&&g("Dangling document-mutation reference found, which points to "+o),e.push(n.serializer.fromDbMutationBatch(t))}))}),ln.waitFor(r).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=nr(t),r=rr(t),i=[],o=function(t){var e=IDBKeyRange.only(a.keyForBatchId(t.batchId)),o=0,s=n.iterate({range:e},function(t,e,n){return o++,n.delete()});i.push(s.next(function(){y(1===o,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var u=0,l=t.mutations;u<l.length;u++){var c=l[u],h=jn.key(a.userId,c.key.path,t.batchId);i.push(r.delete(h)),null!==a.garbageCollector&&a.garbageCollector.addPotentialGarbageKey(c.key)}},a=this,s=0,u=e;s<u.length;s++)o(u[s]);return ln.waitFor(i)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return ln.resolve();var r=IDBKeyRange.lowerBound(jn.prefixForUser(e.userId)),i=[];return rr(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=Rn(t[1]);i.push(o)}else r.done()}).next(function(){y(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,r=jn.prefixForPath(this.userId,e.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return rr(t).iterate({range:o,keysOnly:!0},function(t,e,r){t[0]===n.userId&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();function er(t){return t instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),t.toString()):t}function nr(t){return Yn.getStore(t,Un.store)}function rr(t){return Yn.getStore(t,jn.store)}function ir(t){return Yn.getStore(t,Vn.store)}var or=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=Kt.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return sr(t).get(zn.key).next(function(t){y(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=Kt.fromTimestamp(new J(n.seconds,n.nanoseconds)),ln.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),sr(t).put(zn.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):ln.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return y(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ar(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return sr(t).put(zn.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return ar(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ar(t).iterate({range:i,index:Hn.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=[],i=ur(t);return e.forEach(function(t){var e=On(t.path);r.push(i.put(new Wn(n,e)))}),ln.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=[],o=ur(t);return e.forEach(function(t){var e=On(t.path);i.push(o.delete([n,e])),null!==r.garbageCollector&&r.garbageCollector.addPotentialGarbageKey(t)}),ln.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ur(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,r).next(function(){return n.delete(r)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,r=ur(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?r.iterate({range:e,keysOnly:!0},function(t,e,r){var i=Rn(t[1]),o=new at(i);y(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):ln.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ur(t),i=ve();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=Rn(t[1]),o=new at(r);i=i.add(o)}).next(function(){return i})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){y(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n,r=On(e.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return ur(t).iterate({index:Wn.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){o++,n.done()}).next(function(){return o>0})},t}();function ar(t){return Yn.getStore(t,Hn.store)}function sr(t){return Yn.getStore(t,zn.store)}function ur(t){return Yn.getStore(t,Wn.store)}var lr=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return cr(t).put(hr(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return cr(t).delete(hr(e))},t.prototype.getEntry=function(t,e){var n=this;return cr(t).get(hr(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=de(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return cr(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof st&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t}();function cr(t){return Yn.getStore(t,qn.store)}function hr(t){return t.path.toArray()}var fr,pr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=at.fromSegments(t.noDocument.path),n=t.noDocument.readTime,r=new J(n.seconds,n.nanoseconds);return new ut(e,Kt.fromTimestamp(r))}return g("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof st){var e=this.remoteSerializer.toDocument(t);return new qn(null,e)}var n=t.key.path.toArray(),r=t.version.toTimestamp(),i=new Ln(r.seconds,r.nanoseconds);return new qn(new Bn(n,i),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Un(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=J.fromMillis(t.localWriteTimeMs);return new Sn(t.batchId,r,n)},t.prototype.fromDbTarget=function(t){var e,n=new J(t.readTime.seconds,t.readTime.nanoseconds),r=Kt.fromTimestamp(n);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Yt(e,t.targetId,Qt.Listen,r,t.resumeToken)},t.prototype.toDbTarget=function(t){y(Qt.Listen===t.purpose,"Only queries with purpose "+Qt.Listen+" may be stored, got "+t.purpose);var e,n,r=t.snapshotVersion.toTimestamp(),i=new Ln(r.seconds,r.nanoseconds);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(y("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new Hn(t.targetId,t.query.canonicalId(),i,n,0,e)},t}(),dr="IndexedDbPersistence",mr="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",gr=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new pr(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(y(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,Yn.openOrCreate(this.dbName,Pn,Mn).then(function(t){e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new w(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(t){var e=this;return y(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){if(e.simpleDb.close(),t)return Yn.delete(e.dbName)})},t.prototype.getMutationQueue=function(t){return tr.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new or(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new lr(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(p(dr,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",Kn,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return Yn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Fn.store],function(e){var n=e.store(Fn.store);return n.get("owner").next(function(e){if(t.validOwner(e))return p(dr,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new w(_.FAILED_PRECONDITION,mr),ln.reject(t.persistenceError);var r=new Fn(t.ownerId,Date.now());return p(dr,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",r),n.put("owner",r)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[Fn.store],function(e){var n=e.store(Fn.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(p(dr,"Releasing owner lease."),n.delete("owner")):ln.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this;return t.store(Fn.store).get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new w(_.FAILED_PRECONDITION,mr),ln.reject(e.persistenceError)):ln.resolve()})},t.prototype.validOwner=function(t){var e=Date.now();return!(null===t||t.leaseTimestampMs<e-5e3||(t.leaseTimestampMs>e?(d("Persistence owner-lease is in the future. Discarding.",t),1):t.ownerId===this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){t.runTransaction("Refresh owner timestamp",function(e){return e.store(Fn.store).put("owner",new Fn(t.ownerId,Date.now()))}).catch(function(e){d(e),t.stopOwnerLeaseRefreshes()})},4e3)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"object"==typeof window&&"function"==typeof window.addEventListener&&(this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(y("object"==typeof window&&"function"==typeof window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return p(dr,"Zombied ownerID from LocalStorage:",t),t}catch(e){return d("Failed to get zombie owner id.",e),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(e){d("Failed to set zombie owner id.",e)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},t.prototype.generateOwnerId=function(){return W.newId()},t.MAIN_DATABASE="main",t}(),yr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(r){return n.computeLocalDocument(t,e,r)})},t.prototype.getDocuments=function(t,e){var n=this,r=[],i=fe();return e.forEach(function(e){r.push(n.getDocument(t,e).next(function(t){t||(t=new ut(e,Kt.forDeletedDoc())),i=i.insert(e,t)}))}),ln.waitFor(r).next(function(){return i})},t.prototype.getDocumentsMatchingQuery=function(t,e){return at.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new at(e)).next(function(t){var e=de();return t instanceof st&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return r.computeLocalDocuments(t,e)}).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var i=ve(),o=0,a=e;o<a.length;o++)for(var s=0,u=a[o].mutations;s<u.length;s++){var l=u[s];n.get(l.key)||(i=i.add(l.key))}var c=[];return i.forEach(function(e){c.push(r.getDocument(t,e).next(function(t){t instanceof st&&(n=n.insert(t.key,t))}))}),ln.waitFor(c)}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var r=0,i=t;r<i.length;r++)n=i[r].applyToLocalView(e,n);return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,r=[];return e.forEach(function(i,o){r.push(n.computeLocalDocument(t,i,o).next(function(t){t instanceof st?e=e.insert(t.key,t):t instanceof ut?e=e.remove(t.key):g("Unknown MaybeDocument: "+t)}))}),ln.waitFor(r).next(function(){return e})},t}(),vr=function(){function t(t){this.remoteDocumentCache=t,this.changes=fe()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges().get(e);return n?ln.resolve(n):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=this.assertChanges(),r=[];return n.forEach(function(n,i){r.push(e.remoteDocumentCache.addEntry(t,i))}),this.changes=null,ln.waitFor(r)},t.prototype.assertChanges=function(){return y(null!==this.changes,"Changes have already been applied."),this.changes},t}(),br=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new fn,this.targetIds={},this.targetIdGenerator=gn.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new yr(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new yr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=ve(),o=0,a=[r,t];o<a.length;o++)for(var s=0,u=a[o];s<u.length;s++)for(var l=0,c=u[s].mutations;l<c.length;l++)i=i.add(c[l].key);return e.localDocuments.getDocuments(n,i)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=gn.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==Cn?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):ln.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):ln.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var r,i=J.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var r;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),r=ve(),ln.resolve();var i=new vr(e.remoteDocuments);return e.releaseBatchResults(n,[t],i).next(function(t){return r=t,i.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var r,i;return e.mutationQueue.lookupMutationBatch(n,t).next(function(i){return y(null!=i,"Attempt to reject nonexistent batch!"),r=i,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return y(t>e,"Acknowledged batches can't be rejected."),r})}).next(function(){return e.removeMutationBatch(n,r)}).next(function(t){return i=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new vr(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var i=[],o=ve();T(t.targetChanges,function(n,a){var s=e.targetIds[n];if(s){a.addedDocuments.forEach(function(t){o=o.add(t)}),a.modifiedDocuments.forEach(function(t){o=o.add(t)}),i.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,n).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,n)}));var u=a.resumeToken;u.length>0&&(s=s.update({resumeToken:u,snapshotVersion:t.snapshotVersion}),e.targetIds[n]=s,i.push(e.queryCache.updateQueryData(r,s)))}});var a=ve();t.documentUpdates.forEach(function(t,s){a=a.add(t),i.push(n.getEntry(r,t).next(function(r){null==r||s.version.isEqual(Kt.MIN)||o.has(s.key)||s.version.compareTo(r.version)>=0?n.addEntry(s):p("LocalStore","Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",s.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var s,u=e.queryCache.getLastRemoteSnapshotVersion(),l=t.snapshotVersion;return l.isEqual(Kt.MIN)||(y(l.compareTo(u)>=0,"Watch stream reverted to previous snapshot?? "+l+" < "+u),i.push(e.queryCache.setLastRemoteSnapshotVersion(r,l))),ln.waitFor(i).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return s=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,a.unionWith(s))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var r=[],i=function(t){r.push(e.queryCache.getQueryData(n,t.query).next(function(n){y(null!==n,"Local view changes contain unallocated query.");var r=n.targetId;e.localViewReferences.addReferences(t.addedKeys,r),e.localViewReferences.removeReferences(t.removedKeys,r)}))},o=0,a=t;o<a.length;o++)i(a[o]);return ln.waitFor(r)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=Cn),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){if(i)return r=i,ln.resolve();var o=e.targetIdGenerator.next();return r=new Yt(t,o,Qt.Listen),e.queryCache.addQueryData(n,r)}).next(function(){return y(!e.targetIds[r.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(r){return y(null!=r,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(r.targetId),delete e.targetIds[r.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,r):ln.resolve()}).next(function(){if(k(e.targetIds)){var t=new vr(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return ln.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var r=[];return n.forEach(function(n){r.push(t.remoteDocuments.removeEntry(e,n))}),ln.waitFor(r)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],r=0,i=this.heldBatchResults;r<i.length;r++){var o=i[r];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?ln.resolve(ve()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||k(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var r=this,i=ln.resolve(),o=function(e){i=i.next(function(){return r.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++)o(s[a]);return i.next(function(){return r.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=ve(),r=0,i=e;r<i.length;r++)for(var o=0,a=i[r].mutations;o<a.length;o++)n=n.add(a[o].key);return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=e.batch,i=r.keys(),o=ln.resolve();return i.forEach(function(i){o=o.next(function(){return n.getEntry(t,i)}).next(function(t){var o=t,a=e.docVersions.get(i);y(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o):y(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))})}),o},t}(),_r=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=Cn,this.lastStreamToken=b(),this.garbageCollector=null,this.batchesByDocumentKey=new ce(pn.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=Cn),y(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),ln.resolve()},t.prototype.checkEmpty=function(t){return ln.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return ln.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return ln.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;y(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return y(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),y(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,ln.resolve()},t.prototype.getLastStreamToken=function(t){return ln.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,ln.resolve()},t.prototype.addMutationBatch=function(t,e,n){y(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&y(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Sn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new pn(a[o].key,r));return ln.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return ln.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return ln.resolve(a)}return ln.resolve(null)},t.prototype.getAllMutationBatches=function(t){return ln.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,r=this.indexOfBatchId(e);return r<0?r=0:r>=n?r=n:r++,ln.resolve(this.getAllLiveMutationBatchesBeforeIndex(r))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new pn(e,0),i=new pn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){y(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);y(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),ln.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=r;at.isDocumentKey(o)||(o=o.child(""));var a=new pn(new at(o),0),s=new ce(z);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.targetOrBatchId)),!0)},a);var u=[];return s.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&u.push(e)}),ln.resolve(u)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;y(n>0,"Should not remove mutations when none exist.");var r=e[0].batchId,i=this.mutationQueue.length,o=this.indexOfExistingBatchId(r,"removed");y(this.mutationQueue[o].batchId===r,"Removed batches must exist in the queue");for(var a=1,s=o+1;a<n&&s<i;)(f=this.mutationQueue[s]).isTombstone()?s++:(y(f.batchId===e[a].batchId,"Removed batches must be contiguous in the queue"),a++,s++);if(0===o){for(;s<i&&(f=this.mutationQueue[s]).isTombstone();s++);this.mutationQueue.splice(o,s-o)}else for(var u=o;u<s;u++)this.mutationQueue[u]=this.mutationQueue[u].toTombstone();for(var l=this.batchesByDocumentKey,c=0,h=e;c<h.length;c++)for(var f,p=(f=h[c]).batchId,d=0,m=f.mutations;d<m.length;d++){var g=m[d].key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(g);var v=new pn(g,p);l=l.delete(v)}return this.batchesByDocumentKey=l,ln.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new pn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return ln.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&y(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),ln.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return y(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return y(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),wr=function(){function t(){this.queries=new on(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Kt.MIN,this.highestTargetId=0,this.references=new fn,this.targetCount=0}return t.prototype.start=function(t){return ln.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,ln.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return y(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,ln.resolve()},t.prototype.updateQueryData=function(t,e){return y(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),ln.resolve()},t.prototype.removeQueryData=function(t,e){return y(this.targetCount>0,"Removing a target from an empty cache"),y(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,ln.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return ln.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),ln.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),ln.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),ln.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return ln.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}(),Er=function(){function t(){this.docs=fe()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),ln.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),ln.resolve()},t.prototype.getEntry=function(t,e){return ln.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=de(),r=new at(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value;if(!e.path.isPrefixOf(o.key.path))break;a instanceof st&&e.matches(a)&&(n=n.insert(a.key,a))}return ln.resolve(n)},t}(),Cr=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new Er,this.queryCache=new wr,this.started=!1}return t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return y(!this.started,"MemoryPersistence double-started!"),this.started=!0,[2]})})},t.prototype.shutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return y(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,[2]})})},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new _r,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return p("MemoryPersistence","Starting transaction:",t),e(new Sr).toPromise()},t}(),Sr=function(){return function(){}}(),Tr=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return ln.resolve(ve())},t}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(fr||(fr={}));var Ir=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),kr=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw d("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),y(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=Ir.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&g("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){y(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){y(t===fr.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==fr.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);y(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),Dr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+e+" ms (base delay: "+this.currentBaseMs+" ms)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),xr=function(t){return t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped",t}({}),Or=1e3,Ar=6e4,Nr=1.5,Rr=function(){function t(t,e,n,r,i){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new Dr(t,e,Or,Nr,Ar),this.state=xr.Initial}return t.prototype.isStarted=function(){return this.state===xr.Backoff||this.state===xr.Auth||this.state===xr.Open},t.prototype.isOpen=function(){return this.state===xr.Open},t.prototype.start=function(t){this.state!==xr.Error?(y(this.state===xr.Initial,"Already started"),this.listener=t,this.auth()):this.performBackoff(t)},t.prototype.stop=function(){this.isStarted()&&this.close(xr.Stopped)},t.prototype.inhibitBackoff=function(){y(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=xr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(xr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){return y(t===xr.Error||Mt(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),t!==xr.Error?this.backoff.reset():e&&e.code===_.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===_.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,n=this.listener,this.listener=null,t!==xr.Stopped?[2,n.onClose(e)]:[2]})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;y(this.state===xr.Initial,"Must be in initial state to auth"),this.state=xr.Auth,this.credentialsProvider.getToken().then(function(e){t.startStream(e)},function(e){t.queue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(n){return this.state!==xr.Stopped?(t=new w(_.UNKNOWN,"Fetching auth token failed: "+e.message),[2,this.handleStreamClose(t)]):[2]})})})})},t.prototype.startStream=function(t){var e=this;if(this.state!==xr.Stopped){y(this.state===xr.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.stream===t?[2,n()]:[2]})})})};if(null!==this.listener){var r=this.startRpc(t);this.stream=r,this.stream.onOpen(function(){n(r,function(){return y(e.state===xr.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=xr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(r,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(r,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;y(this.state===xr.Error,"Should only perform backoff in an error case"),this.state=xr.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.state===xr.Stopped?[2]:(this.state=xr.Initial,this.start(t),y(this.isStarted(),"PersistentStream should have started"),[2])})})})},t.prototype.handleStreamClose=function(t){return y(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(xr.Error,t)},t}(),Pr=function(t){function e(e,n,r,i){var o=t.call(this,e,fr.ListenStreamConnectionBackoff,fr.ListenStreamIdle,n,r)||this;return o.serializer=i,o}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Rr),Mr=function(t){function e(e,n,r,i){var o=t.call(this,e,fr.WriteStreamConnectionBackoff,fr.WriteStreamIdle,n,r)||this;return o.serializer=i,o.handshakeComplete_=!1,o}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return y(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){y(this.isOpen(),"Writing handshake requires an opened stream"),y(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;y(this.isOpen(),"Writing mutations requires an opened stream"),y(this.handshakeComplete_,"Handshake must be complete before writing mutations"),y(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Rr),Lr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(){return new Mr(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.newPersistentWatchStream=function(){return new Pr(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=fe();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);y(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===_.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),Fr=function(){function t(t){this.datastore=t,this.readVersions=ge(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof ut&&(e=Kt.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new w(_.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new w(_.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?te.updateTime(e):te.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Kt.forDeletedDoc()))throw new w(_.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?te.updateTime(e):te.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new oe(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Kt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),Vr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=nn.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(nn.Unknown),y(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(fr.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,y(t.state===nn.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(nn.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===nn.Online?(this.setAndBroadcast(nn.Unknown),y(0===this.watchStreamFailures,"watchStreamFailures must be 0"),y(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 2 times. Most recent error: "+t.toString()),this.setAndBroadcast(nn.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===nn.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(d(e),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Ur=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchStream=null,this.writeStream=null,this.watchChangeAggregator=null,this.onlineStateTracker=new Vr(n,r)}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.isNetworkEnabled=function(){return y(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()?t.startWatchStream():t.onlineStateTracker.set(nn.Unknown),t.fillWritePipeline()}))},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.disableNetworkInternal(),this.onlineStateTracker.set(nn.Offline),[2]})})},t.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),p("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[],this.writeStream=null,this.watchStream=null)},t.prototype.shutdown=function(){return p("RemoteStore","RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(nn.Unknown),Promise.resolve()},t.prototype.listen=function(t){y(!C(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){y(C(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),k(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){y(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Oe(this),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!k(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return T(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return y(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(t&&this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(nn.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return this.onlineStateTracker.set(nn.Online),t instanceof De&&t.state===ke.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Te?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Ie?this.watchChangeAggregator.handleExistenceFilter(t):(y(t instanceof De,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),!e.isEqual(Kt.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?[4,this.raiseWatchSnapshot(e)]:[3,2]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;y(!t.isEqual(Kt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.update({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){n.resumeToken=b(),e.sendUnwatchRequest(t);var r=new Yt(n.query,t,Qt.ExistenceFilterMismatch);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;y(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return C(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return this.canAddToWritePipeline()?[2,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:Cn).then(function(e){if(null!==e)return t.addToWritePipeline(e),t.fillWritePipeline();0===t.writePipeline.length&&t.writeStream.markIdle()})]:[2]})})},t.prototype.canAddToWritePipeline=function(){return this.isNetworkEnabled()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){y(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){y(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})},t.prototype.onMutationResult=function(t,e){var n=this;y(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Tn.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return y(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return ue(t.code)||t.code===_.ABORTED?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=b(),[2,this.localStore.setLastStreamToken(b())]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return ue(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new Fr(this.datastore)},t.prototype.handleUserChange=function(t){if(p("RemoteStore","RemoteStore changing users: uid=",t.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(nn.Unknown),this.enableNetwork()},t}(),jr=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r}return t.prototype.start=function(t){var e=this,n=new Qn,r=new Qn,i=!1;return this.credentials.setUserChangeListener(function(o){i?e.asyncQueue.enqueue(function(){return e.handleUserChange(o)}):(i=!0,e.initializePersistence(t,r).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof w?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new Tr;var t=gr.buildStoragePrefix(this.databaseInfo),e=new We(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new gr(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new cn,this.persistence=new Cr,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new br(e.persistence,t,e.garbageCollector);var r=e.platform.newSerializer(e.databaseInfo.databaseId),i=new Lr(e.asyncQueue,n,e.credentials,r);return e.remoteStore=new Ur(e.localStore,i,e.asyncQueue,function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)}),e.syncEngine=new En(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new sn(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)})},t.prototype.listen=function(t,e,n){var r=this,i=new un(t,e,n);return this.asyncQueue.enqueue(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof st)return t;throw new w(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=ve(),r=new bn(t,n),i=r.computeDocChanges(e);return r.applyChanges(i).snapshot})},t.prototype.write=function(t){var e=this,n=new Qn;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),Br=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),qr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Hr=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Wr=function(){function t(){this.userListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setUserChangeListener=function(t){y(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(qr.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){y(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}(),zr=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.forceRefresh=!1,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;y(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.userCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.userCounter!==e)throw new w(_.ABORTED,"getToken aborted due to uid change.");return n?(y("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Hr(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setUserChangeListener=function(t){y(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){y(null!=this.tokenListener,"removeUserChangeListener() called twice"),y(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&g("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return y(null===t||"string"==typeof t,"Received invalid UID: "+t),new qr(t)},t}(),Gr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=qr.FIRST_PARTY,y(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Kr=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,y(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Gr(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(qr.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Qr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Yr=function(){function t(t){this.methodName=t}return t.delete=function(){return $r.instance},t.serverTimestamp=function(){return Xr.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayUnion",arguments,1),new Jr(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayRemove",arguments,1),new Zr(t)},t.prototype.isEqual=function(t){return this===t},t}(),$r=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Yr),Xr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Yr),Jr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Yr),Zr=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Yr),ti=E(Yr,"Use FieldValue.<field>() instead."),ei=/^__.*__$/,ni=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new re(t,this.data,this.fieldMask,e):new ne(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ie(t,this.fieldTransforms)),n},t}(),ri=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new re(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new ie(t,this.fieldTransforms)),n},t}(),ii=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function oi(t){switch(t){case ii.Set:case ii.MergeSet:case ii.Update:return!0;case ii.Argument:return!1;default:throw g("Unexpected case for UserDataSource: "+t)}}var ai=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new w(_.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(oi(this.dataSource)&&ei.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),si=function(){return function(t,e){this.databaseId=t,this.key=e}}(),ui=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new ai(ii.Set,t,ot.EMPTY_PATH);ci("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new ni(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new ai(ii.MergeSet,t,ot.EMPTY_PATH);ci("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=[],u=0,l=n;u<l.length;u++){var c=l[u],h=void 0;if(c instanceof tn?h=c:"string"==typeof c?h=fi(t,c):g("Expected stringOrFieldPath to be a string or a FieldPath"),!r.contains(h))throw new w(_.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}i=new $t(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new $t(r.fieldMask),o=r.fieldTransforms;return new ni(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new ai(ii.Update,t,ot.EMPTY_PATH);ci("Data must be an object, but it was:",r,e);var i=[],o=xt.EMPTY;I(e,function(e,a){var s=fi(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof $r)i.push(s);else{var l=n.parseData(a,u);null!=l&&(i.push(s),o=o.set(s,l))}});var a=new $t(i);return new ri(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new ai(ii.Update,t,ot.EMPTY_PATH),o=[hi(t,e)],a=[n];if(r.length%2!=0)throw new w(_.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(hi(t,r[s])),a.push(r[s+1]);var u=[],l=xt.EMPTY;for(s=0;s<o.length;++s){var c=o[s],h=i.childContextForFieldPath(c),f=this.runPreConverter(a[s],h);if(f instanceof $r)u.push(c);else{var p=this.parseData(f,h);null!=p&&(u.push(c),l=l.set(c,p))}}var d=new $t(u);return new ri(l,d,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new ai(ii.Argument,t,ot.EMPTY_PATH),r=this.parseData(e,n);return y(null!=r,"Parsed data should not be null."),y(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=pi(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(li(t=this.runPreConverter(t,e)))return ci("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Yr)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new lt(z);return I(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new xt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=yt.INSTANCE),n.push(a),r++}return new Ot(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!oi(e.dataSource))throw e.createError(t.methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t.methodName+"() is not currently supported inside arrays");if(t instanceof $r){if(e.dataSource!==ii.MergeSet)throw e.dataSource===ii.Update?(y(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Xr)e.fieldTransforms.push(new Xt(e.path,Re.instance));else if(t instanceof Jr){var n=this.parseArrayTransformElements(t.methodName,t._elements),r=new Pe(n);e.fieldTransforms.push(new Xt(e.path,r))}else if(t instanceof Zr){n=this.parseArrayTransformElements(t.methodName,t._elements);var i=new Me(n);e.fieldTransforms.push(new Xt(e.path,i))}else g("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return yt.INSTANCE;if("number"==typeof t)return function(t){return Pt(t)&&t<=Rt&&t>=Nt}(t)?new wt(t):new Et(t);if("boolean"==typeof t)return vt.of(t);if("string"==typeof t)return new Ct(t);if(t instanceof Date)return new St(J.fromDate(t));if(t instanceof J)return new St(new J(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof X)return new Dt(t);if(t instanceof Y)return new It(t);if(t instanceof si)return new kt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+V(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new ai(ii.Argument,t,ot.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function li(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof J||t instanceof X||t instanceof Y||t instanceof si||t instanceof Yr)}function ci(t,e,n){if(!li(n)||!F(n)){var r=V(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function hi(t,e){if(e instanceof tn)return e._internalPath;if("string"==typeof e)return fi(t,e);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function fi(t,e){try{return function(t){if(t.search(en)>=0)throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(tn.bind.apply(tn,[void 0].concat(t.split("."))))}catch(e){throw new w(_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=pi(r);throw new w(_.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function pi(t){return t instanceof Error?t.message:t.toString()}var di="firestore.googleapis.com",mi=!0,gi=!1,yi=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new w(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=di,this.ssl=mi}else R("settings","string","host",t.host),this.host=t.host,P("settings","boolean","ssl",t.ssl),this.ssl=S(t.ssl,mi);j("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),P("settings","object","credentials",t.credentials),this.credentials=t.credentials,P("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=S(t.timestampsInSnapshots,gi)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),vi=function(){return function(){}}(),bi=function(){function t(e){var n=this;this._queue=new kr,this.INTERNAL={delete:function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new vi;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new zr(i)}else{var o=e;if(!o.projectId)throw new w(_.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new et(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Wr}r.settings=new yi({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),A("Firestore.settings","object",1,t),C(t,"persistence"))throw new w(_.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new yi(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Wr;switch(t.type){case"gapi":return new Kr(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new w(_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new w(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;y(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||d("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),y(!this._firestoreClient,"configureClient() called multiple times");var n=new Z(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new ui(function(t){if(t instanceof Ei){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new w(_.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new si(e._config.databaseId,t._key)}return t}),this._firestoreClient=new jr(v.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!C(e,"projectId")){if(C(e,"firestoreId"))throw new w(_.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new w(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(C(e,"firestoreOptions"))throw new w(_.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new w(_.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new et(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new w(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("Firestore.collection",arguments,1),A("Firestore.collection","string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Di(rt.fromString(t),this)},t.prototype.doc=function(t){if(D("Firestore.doc",arguments,1),A("Firestore.doc","string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Ei.forPath(rt.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),A("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new _i(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new wi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case c.DEBUG:return"debug";case c.ERROR:return"error";case c.SILENT:return"silent";default:return g("Unknown log level: "+h())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),A("Firestore.setLogLevel","string",1,t),t){case"debug":f(c.DEBUG);break;case"error":f(c.ERROR);break;case"silent":f(c.SILENT);break;default:throw new w(_.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),_i=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=Ai("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return g("Mismatch in docs returned from document lookup.");var r=t[0];return new Si(e._firestore,n._key,r instanceof ut?null:r,!1)})},t.prototype.set=function(t,e,n){O("Transaction.set",arguments,2,3);var r=Ai("Transaction.set",t,this._firestore),i=(n=xi("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof tn?(x("Transaction.update",arguments,3),r=Ai("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(D("Transaction.update",arguments,2),r=Ai("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=Ai("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),wi=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){O("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Ai("WriteBatch.set",t,this._firestore),i=(n=xi("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,te.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof tn?(x("WriteBatch.update",arguments,3),r=Ai("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(D("WriteBatch.update",arguments,2),r=Ai("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,te.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Ai("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new oe(e._key,te.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new w(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ei=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new w(_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new at(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Di(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),A("DocumentReference.collection","string",1,t),!t)throw new w(_.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=rt.fromString(t);return new Di(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){O("DocumentReference.set",arguments,1,2);var n=(e=xi("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,te.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof tn?(x("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,te.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new oe(this._key,te.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Qr(t[i])||(j("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),P("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Qr(t[i])?n=t[i]:(A("DocumentReference.onSnapshot","function",i,t[i]),N("DocumentReference.onSnapshot","function",i+1,t[i+1]),N("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Br({next:function(t){if(e.next){y(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Si(n.firestore,n._key,r,t.fromCache))}},error:r}),o=this._firestoreClient.listen(Lt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return j("DocumentReference.get",t,["source"]),t&&M("DocumentReference.get",0,"source",t.source,["default","server","cache"]),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new Si(e.firestore,e._key,t,!0))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new w(_.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new w(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Ci=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Si=function(){function t(t,e,n,r){this._firestore=t,this._key=e,this._document=n,this._fromCache=r}return t.prototype.data=function(t){return O("DocumentSnapshot.data",arguments,0,1),t=Oi("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,mt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(O("DocumentSnapshot.get",arguments,1,2),e=Oi("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(hi("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,mt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ei(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ci(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof xt)return this.convertObject(t,e);if(t instanceof Ot)return this.convertArray(t,e);if(t instanceof kt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||d("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ei(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Ti=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return y("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Si),Ii=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;D("Query.where",arguments,3),A("Query.where","string",2,n),U("Query.where",3,r);var o=hi("Query.where",e),a=Vt.fromString(n);if(o.isKeyField()){if(a===Vt.ARRAY_CONTAINS)throw new w(_.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new rt([r]));y(s.length%2==0,"Path should be a document key"),i=new kt(this.firestore._databaseId,new at(s))}else{if(!(r instanceof Ei))throw new w(_.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+V(r)+".");i=new kt(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=Ft.create(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(O("Query.orderBy",arguments,1,2),N("Query.orderBy","string",2,n),void 0===n||"asc"===n)r=qt.ASCENDING;else{if("desc"!==n)throw new w(_.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=qt.DESCENDING}if(null!==this._query.startAt)throw new w(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new w(_.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=hi("Query.orderBy",e),o=new Wt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(D("Query.limit",arguments,1),A("Query.limit","number",1,e),e<=0)throw new w(_.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(U(t,1,e),e instanceof Si){if(n.length>0)throw new w(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new w(_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new kt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new w(_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Ht(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new w(_.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new w(_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new w(_.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new at(this._query.path.child(a));i.push(new kt(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Ht(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];O("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Qr(t[i])||(j("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),P("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Qr(t[i])?n=t[i]:(A("Query.onSnapshot","function",i,t[i]),N("Query.onSnapshot","function",i+1,t[i+1]),N("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Br({next:function(t){e.next&&e.next(new ki(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return O("Query.get",arguments,0,1),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new ki(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new w(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Ut)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new w(_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Vt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new w(_.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new w(_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),ki=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Ci(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;O("QuerySnapshot.forEach",arguments,1,2),A("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ii(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){j("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),t&&P("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges);var e=t&&t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new w(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Ti(t,e.doc.key,e.doc,n.fromCache);return y(e.type===we.Added,"Invalid event type for first snapshot"),y(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==we.Metadata}).map(function(e){var r=new Ti(t,e.doc.key,e.doc,n.fromCache),i=-1,a=-1;return e.type!==we.Added&&(y((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==we.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case we.Added:return"added";case we.Modified:case we.Metadata:return"modified";case we.Removed:return"removed";default:return g("Unknown change type: "+t)}}(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Ti(this._firestore,t.key,t,this.metadata.fromCache)},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(ki.prototype.docChanges,t,{get:function(){return function(){throw new w(_.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Di=function(t){function e(e,n){var r=t.call(this,Lt.atPath(e),n)||this;if(e.length%2!=1)throw new w(_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ei(new at(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(O("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.newId()),A("CollectionReference.doc","string",1,t),""===t)throw new w(_.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=rt.fromString(t);return Ei.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),A("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ii);function xi(t,e){if(void 0===e)return{merge:!1};if(j(t,e,["merge","mergeFields"]),P(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+V(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new w(_.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+V(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof tn}),void 0!==e.mergeFields&&void 0!==e.merge)throw new w(_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Oi(t,e){return void 0===e?{}:(j(t,e,["serverTimestamps"]),M(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ai(t,e,n){if(e instanceof Ei){if(e.firestore!==n)throw new w(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw B(t,"DocumentReference",1,e)}var Ni=E(bi,"Use firebase.firestore() instead."),Ri=E(_i,"Use firebase.firestore().runTransaction() instead."),Pi=E(wi,"Use firebase.firestore().batch() instead."),Mi=E(Ei,"Use firebase.firestore().doc() instead."),Li=E(Si),Fi=E(Ti),Vi=E(Ii),Ui=E(ki),ji=E(Di,"Use firebase.firestore().collection() instead."),Bi={Firestore:Ni,GeoPoint:X,Timestamp:J,Blob:$,Transaction:Ri,WriteBatch:Pi,DocumentReference:Mi,DocumentSnapshot:Li,Query:Vi,QueryDocumentSnapshot:Fi,QuerySnapshot:Ui,CollectionReference:ji,FieldPath:tn,FieldValue:ti,setLogLevel:bi.setLogLevel};function qi(t){t.INTERNAL.registerService("firestore",function(t){return new bi(t)},function(t){y(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Bi))}qi(i),e.registerFirestore=qi},"6WtA":function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setSeconds(0,0),e}},"6qX0":function(t,e,n){var r=n("yNUO");t.exports=function(t,e,n,i){var o=r(t).getTime(),a=r(e).getTime(),s=r(n).getTime(),u=r(i).getTime();if(o>a||s>u)throw new Error("The start of the range cannot be after the end of the range");return o<u&&s<a}},"7B8A":function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t).getTime(),i=Number(e);return new Date(n+i)}},"7KIa":function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}},"7pFD":function(t,e,n){var r=n("O8cK");t.exports=function(t,e){var n=r(t,e)/7;return n>0?Math.floor(n):Math.ceil(n)}},"9WSG":function(t,e,n){var r=n("6WtA");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},"9WoD":function(t,e,n){var r=n("yNUO");t.exports=function(t,e,n){var i=r(t).getTime(),o=r(e).getTime(),a=r(n).getTime();if(o>a)throw new Error("The start of the range cannot be after the end of the range");return i>=o&&i<=a}},"9d03":function(t,e,n){var r=n("ZmXw");t.exports=function(t,e){var n=Number(e);return r(t,3*n)}},"9m1m":function(t,e,n){var r=n("JtXv");t.exports=function(t){return r(new Date,t)}},AVfB:function(t,e,n){var r=n("Zipn");t.exports=function(t){return r(new Date,t)}},CXhC:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},DT56:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t).getTime(),i=r(e).getTime();return n<i?-1:n>i?1:0}},EMgV:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getFullYear()}},Ev1t:function(t,e,n){var r=n("ZmXw");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},F809:function(t,e,n){var r=n("yNUO"),i=n("sunR"),o=n("DT56");t.exports=function(t,e){var n=r(t),a=r(e),s=o(n,a),u=Math.abs(i(n,a));return n.setMonth(n.getMonth()-s*u),s*(u-(o(n,a)===-s))}},FF6D:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setMilliseconds(999),e}},FGoP:function(module,exports,__webpack_require__){(function(){var g,goog=goog||{},k=this;function l(t){return"string"==typeof t}function n(t,e){t=t.split("."),e=e||k;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var q="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia).apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var t=Date.now||function(){return+new Date};function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");ka.call(this,n+t[r])}function ma(t,e){throw new la("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}u(ka,Error),ka.prototype.name="CustomError",u(la,ka),la.prototype.name="AssertionError";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=l(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function sa(t){t:{for(var e=ta,n=t.length,r=l(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}var ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},x;function za(t,e){return t<e?-1:t>e?1:0}t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Da(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Ea(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ha(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ga.length;o++)n=Ga[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ia[" "]=aa;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=Ma||z,Oa=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Pa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Ra,a;function Qa(){var t=k.document;return t?t.documentMode:void 0}t:{var Sa="",Ta=(a=x,Oa?/rv:([^\);]+)(\)|;)/.exec(a):Ma?/Edge\/([\d\.]+)/.exec(a):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Pa?/WebKit\/(\S+)/.exec(a):La?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Ta&&(Sa=Ta?Ta[1]:""),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa;function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split("."),r=ya(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=za(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||za(0==a[2].length,0==s[2].length)||za(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Xa=k.document;Wa=Xa&&z?Qa()||("CSS1Compat"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va("9"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===r?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:"touch",3:"pen",4:"mouse"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var db="closure_listenable_"+(1e6*Math.random()|0),eb=0;function fb(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ga=i,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=qa(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Z&&o.listener==e&&o.capture==!!n&&o.ga==r)return i}return-1}hb.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ib(t,e,r,i);return-1<a?(e=t[a],n||(e.ba=!1)):((e=new fb(e,this.src,o,!!r,i)).ba=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0;function nb(t,e,n,r,i){if(r&&r.once)return ob(t,e,n,r,i);if(p(e)){for(var o=0;o<e.length;o++)nb(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!1,r,i)}function qb(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=ea(i)?!!i.capture:!!i,s=rb(t);if(s||(t[kb]=s=new hb(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=sb(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ab||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tb(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function ob(t,e,n,r,i){if(p(e)){for(var o=0;o<e.length;o++)ob(t,e[o],n,r,i);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(r)?!!r.capture:!!r,i):qb(t,e,n,!0,r,i)}function vb(t,e,n,r,i){if(p(e))for(var o=0;o<e.length;o++)vb(t,e[o],n,r,i);else r=ea(r)?!!r.capture:!!r,n=pb(n),t&&t[db]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=ib(o=t.a[e],n,r,i))&&(gb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,r,i)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if("number"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,r){var i=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Z&&(o=yb(o,r),i=i&&!1!==o)}return i}function yb(t,e){var n=t.listener,r=t.ga||t.src;return t.ba&&wb(t),n.call(r,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var r=e||n("window.event");e=new bb(r,this);var i=!0;if(!(0>r.keyCode||null!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){o=!0}(o||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.a;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.a=r[o];var a=xb(r[o],t,!0,e);i=i&&a}for(o=0;o<r.length;o++)e.a=r[o],a=xb(r[o],t,!1,e),i=i&&a}return i}return yb(t,new bb(e,this))}function rb(t){return(t=t[kb])instanceof hb?t:null}var zb="__closure_events_fn_"+(1e9*Math.random()>>>0);function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,r){if(!(e=t.f.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Z&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ba&&jb(t.f,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ra}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(p(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Eb(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),Gb(r,n),n.push(":"),Eb(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,r){nb(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){vb(this,t,e,n,r)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var r=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;Ha(t=new A(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];i=Ab(a,r,!0,t)&&i}if(i=Ab(a=t.a=n,r,!0,t)&&i,i=Ab(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Ab(a=t.a=e[o],r,!1,t)&&i;return i},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gb(n[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,r){return this.f.add(String(t),e,!1,n,r)},g.Ja=function(t,e,n,r){return this.f.add(String(t),e,!0,n,r)};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()}),Rb,Tb;function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Wb=!1,Pb=new Kb;function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(n){Qb(n)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];function dc(t,e,n,r){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var i=0;i<n.length;i++){var o=nb(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fc.prototype.a=null;var gc=0;function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}fc.prototype.reset=function(e,n,r,i,o){"number"==typeof o||gc++,i||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C("SEVERE",1e3),jc=new C("WARNING",900),kc=new C("INFO",800),lc=new C("CONFIG",700),mc=new C("FINE",500);function nc(t){return t.c?t.c:t.a?nc(t.a):(ma("Root logger has no level set."),null)}hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;function qc(t){var e;if(pc||(pc=new hc(""),oc[""]=pc,pc.c=lc),!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=qc(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function tc(t,e,n,r,i,o){F(t,function(){if(t.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}function uc(t,e,n,r,i,o,a){F(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}function G(t,e,n,r){F(t,function(){return"XMLHTTP TEXT ("+e+"): "+vc(t,n)+(r?" "+r:"")})}function wc(t,e){F(t,function(){return"TIMEOUT: "+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||"Exception",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var r=0;r<n.length;r++)if(p(n[r])){var i=n[r];if(!(2>i.length)){var o=i[1];if(p(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<o.length;s++)o[s]=""}}}return Db(n)}catch(u){return H(t,"Exception parsing expected JS array - probably was not JS"),e}}sc.prototype.Fa=function(){this.b=!1};var yc=new B;function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}Hc.prototype.a=null;var Lc={OPEN:"a",sb:"b",Va:"c",Bb:"d"},Oc;function Mc(){A.call(this,"d")}function Nc(){A.call(this,"c")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.b=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,r){this.i=t,this.b=e,this.c=n,this.T=r||1,this.L=new bc(this),this.R=Rc,this.S=new Xb(t=Na?125:void 0),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}u(Mc,A),u(Nc,A),u(Pc,Hc),Oc=new Pc;var Rc=45e3;function Sc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}var Tc={},Uc={};function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,r){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,r)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,"readystatechange",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),r=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=r?3:2),bd(t);var i=t.a.W();t.C=i,(n=t.a.V())||H(t.b,function(){return"No response text for uri "+t.g+" status "+i}),t.f=200==i,uc(t.b,t.o,t.g,t.c,t.T,e,i),t.f?((r=cd(t))&&(G(t.b,t.c,r,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,dd(t,r)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==i&&0<n.indexOf("Unknown SID")?(t.m=3,K(12),D(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,K(13),D(t.b.a,"XMLHTTP Bad status "+i+" ("+t.c+")")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,"X-HTTP-Initial-Response"))&&!xa(t)?t:null}function ed(t,e,n){for(var r=!0;!t.B&&t.G<n.length;){var i=jd(t,n);if(i==Uc){4==e&&(t.m=4,K(14),r=!1),G(t.b,t.c,null,"[Incomplete Response]");break}if(i==Tc){t.m=4,K(15),G(t.b,t.c,n,"[Invalid Chunk]"),r=!1;break}G(t.b,t.c,i,null),dd(t,i)}4==e&&0==n.length&&(t.m=1,K(16),r=!1),t.f=t.f&&r,r||(G(t.b,t.c,n,"[Invalid Chunked Response]"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,"tick",t.mb),t.S.start()}function jd(t,e){var n=t.G,r=e.indexOf("\n",n);return-1==r?Uc:(n=Number(e.substring(n,r)),isNaN(n)?Tc:(r+=1)+n>e.length?Uc:(e=e.substr(r,n),t.G=r+n,e))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&"function"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(n){xc(t.b,n,"Error in httprequest callback")}}function ld(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}return Da(t)}function md(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&"function"==typeof t.M)var n=t.M();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else n=Ea(t);i=(r=ld(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof O)for(n=t.M(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];P(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)P(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,"Throttling readystatechange."),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,"Called back with an unexpected xmlhttp")}catch(n){if(H(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;xc(this.b,n,function(){return"ResponseText: "+e.a.V()})}else xc(this.b,n,"No response text")}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,"Received watchdog timeout even though request loaded successfully"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,"WatchDog timer called too early"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var qd=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Q(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||"",!0),this.j=xd(n[2]||""),td(this,n[3]||"",!0),ud(this,n[4]),this.a=xd(n[5]||"",!0),vd(this,n[6]||"",!0),this.g=xd(n[7]||"")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,r){var i=new Q(null,void 0);return t&&sd(i,t),e&&td(i,e),n&&ud(i,n),r&&(i.a=r),i}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jd(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zd(e,Ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zd(n,Dd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var r=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\/\?@]/g,Cd=/[#\?:]/g,Bd=/[#\?]/g,Fd=/[#\?@]/g,Dd=/#/g;function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,r){ra(n,function(n){t.call(e,n,r,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,Md(this,t=Kd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return 0<(t=t?this.A(t):[]).length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.A(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Od=null;function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)H(t.b,function(){return"Buffered"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,"TYPE","xmlhttp");var r=t.a.j,i=t.a.K;r&&i&&R(n,r,i),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(t=t.a)){var n=id(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&((t=id(t,"X-HTTP-Session-Id"))?this.a.K=t:D(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var r=this.a.la.a.parse(e)}catch(i){return xc(this.b,i),void Vd(this.a,this)}this.g=r[0]}else H(this.b,"TestConnection: Null responseText"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):"11111"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,"TestConnection: request complete for initial check"),Sd(this)):1==this.P&&(H(this.b,"TestConnection: request complete for stage 2"),this.h?(H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0)):(H(this.b,"Test connection failed; not using streaming"),K(10),Td(this.a,this,!1))):(H(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;function be(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e)))}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var r=n||"";try{md(t,function(t,n){var i=t;ea(t)&&(i=Db(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function le(t,e){var n=new sc;H(n,"TestLoadImage: loading "+t);var r=new Image;r.onload=ja(me,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ja(me,n,r,"TestLoadImage: error",!1,e),r.onabort=ja(me,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ja(me,n,r,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function me(t,e,n,r,i){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){xc(t,o)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne="";T.prototype.b=qc("goog.net.XhrIo");var oe=/^https?$/i,pe=["POST","PUT"];function se(t){return z&&Va(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return"content-type"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ve(t){if(t.c&&void 0!==goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,"Local request error detected and ignored"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){E(t.b,U(t,"Request complete")),t.c=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(qd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}i=!oe.test(o?o.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,r=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ic,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+" ["+t.K+" "+t.B+" "+t.W()+"]"}function we(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function xe(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n("internalChannelParams.failFast",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n("internalChannelParams.baseRetryDelayMs",t)||5e3,this.$a=n("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Ya=n("internalChannelParams.forwardChannelMaxRetries",t)||2,this.wa=n("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,"disconnect()"),Ae(e),3==e.F){var n=e.R++,r=M(e.D);R(r,"SID",e.J),R(r,"RID",n),R(r,"TYPE","terminate"),Be(e,r),(n=new L(e,e.a,n,void 0)).J=2,n.h=Wc(M(r)),r=!1,k.navigator&&k.navigator.sendBeacon&&(r=k.navigator.sendBeacon(n.h.toString(),"")),!r&&k.Image&&((new Image).src=n.h,r=!0),r||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,"Unexpected retry request is scheduled."),!1):t.m?(H(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya)||(H(t.a,"Going to retry POST"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,0))}function Je(t,e){var n;n=e?e.c:t.R++;var r=M(t.D);R(r,"SID",t.J),R(r,"RID",n),R(r,"AID",t.N),Be(t,r),t.h&&t.i&&xe(r,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,r,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.ab,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?s.push("ofs="+(a=o[0].a)):a=0:s.push("ofs="+a);for(var u=!0,l=0;l<n;l++){var c=o[l].a,h=o[l].b;if(0>(c-=a))a=Math.max(0,o[l].a-100),u=!1;else try{ke(h,s,"req"+c+"_")}catch(f){i&&i(h)}}if(u){i=s.join("&");break t}}return t=t.g.splice(0,n),e.u=t,i}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,"Request already in progress"),!1):!(3<=t.B||(H(t.a,"Going to retry GET"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,0))}function Td(t,e,n){H(t.a,"Test Connection Finished");var r=e.l;r&&be(t.c,r),t.ka=n,t.u=e.f,H(t.a,"connectChannel_()"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(F(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var i=r(t.pb,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||sd(n,"https"),Wc(n)),le(n.toString(),i)}else K(2);H(t.a,"HttpChannel: error - "+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,"GetForwardChannelUri: "+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,"GetBackChannelUri: "+e),e}function Ne(t,e,n){var r=Hd(n);if(""!=r.b)e&&td(r,e+"."+r.b),ud(r,r.i);else{var i=k.location;r=Id(i.protocol,e?e+"."+i.hostname:i.hostname,i.port,n)}return t.U&&Ca(t.U,function(t,e){R(r,e,t)}),n=t.K,(e=t.j)&&n&&R(r,e,n),R(r,"VER",t.na),Be(t,r),r}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,"test"),this.c=qc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ea&&(t?t["X-WebChannel-Client-Profile"]=e.Ea:t={"X-WebChannel-Client-Profile":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,null!==(t=this.g)&&e in t&&(e in(t=this.g)&&delete t[e],D(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=Qc(this.s?this.s:Oc),this.D=Ic(this.s?this.s:Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(a){return E(this.b,U(this,"Error opening Xhr: "+a.message)),void qe(this,a)}t=n||"";var o=new O(this.headers);i&&md(i,function(t,e){o.set(e,t)}),i=sa(o.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(a){E(this.b,U(this,"Send error: "+a.message)),qe(this,a)}},g.Ka=function(){void 0!==goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(a){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(a){return E(this.b,"Can not get status: "+a.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(a){return E(this.b,"Can not get responseText: "+a.message),""}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(r){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,"startForwardChannel_"),1==this.F)if(t)J(this.a,"Not supposed to retry the open");else{H(this.a,"open_()"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?Ha(n=Fa(n),this.L):n=this.L),null===this.h&&(e.j=n);var r=Ie(this,e),i=M(this.D);R(i,"RID",t),R(i,"CVER",22),this.o&&this.j&&R(i,"X-HTTP-Session-Id",this.j),Be(this,i),this.h&&n&&xe(i,this.h,n),ce(this.c,e),this.va?(R(i,"$req",r),R(i,"SID","null"),e.X=!0,Vc(e,i,null)):Vc(e,i,r),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,"startForwardChannel_ returned: nothing to send"):de(this.c)?J(this.a,"startForwardChannel_ returned: connection already in progress"):(Je(this),H(this.a,"startForwardChannel_ finished, sent request")))},g.Pa=function(){this.l=null,H(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,"RID","rpc"),R(t,"SID",this.J),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.N),Be(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,"New Request created")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(a){n=null}if(p(n)&&3==n.length)if(0==(e=n)[0])t:if(H(this.a,"Server claims our backchannel is missing."),this.l)H(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,"We do not have a BackChannel established");Le(this),K(18)}else this.xa=e[1],0<(t=this.xa-this.N)&&(H(this.a,(e=e[2])+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,"Bad POST response data returned"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.N=i[0],i=i[1],2==this.F)if("c"==i[0]){this.J=i[1],this.X=i[2];var o=i[3];null!=o&&(this.na=o,F(this.a,"VER="+this.na)),null!=(o=i[4])&&(this.ya=o,F(this.a,"SVER="+this.ya)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.G=i*=1.5,F(this.a,"backChannelRequestTimeoutMs_="+i)),this.o&&(i=t.a)&&((o=id(i,"X-Client-Wire-Protocol"))&&be(this.c,o),this.j&&((i=id(i,"X-HTTP-Session-Id"))?(this.K=i,R(this.D,this.j,i)):D(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),i=t,this.ua=Ud(this,this.X,this.ja),i.v?(H(this.a,"Upgrade the handshake request to a backchannel."),fe(this.c,i),(o=this.G)&&i.setTimeout(o),i.s&&(bd(i),Zc(i)),this.b=i):Ke(this)}else"stop"!=i[0]&&"close"!=i[0]||V(this,7);else 3==this.F&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?V(this,7):ze(this):"noop"!=i[0]&&this.f&&this.f.Ca(i),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,"Request complete");var n=null;if(this.b==e){De(this),this.b=null;var r=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),r=1}if(this.u=e.C,0!=this.F)if(e.f)1==r?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var i=e.m;if(3==i||0==i&&0<this.u)H(this.a,"Not retrying due to error type");else{var o=this;if(H(this.a,function(){return"Maybe retrying, last error: "+Sc(i,o.u)}),1==r&&Ge(this,e)||2==r&&Le(this))return;H(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&he(this.c,n),H(this.a,"Error: HTTP request failed"),i){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,"Successfully pinged google.com"),K(2)):(F(this.a,"Failed to ping google.com"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new T(this.Ta)).o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,r){W.H.addEventListener.call(this,t,e,n,r)},g.removeEventListener=function(t,e,n,r){W.H.removeEventListener.call(this,t,e,n,r)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,r=this.g||void 0;H(t.a,"connect()"),K(0),t.ja=n,t.U=r||{},t.o&&(H(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),H(t.a,"connectTest_()"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),(t=t.C).m=n,e=Me(t.a,t.m),K(3),null!=(n=t.a.I.b)?(t.g=n[0],t.P=1,Sd(t)):($c(e,"MODE","init"),!t.a.o&&t.a.j&&$c(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?((e={}).__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Qe);function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze="[goog.structs.Pool] Min can not be greater than max";function af(t){if("function"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,r=0;r<e.length;r++)n.push(new bf(e[r],t[r]));break t}}else e=Ea(t),t=Da(t);for(r=0;r<e.length;r++)df(this,e[r],t[r])}}function df(t,e,n){var r=t.a;for(r.push(new bf(e,n)),n=(t=t.a)[e=r.length-1];0<e&&t[r=e-1>>1].a>n.a;)t[e]=t[r],e=r;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,r){this.l=t,this.j=!!r,Y.call(this,e,n)}g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return"function"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){if(!t)return Y.H.da.call(this);df(this.f,void 0!==e?e:100,t),this.ra()},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,r=n.a,i=r.length,o=r[0];if(0>=i)o=void 0;else{if(1==i)ua(r);else{r[0]=r.pop(),i=(n=n.a).length;for(var a=n[r=0];r<i>>1;){var s=2*r+1,u=2*r+2;if(n[s=u<i&&n[u].a<n[s].a?u:s].a>a.a)break;n[r]=n[s],r=s}n[r]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Kc.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},FYuM:function(t,e,n){var r=n("yNUO"),i=n("OBTA");t.exports=function(t,e){var n=r(t),o=Number(e)-(Math.floor(n.getMonth()/3)+1);return i(n,n.getMonth()+3*o)}},"G6+r":function(t,e,n){var r=n("x84W");t.exports=function(t,e,n){var i=r(t,n),o=r(e,n);return i.getTime()===o.getTime()}},GLf8:function(t,e,n){var r=n("crfB");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},GoQk:function(t,e,n){var r=n("yNUO");t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return r(t)}),e=Math.min.apply(null,t);return new Date(e)}},HMbd:function(t,e,n){var r=n("7B8A");t.exports=function(t,e){var n=Number(e);return r(t,36e5*n)}},ILER:function(t,e,n){var r=n("CXhC");t.exports=function(t){var e=new Date;return e.setDate(e.getDate()+1),r(t).getTime()===r(e).getTime()}},IpkJ:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setMilliseconds(0),e}},IxzM:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getSeconds()}},J6Hf:function(t,e,n){var r=n("iWRJ"),i=n("lwZq");t.exports=function(t,e){var n=Number(e);return i(t,r(t)+n)}},JQcg:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 1===r(t).getDay()}},JtXv:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getFullYear()===i.getFullYear()}},JxoX:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setMinutes(59,59,999),e}},K1fy:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 0===r(t).getDay()}},K2dx:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getTime()>(new Date).getTime()}},KoBQ:function(t,e,n){var r=n("mqoM");t.exports=function(t){return r(new Date,t)}},Kpyc:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getFullYear()-i.getFullYear()}},"L/99":function(t,e,n){var r=n("RJeW");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},L486:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setFullYear(i),n}},LSME:function(t,e,n){var r=n("G6+r");t.exports=function(t,e){return r(new Date,t,e)}},LZbM:function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var i;return r=r||{},i="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}}}},LxoM:function(t,e,n){var r=n("x84W");t.exports=function(t,e,n){var i=r(t,n),o=r(e,n),a=i.getTime()-6e4*i.getTimezoneOffset(),s=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((a-s)/6048e5)}},MNHD:function(t,e,n){var r=n("CXhC");t.exports=function(t){return r(t).getTime()===r(new Date).getTime()}},NAv5:function(t,e,n){t.exports={addDays:n("iUbB"),addHours:n("HMbd"),addISOYears:n("J6Hf"),addMilliseconds:n("7B8A"),addMinutes:n("crfB"),addMonths:n("ZmXw"),addQuarters:n("9d03"),addSeconds:n("rxuJ"),addWeeks:n("eoPS"),addYears:n("/LN1"),areRangesOverlapping:n("6qX0"),closestIndexTo:n("f9gI"),closestTo:n("T2d4"),compareAsc:n("DT56"),compareDesc:n("yHON"),differenceInCalendarDays:n("1CCG"),differenceInCalendarISOWeeks:n("gtzP"),differenceInCalendarISOYears:n("+f+M"),differenceInCalendarMonths:n("sunR"),differenceInCalendarQuarters:n("+zZ+"),differenceInCalendarWeeks:n("LxoM"),differenceInCalendarYears:n("Kpyc"),differenceInDays:n("O8cK"),differenceInHours:n("0u2M"),differenceInISOYears:n("s/X6"),differenceInMilliseconds:n("54Wo"),differenceInMinutes:n("ZXDK"),differenceInMonths:n("F809"),differenceInQuarters:n("gwEV"),differenceInSeconds:n("4Toj"),differenceInWeeks:n("7pFD"),differenceInYears:n("b8ws"),distanceInWords:n("NmtT"),distanceInWordsStrict:n("u3z5"),distanceInWordsToNow:n("YlT8"),eachDay:n("xMJQ"),endOfDay:n("l0SJ"),endOfHour:n("JxoX"),endOfISOWeek:n("QXXb"),endOfISOYear:n("hh1I"),endOfMinute:n("OsOA"),endOfMonth:n("1vin"),endOfQuarter:n("NpEG"),endOfSecond:n("FF6D"),endOfToday:n("dEPG"),endOfTomorrow:n("b056"),endOfWeek:n("dJQg"),endOfYear:n("2XXS"),endOfYesterday:n("5R0t"),format:n("cPJV"),getDate:n("tg+8"),getDay:n("wrXb"),getDayOfYear:n("WA8B"),getDaysInMonth:n("VBar"),getDaysInYear:n("3d+l"),getHours:n("XZVX"),getISODay:n("hLnY"),getISOWeek:n("gfz1"),getISOWeeksInYear:n("O3uf"),getISOYear:n("iWRJ"),getMilliseconds:n("jIFe"),getMinutes:n("xYlI"),getMonth:n("czgO"),getOverlappingDaysInRanges:n("Yzd8"),getQuarter:n("uPm0"),getSeconds:n("IxzM"),getTime:n("kC7l"),getYear:n("EMgV"),isAfter:n("pDEI"),isBefore:n("a4+5"),isDate:n("pzWd"),isEqual:n("q9S1"),isFirstDayOfMonth:n("NT44"),isFriday:n("qFJL"),isFuture:n("K2dx"),isLastDayOfMonth:n("Pu5f"),isLeapYear:n("rMQs"),isMonday:n("JQcg"),isPast:n("qTUo"),isSameDay:n("/Tkk"),isSameHour:n("Zipn"),isSameISOWeek:n("zM65"),isSameISOYear:n("L/99"),isSameMinute:n("9WSG"),isSameMonth:n("WmBB"),isSameQuarter:n("mqoM"),isSameSecond:n("xq5I"),isSameWeek:n("G6+r"),isSameYear:n("JtXv"),isSaturday:n("SKYL"),isSunday:n("K1fy"),isThisHour:n("AVfB"),isThisISOWeek:n("zGRt"),isThisISOYear:n("l6+5"),isThisMinute:n("PvkQ"),isThisMonth:n("m7nI"),isThisQuarter:n("KoBQ"),isThisSecond:n("5iAy"),isThisWeek:n("LSME"),isThisYear:n("9m1m"),isThursday:n("Wjgk"),isToday:n("MNHD"),isTomorrow:n("ILER"),isTuesday:n("dgaN"),isValid:n("fupu"),isWednesday:n("yYDL"),isWeekend:n("mthE"),isWithinRange:n("9WoD"),isYesterday:n("xPkr"),lastDayOfISOWeek:n("UpIE"),lastDayOfISOYear:n("3hPP"),lastDayOfMonth:n("7KIa"),lastDayOfQuarter:n("zj0I"),lastDayOfWeek:n("y5a+"),lastDayOfYear:n("uKeJ"),max:n("leoV"),min:n("GoQk"),parse:n("yNUO"),setDate:n("lX9Q"),setDay:n("t4rR"),setDayOfYear:n("lTB2"),setHours:n("bwD0"),setISODay:n("+nbD"),setISOWeek:n("5z3u"),setISOYear:n("lwZq"),setMilliseconds:n("1HMO"),setMinutes:n("iu1C"),setMonth:n("OBTA"),setQuarter:n("FYuM"),setSeconds:n("kRN8"),setYear:n("L486"),startOfDay:n("CXhC"),startOfHour:n("+6+2"),startOfISOWeek:n("tMf1"),startOfISOYear:n("RJeW"),startOfMinute:n("6WtA"),startOfMonth:n("lCuP"),startOfQuarter:n("Q5nM"),startOfSecond:n("IpkJ"),startOfToday:n("PK5m"),startOfTomorrow:n("gUhM"),startOfWeek:n("x84W"),startOfYear:n("pLeS"),startOfYesterday:n("aTp7"),subDays:n("4v8u"),subHours:n("+5jU"),subISOYears:n("3zVU"),subMilliseconds:n("uttN"),subMinutes:n("GLf8"),subMonths:n("Ev1t"),subQuarters:n("1K6H"),subSeconds:n("g/AU"),subWeeks:n("4coB"),subYears:n("iQJf")}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o,a,s,u,l,c,h,f,p,d,m=n("zVF4"),g=n("q/0M"),y=n("mAIw"),v=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,b=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),m.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:m.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),_=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return m.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),w=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new b(e)}}catch(n){}return new _},E=w("localStorage"),C=w("sessionStorage"),S=new g.Logger("@firebase/database"),T=(i=1,function(){return i++}),I=function(t){var e=m.stringToByteArray(t),n=new m.Sha1;n.update(e);var r=n.digest();return m.base64.encodeByteArray(r)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=k.apply(null,t[r]):n+="object"==typeof t[r]?m.stringify(t[r]):t[r],n+=" ";return n},D=null,x=!0,O=function(t,e){m.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(S.logLevel=g.LogLevel.VERBOSE,D=S.log.bind(S),e&&C.set("logging_enabled",!0)):"function"==typeof t?D=t:(D=null,C.remove("logging_enabled"))},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===x&&(x=!1,null===D&&!0===C.get("logging_enabled")&&O(!0)),D){var n=k.apply(null,t);D(n)}},N=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];A.apply(void 0,[t].concat(e))}},R=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+k.apply(void 0,t);S.error(n)},P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+k.apply(void 0,t);throw S.error(n),new Error(n)},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+k.apply(void 0,t);S.warn(n)},L=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},F="[MIN_NAME]",V="[MAX_NAME]",U=function(t,e){if(t===e)return 0;if(t===F||e===V)return-1;if(e===F||t===V)return 1;var n=K(t),r=K(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},j=function(t,e){return t===e?0:t<e?-1:1},B=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+m.stringify(e))},q=function(t){if("object"!=typeof t||null===t)return m.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=m.stringify(e[i]),r+=":",r+=q(t[e[i]]);return r+"}"},H=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r},W=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else m.forEach(t,function(t,n){return e(n,t)})},z=function(t){var e,n,r,i,o,a,s;for(m.assert(!L(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var l=parseInt(s.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},G=new RegExp("^-?\\d{1,10}$"),K=function(t){if(G.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Q=function(t){try{t()}catch(e){setTimeout(function(){throw M("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=U(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=m.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=m.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=m.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Z="long_polling",tt=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=E.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&E.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(m.assert("string"==typeof t,"typeof type must == string"),m.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==Z)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return m.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),et=function(t){var e=nt(t),n=e.subdomain;return"firebase"===e.domain&&P(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||P("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme),path:new X(e.pathString)}},nt=function(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var l=t.indexOf("/");-1===l&&(l=t.length);var c=t.indexOf("?");-1===c&&(c=t.length),e=t.substring(0,Math.min(l,c)),l<c&&(i=function(e){for(var n="",r=t.substring(l,c).split("/"),i=0;i<r.length;i++)if(r[i].length>0){var o=r[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(a){}n+="/"+o}return n}());var h=function(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):M("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}(t.substring(Math.min(t.length,c)));(u=e.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var f=e.split(".");3===f.length?(n=f[1],r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:e,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},rt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,ot=function(t){return"string"==typeof t&&0!==t.length&&!rt.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!L(t)||t&&"object"==typeof t&&m.contains(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||lt(m.errorPrefix(t,e,i),n,r)},lt=function(t,e,n){var r=n instanceof X?new J(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(L(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&m.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(m.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ot(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),lt(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ct=function(t,e,n,r,i){if(!i||void 0!==n){var o=m.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];m.forEach(n,function(t,e){var n=new X(t);if(lt(o,e,r.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ot(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},ht=function(t,e,n,r){if(!r||void 0!==n){if(L(n))throw new Error(m.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(m.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(m.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,r){if(!(r&&void 0===n||ot(n)))throw new Error(m.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(m.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},gt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ot(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(m.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){m.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),m.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new m.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){m.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),m.validateCallback("OnDisconnect.remove",1,t,!0);var e=new m.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){m.validateArgCount("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),m.validateCallback("OnDisconnect.set",2,e,!0);var n=new m.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){m.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),ht("OnDisconnect.setWithPriority",2,e,!1),m.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new m.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(m.validateArgCount("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("OnDisconnect.update",1,t,this.path_,!1),m.validateCallback("OnDisconnect.update",2,e,!0);var i=new m.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),vt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return m.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(o="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",a=0,s=[],function(t){var e,n=t===a;a=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=o.charAt(t%64),t=Math.floor(t/64);m.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===s[e];e--)s[e]=0;s[e]++}else for(e=0;e<12;e++)s[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=o.charAt(s[e]);return m.assert(20===i.length,"nextPushId: Length should be 20."),i}),_t=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),wt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new _t(F,t),r=new _t(F,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return _t.MIN},t}(),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return U(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw m.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(V,u)},e.prototype.makePost=function(t,e){return m.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,u)},e.prototype.toString=function(){return".key"},e}(wt),Ct=new Et,St=function(t){return"number"==typeof t?"number:"+z(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();m.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&m.contains(e,".sv"),"Priority must be a string or number.")}else m.assert(t===l||t.isEmpty(),"priority of unexpected type.");m.assert(t===l||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},It=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,m.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(m.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?z(this.value_):this.value_,this.lazyHash_=I(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(m.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return m.assert(i>=0,"Unknown leaf type: "+n),m.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?U(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return new _t(V,new It("[PRIORITY-POST]",f))},e.prototype.makePost=function(t,e){var n=h(t);return new _t(e,new It("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(wt)),Dt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:At.EMPTY_NODE,this.right=null!=o?o:At.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return At.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return At.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ot=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),At=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ot,t}(),Nt=Math.log(2),Rt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Nt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Pt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new xt(a,o.node,xt.BLACK,null,null);var u=parseInt(s/2,10)+e,l=i(e,u),c=i(u+1,r);return o=t[u],a=n?n(o):o,new xt(a,o.node,xt.BLACK,l,c)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var l=i(o+1,s),c=t[o],h=n?n(c):c;u(new xt(h,c.node,r,null,l))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},l=0;l<e.count;++l){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));c?s(h,xt.BLACK):(s(h,xt.BLACK),s(h,xt.RED))}return o}(new Rt(t.length));return new At(r||e,o)},Mt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return m.assert(Mt&&kt,"ChildrenNode.ts has not been loaded"),p=p||new t({".priority":Mt},{".priority":kt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=m.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Mt?null:e},t.prototype.hasIndex=function(t){return m.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){m.assert(e!==Ct,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(_t.Wrap),s=a.getNext();s;)o=o||e.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Pt(i,e.getCompare()):Mt;var u=e.toString(),l=m.clone(this.indexSet_);l[u]=e;var c=m.clone(this.indexes_);return c[u]=r,new t(c,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(m.map(this.indexes_,function(t,i){var o=m.safeGet(r.indexSet_,i);if(m.assert(o,"Missing index implementation for "+i),t===Mt){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(_t.Wrap),u=s.getNext();u;)u.name!=e.name&&a.push(u),u=s.getNext();return a.push(e),Pt(a,o.getCompare())}return Mt}var l=n.get(e.name),c=t;return l&&(c=c.remove(new _t(e.name,l))),c.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(m.map(this.indexes_,function(t){if(t===Mt)return t;var r=n.get(e.name);return r?t.remove(new _t(e.name,r)):t}),this.indexSet_)},t}();function Ft(t,e){return U(t.name,e.name)}function Vt(t,e){return U(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&m.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return d||(d=new t(new At(Vt),null,Lt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||d},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?d:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(m.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i=new _t(e,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?d:this.priorityNode_,new t(o,r,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;m.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(kt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":I(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new _t(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,_t.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,_t.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===jt?-1:0},t.prototype.withIndex=function(e){if(e===Ct||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ct||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(kt),r=e.getIterator(kt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ct?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),jt=new(function(t){function e(){return t.call(this,new At(Vt),Ut.EMPTY_NODE,Lt.Default)||this}return y.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));Object.defineProperties(_t,{MIN:{value:new _t(F,Ut.EMPTY_NODE)},MAX:{value:new _t(V,jt)}}),Et.__EMPTY_NODE=Ut.EMPTY_NODE,It.__childrenNodeConstructor=Ut,l=jt,f=jt;var Bt=!0;function qt(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),m.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new It(t,qt(e));if(t instanceof Array||!Bt){var n=Ut.EMPTY_NODE,r=t;return m.forEach(r,function(t,e){if(m.contains(r,t)&&"."!==t.substring(0,1)){var i=qt(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(qt(e))}var i=[],o=!1,a=t;if(m.forEach(a,function(t,e){if("string"!=typeof t||"."!==t.substring(0,1)){var n=qt(a[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new _t(t,n)))}}),0==i.length)return Ut.EMPTY_NODE;var s=Pt(i,Ft,function(t){return t.name},Vt);if(o){var u=Pt(i,kt.getCompare());return new Ut(s,qt(e),new Lt({".priority":u},{".priority":kt}))}return new Ut(s,qt(e),Lt.Default)}h=qt;var Ht,Wt,zt,Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?U(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return _t.MIN},e.prototype.maxPost=function(){return _t.MAX},e.prototype.makePost=function(t,e){var n=qt(t);return new _t(e,n)},e.prototype.toString=function(){return".value"},e}(wt)),Kt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,m.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return y.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?U(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qt(t),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new _t(e,r)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,jt);return new _t(V,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(wt),Qt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return m.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return m.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return m.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return m.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){m.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),dt("DataSnapshot.child",1,e,!1);var n=new X(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,kt)},t.prototype.hasChild=function(t){m.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),dt("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return m.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return m.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),m.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),kt))})},t.prototype.hasChildren=function(){return m.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return m.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return m.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Yt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+m.stringify(this.snapshot.exportVal())},t}(),$t=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Xt=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Yt("value",this,new Qt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){m.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Jt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return m.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new $t(this,t,e):null},t.prototype.createEvent=function(t,e){m.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Yt(t.type,this,new Qt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){m.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=m.getCount(e.callbacks_);if(n===m.getCount(this.callbacks_)){if(1===n){var r=m.getAnyKey(e.callbacks_),i=m.getAnyKey(this.callbacks_);return!(i!==r||e.callbacks_[r]&&this.callbacks_[i]&&e.callbacks_[r]!==this.callbacks_[i])}return m.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Zt=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return m.assert(Ht,"Reference.ts has not been loaded"),Ht},set:function(t){Ht=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ct){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=F)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=V)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===kt){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m.assert(t.getIndex()instanceof Kt||t.getIndex()===Gt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return m.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){m.validateArgCount("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),m.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Xt(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Jt(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){m.validateArgCount("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),m.validateCallback("Query.off",2,e,!0),m.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Xt(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new Jt(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;m.validateArgCount("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),m.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new m.Deferred;u.promise.catch(function(){});var l=function(t){s&&(s=!1,o.off(e,l),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,l,function(t){o.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(m.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(m.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(m.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');dt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Kt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){m.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){m.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){m.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),m.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),m.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(m.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return m.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return m.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=q(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(m.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,m.validateCallback(t,3,r.cancel,!0),r.context=n,m.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(m.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),te=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return m.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return m.isEmpty(this.set)},t.prototype.count=function(){return m.getCount(this.set)},t.prototype.each=function(t){m.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return m.forEach(this.set,function(e){t.push(e)}),t},t}(),ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();return t=t.popFront(),this.children_.contains(e)?this.children_.get(e).find(t):null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new te);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(kt,function(t,e){n.remember(new X(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();return t=t.popFront(),this.children_.contains(r)&&this.children_.get(r).forget(t)&&this.children_.remove(r),!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new X(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),ne=function(t,e){return t&&"object"==typeof t?(m.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},re=function(t,e){var n,r=t.getPriority().val(),i=ne(r,e);if(t.isLeafNode()){var o=t,a=ne(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new It(a,qt(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new It(i))),s.forEachChild(kt,function(t,r){var i=re(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n},ie=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),oe=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,m.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ae=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ie.ACK_USER_WRITE,this.source=oe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return m.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return m.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),se=function(){return Wt||(Wt=new At(j)),Wt},ue=function(){function t(t,e){void 0===e&&(e=se()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return m.forEach(e,function(t,e){n=n.set(new X(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new X(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),le=function(){function t(t,e){this.source=t,this.path=e,this.type=ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),ce=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ie.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ie.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new ce(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return m.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),fe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),pe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new fe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new fe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new fe(Ut.EMPTY_NODE,!1,!1),new fe(Ut.EMPTY_NODE,!1,!1)),t}(),de=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),me=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){m.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(de.childRemovedChange(e,a)):m.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(de.childAddedChange(e,n)):o.trackChildChange(de.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(kt,function(t,r){e.hasChild(t)||n.trackChildChange(de.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(kt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de.childChangedChange(e,r,i))}else n.trackChildChange(de.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ge=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;m.assert(e==de.CHILD_ADDED||e==de.CHILD_CHANGED||e==de.CHILD_REMOVED,"Only child changes supported for tracking"),m.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=m.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==de.CHILD_ADDED&&i==de.CHILD_REMOVED)this.changeMap_[n]=de.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==de.CHILD_REMOVED&&i==de.CHILD_ADDED)delete this.changeMap_[n];else if(e==de.CHILD_REMOVED&&i==de.CHILD_CHANGED)this.changeMap_[n]=de.childRemovedChange(n,r.oldSnap);else if(e==de.CHILD_CHANGED&&i==de.CHILD_ADDED)this.changeMap_[n]=de.childAddedChange(n,t.snapshotNode);else{if(e!=de.CHILD_CHANGED||i!=de.CHILD_CHANGED)throw m.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=de.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return m.getValues(this.changeMap_)},t}(),ye=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),ve=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new fe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),be=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),_e=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){m.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),m.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new ge;if(n.type===ie.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(m.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===ie.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,s):(m.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,a,s))}else if(n.type===ie.ACK_USER_WRITE){var c=n;o=c.revert?this.revertUserWrite_(e,c.path,r,i,s):this.ackUserWrite_(e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==ie.LISTEN_COMPLETE)throw m.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var h=s.getChanges();return t.maybeAddValueEvent_(e,o,h),new be(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(de.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(m.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(u instanceof Ut?u:Ut.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var c=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),c,i)}else{var h=e.getFront();if(".priority"==h){m.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();s=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,s);a=null!=p?this.filter_.updatePriority(f,p):o.getNode()}else{var d=e.popFront(),g=void 0;if(o.isCompleteForChild(h)){s=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);g=null!=y?o.getNode().getImmediateChild(h).updateChild(d,y):o.getNode().getImmediateChild(h)}else g=n.calcCompleteChild(h,t.getServerCache());a=null!=g?this.filter_.updateChild(o.getNode(),h,g,d,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=l.updateFullNode(u.getNode(),n,null);else if(l.filtersNodes()&&!u.isFiltered()){var c=u.getNode().updateChild(e,n);s=l.updateFullNode(u.getNode(),c,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"==h?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),h,p,f,ye,null)}var d=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),m=new ve(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,m,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),l=new ve(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var c=e.getFront();if(".priority"===c)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(c),p=void 0;if(h.isEmpty())p=n;else{var d=l.getCompleteChild(c);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Ut.EMPTY_NODE}if(f.equals(p))a=t;else{var m=this.filter_.updateChild(u.getNode(),c,p,h,l,o);a=t.updateEventSnap(m,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())&&(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),r.foreach(function(r,l){var c=n.child(r);t.cacheHasChild_(e,c.getFront())||(u=s.applyUserOverwrite_(u,c,l,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,l=t;u=e.isEmpty()?n:ue.Empty.setTree(e,n);var c=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(c.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);l=s.applyServerOverwrite_(l,new X(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!c.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);l=s.applyServerOverwrite_(l,new X(e),f,r,i,o,a)}}),l},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=ue.Empty;return s.getNode().forEachChild(Ct,function(t,e){u=u.set(new X(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var l=ue.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(l=l.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,l,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,ye,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new ve(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var c=t.getServerCache().getNode();m.assert(c instanceof Ut,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(c)}u=this.filter_.updateFullNode(s,l=l,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=s.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(s,h,f,e.popFront(),a,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(s,h,Ut.EMPTY_NODE,e.popFront(),a,i):s).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),we=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===de.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(de.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,de.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,de.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,de.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,de.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,de.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw m.assertionError("Should only compare child_ events.");var n=new _t(t.childName,t.snapshotNode),r=new _t(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new me(n.getIndex()),i=n.getNodeFilter();this.processor_=new _e(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Ut.EMPTY_NODE,a.getNode(),null),l=new fe(s,o.isFullyInitialized(),r.filtersNodes()),c=new fe(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new pe(c,l),this.eventGenerator_=new we(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){m.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ie.MERGE&&null!==t.source.queryId&&(m.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),m.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),m.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(kt,function(t,e){n.push(de.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(de.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ce=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return m.assert(zt,"Reference.ts has not been loaded"),zt},set:function(t){m.assert(!zt,"__referenceConstructor has already been defined"),zt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return m.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=m.safeGet(this.views_,r);return m.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return m.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=m.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Ut?(s=n.calcCompleteEventChildren(r),u=!1):(s=Ut.EMPTY_NODE,u=!1);var l=new pe(new fe(s,u,!1),new fe(r,i,!1));a=new Ee(t,l),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var u=this;m.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var l=m.safeGet(this.views_,i);l&&(a=a.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[i],l.getQuery().getQueryParams().loadsAllData()||o.push(l.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return m.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return m.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return m.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Se=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new ue(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=X.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new ue(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return m.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,ue.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(kt,function(e,n){t.push(new _t(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new _t(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new ue(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(X.Empty,this.writeTree_,e)},t.Empty=new t(new ue(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(m.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Te=function(){function t(){this.visibleWrites_=Se.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ie(t,this)},t.prototype.addOverwrite=function(t,e,n,r){m.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){m.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});m.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):m.forEach(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||Ut.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(X.Empty)?s.apply(n||Ut.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(kt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(kt,function(t,e){var r=i.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){m.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(X.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var l=[],c=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&l.length<r;)0!==c(f,n)&&l.push(f),f=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!m.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Se.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=X.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=X.relativePath(a,n),r=r.addWrite(X.Empty,o.snap.getChild(s)));else{if(!o.children)throw m.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=X.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if((s=X.relativePath(a,n)).isEmpty())r=r.addWrites(X.Empty,o.children);else{var u=m.safeGet(o.children,s.getFront());if(u){var l=u.getChild(s.popFront());r=r.addWrite(X.Empty,l)}}}}}return r},t}(),Ie=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),ke=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=ue.Empty,this.pendingWriteTree_=new Te,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new ce(oe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=ue.fromObject(e);return this.applyOperationToSyncPoints_(new he(oe.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=ue.Empty;return null!=n.snap?r=r.set(X.Empty,!0):m.forEach(n.children,function(t,e){r=r.set(new X(t),e)}),this.applyOperationToSyncPoints_(new ae(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new ce(oe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=ue.fromObject(e);return this.applyOperationToSyncPoints_(new he(oe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new le(oe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=X.relativePath(a,e),l=new ce(oe.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=X.relativePath(a,e),l=ue.fromObject(n),c=new he(oe.forServerTaggedQuery(s),u,l);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=X.relativePath(o,e),u=new le(oe.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=X.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a,s=this.syncPointTree_.get(r);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(X.Empty)):(s=new Ce,this.syncPointTree_=this.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=Ut.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(i=i.updateImmediateChild(t,n))}));var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);m.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var c=t.getNextQueryTag_();this.queryToTagMap_[l]=c,this.tagToQueryMap_["_"+c]=l}var h=this.pendingWriteTree_.childWrites(r),f=s.addEventRegistration(e,n,h,i,a);if(!u&&!o){var p=s.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=u.removed;s=u.events;var c=-1!==l.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(c&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var m=p[d],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&l.length>0&&!r&&(c?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(l)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=X.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),m.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)m.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),m.forEach(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var c=u[l];this.listenProvider_.stopListening(t.queryForListening_(c),this.tagForQuery_(c))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return m.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return m.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);m.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(X.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(X.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,l,c))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),l=t.operationForChild(e);l&&(a=a.concat(i.applyOperationDescendantsHelper_(l,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),De=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),xe=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(A("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';M(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Oe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),m.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return m.deepCopy(this.counters_)},t}(),Ae=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Oe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ne=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=m.clone(t);return this.last_&&m.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Re=1e4,Pe=3e4,Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);var n=Re+(Pe-Re)*Math.random();$(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;m.forEach(e,function(e,i){i>0&&m.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Le=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();D&&A("event: "+e.toString()),Q(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ve=function(){function t(t){this.allowedEvents_=t,this.listeners_={},m.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){m.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ue=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return y.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return m.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ve),je=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||m.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return y.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return m.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ve),Be=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),qe="pLPCommand",He="pRTLPCB",We=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N(t),this.stats_=Ae.getCollection(e),this.urlFn=function(t){return e.connectionURL(Z,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Be(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(m.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new ze(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!m.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!m.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=m.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=m.base64Encode(e),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!m.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=m.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),ze=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new te,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,m.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=T(),window[qe+this.uniqueCallbackIdentifier]=e,window[He+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){A("frame writing exception"),s.stack&&A(s.stack),A(s)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||A("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),m.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;m.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){A("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),Ge=null;"undefined"!=typeof MozWebSocket?Ge=MozWebSocket:"undefined"!=typeof WebSocket&&(Ge=WebSocket);var Ke=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N(this.connId),this.stats_=Ae.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!m.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,E.set("previous_websocket_failure",!0);try{if(m.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+v.SDK_VERSION+"/"+process.platform+"/"+(m.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Ge(this.connURL,[],r)}else this.mySock=new Ge(this.connURL)}catch(s){this.log_("Error instantiating WebSocket.");var a=s.message||s.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Ge&&!t.forceDisallow_},t.previouslyFailed=function(){return E.isInMemoryStorage||!0===E.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){E.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=m.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(m.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=m.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=H(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Qe=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[We,Ke]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Ke&&Ke.isAvailable(),r=n&&!Ke.previouslyFailed();if(e.webSocketOnly&&(n||M("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ke];else{var i=this.transports_=[];W(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N("c:"+this.id+":"),this.transportManager_=new Qe(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=$(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=B("t",t),n=B("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=B("t",t),n=B("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=B("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?R("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):R("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&M("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(E.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),$e=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Xe=1e3,Je=3e5,Ze=function(t){function e(n,r,i,o,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=N("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Xe,u.maxReconnectDelay_=Je,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!m.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Ue.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&je.getInstance().on("online",u.onOnline_,u),u}return y.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(m.stringify(i)),m.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},m.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),m.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&m.contains(t,"w")){var n=m.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();M("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||m.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=m.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),m.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+m.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):R("Unrecognized action received from server: "+m.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;m.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xe),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,r())};this.realtime_={close:l,sendRequest:function(t){m.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(c).then(function(e){s?A("getToken() completed but was canceled"):(A("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new Ye(i,o.repoInfo_,t,n,r,function(t){M(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),s||(m.CONSTANTS.NODE_ADMIN&&M(t),l())})}},e.prototype.interrupt=function(t){A("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){A("Resuming connection for reason: "+t),delete this.interruptReasons_[t],m.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Xe,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return q(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new X(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===m.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){A("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),m.forEach(this.listens_,function(e,n){m.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";m.CONSTANTS.NODE_ADMIN?e="admin_node":m.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+v.SDK_VERSION.replace(/\./g,"-")]=1,m.isMobileCordova()?t["framework.cordova"]=1:m.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=je.getInstance().currentlyOnline();return m.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}($e),tn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=N("p:rest:"),i.listens_={},i}return y.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(m.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),m.safeGet(o.listens_,s)===u&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+m.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=m.jsonEval(s.responseText)}catch(e){M("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&M("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}($e),en=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Le,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ee,this.persistentConnection_=null;var i=new xe(n);if(this.stats_=Ae.getCollection(t),e||Y())this.server_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{m.stringify(o)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}this.persistentConnection_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=Ae.getOrCreateReporter(t,function(){return new Me(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new De,this.infoSyncTree_=new ke({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new ke({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=m.map(e,function(t){return qt(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=qt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var u=m.map(e,function(t){return qt(t)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=qt(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var c=i;o.length>0&&(c=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(c,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;W(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),r=qt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=qt(e,n),s=re(a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||M("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var c=this.abortTransactions_(t);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(m.forEach(e,function(t,e){i=!1;var n=qt(e);a[t]=re(n,o)}),i)A("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||M("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)}),m.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new ee;return t.forEachTree(new X(""),function(t,r){n.remember(t,re(r,e))}),n}(this.onDisconnect_,e),r=[];n.forEachTree(X.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new ee,this.eventQueue_.raiseEventsForChangedPath(X.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(m.isEmpty(e))return A("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&m.forEach(e,function(e,n){var i=qt(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ne(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);m.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),A.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Q(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new fn(this))},enumerable:!0,configurable:!0}),t}(),nn=function(){function t(e){this.indexedFilter_=new me(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new _t(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);var i=this;return e.forEachChild(kt,function(t,e){i.matches(new _t(t,e))||(r=r.updateImmediateChild(t,Ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),rn=function(){function t(t){this.rangedFilter_=new nn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new _t(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Ut.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;m.assert(s.numChildren()==this.limit_,"");var u=new _t(e,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var h=s.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name==e||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(c&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(de.childChangedChange(e,n,h)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(de.childRemovedChange(e,h));var d=s.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(de.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(de.childRemovedChange(l.name,l.node)),i.trackChildChange(de.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(l.name,Ut.EMPTY_NODE)):t},t}(),on=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return m.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return m.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return m.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return m.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return m.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==kt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==kt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new me(this.getIndex()):this.hasLimit()?new rn(this):new nn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===kt?e=n.PRIORITY_INDEX:this.index_===Gt?e=n.VALUE_INDEX:this.index_===Ct?e=n.KEY_INDEX:(m.assert(this.index_ instanceof Kt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=m.stringify(e),this.startSet_&&(r[n.START_AT]=m.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+m.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=m.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+m.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),an=function(t){function e(e,n){if(!(e instanceof en))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,on.DEFAULT,!1)||this}return y.__extends(e,t),e.prototype.getKey=function(){return m.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return m.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dt("Reference.child",1,n,!1)}(0,0,t):dt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){m.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){m.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){m.validateArgCount("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),m.validateCallback("Reference.set",2,e,!0);var n=new m.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(m.validateArgCount("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ct("Reference.update",1,t,this.path,!1),m.validateCallback("Reference.update",2,e,!0);var i=new m.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(m.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),ht("Reference.setWithPriority",2,e,!1),m.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new m.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return m.validateArgCount("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),m.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(m.validateArgCount("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),m.validateCallback("Reference.transaction",1,t,!1),m.validateCallback("Reference.transaction",2,e,!0),function(t,e,r,i){if(void 0!==n&&"boolean"!=typeof n)throw new Error(m.errorPrefix("Reference.transaction",3,!0)+"must be a boolean.")}(),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new m.Deferred;return"function"==typeof e&&r.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new vt(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){m.validateArgCount("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),ht("Reference.setPriority",1,t,!1),m.validateCallback("Reference.setPriority",2,e,!0);var n=new m.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){m.validateArgCount("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),m.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=bt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new yt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Zt);Zt.__referenceConstructor=an,Ce.__referenceConstructor=an;var sn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),un=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new sn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof X?e:new X(e),i=this;null!==(n=r.getFront());)i=new t(n,i,m.safeGet(i.node_.children,n)||new sn),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){m.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;m.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=m.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),ln=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});en.MAX_TRANSACTION_RETRIES_=25,en.prototype.transactions_init_=function(){this.transactionQueueTree_=new un},en.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new an(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:T(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=this.getLatestState_(t);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Qt(a.currentInputSnapshot,new an(this,a.path),kt);a.onComplete(null,!1,l)}}else{lt("transaction failed: Data returned ",u,a.path),a.status=ln.RUN;var c=this.transactionQueueTree_.subTree(t),h=c.getValue()||[];h.push(a),c.setValue(h);var f=void 0;"object"==typeof u&&null!==u&&m.contains(u,".priority")?(f=m.safeGet(u,".priority"),m.assert(st(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val(),f=f;var p=this.generateServerValues(),d=qt(u,f),g=re(d,p);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,g,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},en.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},en.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);m.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===ln.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},en.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];m.assert(u.status===ln.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=ln.SENT,u.retryCount++;var l=X.relativePath(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;this.server_.put(h.toString(),c,function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=ln.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new an(n,e[a].path),l=new Qt(s,u,kt);o.push(e[a].onComplete.bind(null,null,!0,l))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)Q(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===ln.SENT_NEEDS_ABORT?ln.NEEDS_ABORT:ln.RUN;else for(M("transaction at "+h.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=ln.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},a)},en.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},en.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===ln.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var a=t[o],s=X.relativePath(e,a.path),u=!1,l=void 0;if(m.assert(null!==s,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===ln.NEEDS_ABORT)u=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===ln.RUN)if(a.retryCount>=en.MAX_TRANSACTION_RETRIES_)u=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var c=this.getLatestState_(a.path,i);a.currentInputSnapshot=c;var h=t[o].update(c.val());if(void 0!==h){lt("transaction failed: Data returned ",h,a.path);var f=qt(h);"object"==typeof h&&null!=h&&m.contains(h,".priority")||(f=f.updatePriority(c.getPriority()));var p=a.currentWriteId,d=this.generateServerValues(),g=re(f,d);a.currentOutputSnapshotRaw=f,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[o].status=ln.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===l){var y=new an(this,t[o].path),v=new Qt(t[o].currentInputSnapshot,y,kt);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Q(n[o]);this.sendReadyTransactions_()}},en.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},en.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},en.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},en.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==ln.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},en.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},en.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===ln.SENT_NEEDS_ABORT||(e[o].status===ln.SENT?(m.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=ln.SENT_NEEDS_ABORT,e[o].abortReason="set"):(m.assert(e[o].status===ln.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Q(n[o])}};var cn,hn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return cn||(cn=new t),cn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&P("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=et(n),i=r.repoInfo;return gt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||P("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=m.safeGet(this.repos_,t.app.name);e&&m.safeGet(e,t.repoInfo_.toURLString())===t||P("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=m.safeGet(this.repos_,e.name);n||(this.repos_[e.name]=n={});var r=m.safeGet(n,t.toURLString());return r&&P("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new en(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),fn=function(){function t(t){this.repo_=t,t instanceof en||P("Don't call new Database() directly - please use firebase.database()."),this.root_=new an(t,X.Empty),this.INTERNAL=new pn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),m.validateArgCount("database.ref",0,1,arguments.length),t instanceof an?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),m.validateArgCount(e,1,1,arguments.length);var n=et(t);gt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&P(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&P("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){m.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){m.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),pn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return y.__awaiter(this,void 0,void 0,function(){return y.__generator(this,function(t){return this.database.checkDeleted_("delete"),hn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),dn=Object.freeze({forceLongPolling:function(){Ke.forceDisallow(),We.forceAllow()},forceWebSockets:function(){We.forceDisallow()},isWebSocketsAvailable:function(){return Ke.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),mn=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var gn=Object.freeze({DataConnection:mn,RealTimeConnection:Ye,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ze.prototype.put=e}},ConnectionTarget:tt,queryIdentifier:function(t){return t.queryIdentifier()},listens:function(t){return t.repo.persistentConnection_.listens_},forceRestClient:function(t){hn.getInstance().forceRestClient(t)}}),yn=fn.ServerValue;function vn(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return hn.getInstance().databaseFromApp(t,n)},{Reference:an,Query:Zt,Database:fn,enableLogging:O,INTERNAL:dn,ServerValue:yn,TEST_ACCESS:gn},null,!0);m.isNodeSdk()&&(t.exports=n)}vn(v),e.registerDatabase=vn,e.Database=fn,e.Query=Zt,e.Reference=an,e.enableLogging=O,e.ServerValue=yn,e.DataSnapshot=Qt,e.OnDisconnect=yt},NT44:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 1===r(t).getDate()}},NmtT:function(t,e,n){var r=n("yHON"),i=n("yNUO"),o=n("4Toj"),a=n("F809"),s=n("Us+F");t.exports=function(t,e,n){var u=n||{},l=r(t,e),c=u.locale,h=s.distanceInWords.localize;c&&c.distanceInWords&&c.distanceInWords.localize&&(h=c.distanceInWords.localize);var f,p,d={addSuffix:Boolean(u.addSuffix),comparison:l};l>0?(f=i(t),p=i(e)):(f=i(e),p=i(t));var m,g=o(p,f),y=p.getTimezoneOffset()-f.getTimezoneOffset(),v=Math.round(g/60)-y;if(v<2)return u.includeSeconds?g<5?h("lessThanXSeconds",5,d):g<10?h("lessThanXSeconds",10,d):g<20?h("lessThanXSeconds",20,d):g<40?h("halfAMinute",null,d):h(g<60?"lessThanXMinutes":"xMinutes",1,d):0===v?h("lessThanXMinutes",1,d):h("xMinutes",v,d);if(v<45)return h("xMinutes",v,d);if(v<90)return h("aboutXHours",1,d);if(v<1440)return h("aboutXHours",Math.round(v/60),d);if(v<2520)return h("xDays",1,d);if(v<43200)return h("xDays",Math.round(v/1440),d);if(v<86400)return h("aboutXMonths",m=Math.round(v/43200),d);if((m=a(p,f))<12)return h("xMonths",Math.round(v/43200),d);var b=m%12,_=Math.floor(m/12);return b<3?h("aboutXYears",_,d):b<9?h("overXYears",_,d):h("almostXYears",_+1,d)}},NpEG:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getMonth();return e.setMonth(n-n%3+3,0),e.setHours(23,59,59,999),e}},O3uf:function(t,e,n){var r=n("RJeW"),i=n("eoPS");t.exports=function(t){var e=r(t),n=r(i(e,60)).valueOf()-e.valueOf();return Math.round(n/6048e5)}},O8cK:function(t,e,n){var r=n("yNUO"),i=n("1CCG"),o=n("DT56");t.exports=function(t,e){var n=r(t),a=r(e),s=o(n,a),u=Math.abs(i(n,a));return n.setDate(n.getDate()-s*u),s*(u-(o(n,a)===-s))}},OBTA:function(t,e,n){var r=n("yNUO"),i=n("VBar");t.exports=function(t,e){var n=r(t),o=Number(e),a=n.getFullYear(),s=n.getDate(),u=new Date(0);u.setFullYear(a,o,15),u.setHours(0,0,0,0);var l=i(u);return n.setMonth(o,Math.min(s,l)),n}},OsOA:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setSeconds(59,999),e}},PK5m:function(t,e,n){var r=n("CXhC");t.exports=function(){return r(new Date)}},Pu5f:function(t,e,n){var r=n("yNUO"),i=n("l0SJ"),o=n("1vin");t.exports=function(t){var e=r(t);return i(e).getTime()===o(e).getTime()}},PvkQ:function(t,e,n){var r=n("9WSG");t.exports=function(t){return r(new Date,t)}},Q5nM:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getMonth();return e.setMonth(n-n%3,1),e.setHours(0,0,0,0),e}},QXXb:function(t,e,n){var r=n("dJQg");t.exports=function(t){return r(t,{weekStartsOn:1})}},RJeW:function(t,e,n){var r=n("iWRJ"),i=n("tMf1");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),i(n)}},SKYL:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 6===r(t).getDay()}},T2d4:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,i,o=r(t).getTime();return e.forEach(function(t){var e=r(t),a=Math.abs(o-e.getTime());(void 0===n||a<i)&&(n=e,i=a)}),n}},UpIE:function(t,e,n){var r=n("y5a+");t.exports=function(t){return r(t,{weekStartsOn:1})}},"Us+F":function(t,e,n){var r=n("LZbM"),i=n("6DAA");t.exports={distanceInWords:r(),format:i()}},VBar:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getFullYear(),i=e.getMonth(),o=new Date(0);return o.setFullYear(n,i+1,0),o.setHours(0,0,0,0),o.getDate()}},WA8B:function(t,e,n){var r=n("yNUO"),i=n("pLeS"),o=n("1CCG");t.exports=function(t){var e=r(t);return o(e,i(e))+1}},Wjgk:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 4===r(t).getDay()}},WmBB:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},XZVX:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getHours()}},YlT8:function(t,e,n){var r=n("NmtT");t.exports=function(t,e){return r(Date.now(),t,e)}},Yzd8:function(t,e,n){var r=n("yNUO");t.exports=function(t,e,n,i){var o=r(t).getTime(),a=r(e).getTime(),s=r(n).getTime(),u=r(i).getTime();if(o>a||s>u)throw new Error("The start of the range cannot be after the end of the range");return o<u&&s<a?Math.ceil(((u>a?a:u)-(s<o?o:s))/864e5):0}},ZXDK:function(t,e,n){var r=n("54Wo");t.exports=function(t,e){var n=r(t,e)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},Zipn:function(t,e,n){var r=n("+6+2");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},ZmXw:function(t,e,n){var r=n("yNUO"),i=n("VBar");t.exports=function(t,e){var n=r(t),o=Number(e),a=n.getMonth()+o,s=new Date(0);s.setFullYear(n.getFullYear(),a,1),s.setHours(0,0,0,0);var u=i(s);return n.setMonth(a,Math.min(u,n.getDate())),n}},"a4+5":function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()<i.getTime()}},aTp7:function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),i=new Date(0);return i.setFullYear(e,n,r-1),i.setHours(0,0,0,0),i}},agoU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("iUbB"),i=n("HMbd"),o=n("crfB"),a=n("rxuJ"),s=n("O8cK"),u=n("ZXDK"),l=n("4Toj"),c=n("l0SJ"),h=n("1vin"),f=n("dJQg"),p=n("wrXb"),d=n("czgO"),m=n("/Tkk"),g=n("WmBB"),y=n("xq5I"),v=n("leoV"),b=n("bwD0"),_=n("iu1C"),w=n("CXhC"),E=n("6WtA"),C=n("lCuP"),S=n("x84W"),T=n("XZVX"),I=n("xYlI");e.adapterFactory=function(){return{addDays:r,addHours:i,addMinutes:o,addSeconds:a,differenceInDays:s,differenceInMinutes:u,differenceInSeconds:l,endOfDay:c,endOfMonth:h,endOfWeek:f,getDay:p,getMonth:d,isSameDay:m,isSameMonth:g,isSameSecond:y,max:v,setHours:b,setMinutes:_,startOfDay:w,startOfMinute:E,startOfMonth:C,startOfWeek:S,getHours:T,getMinutes:I}}},b056:function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),i=new Date(0);return i.setFullYear(e,n,r+1),i.setHours(23,59,59,999),i}},b8ws:function(t,e,n){var r=n("yNUO"),i=n("Kpyc"),o=n("DT56");t.exports=function(t,e){var n=r(t),a=r(e),s=o(n,a),u=Math.abs(i(n,a));return n.setFullYear(n.getFullYear()-s*u),s*(u-(o(n,a)===-s))}},bwD0:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setHours(i),n}},cPJV:function(t,e,n){var r=n("WA8B"),i=n("gfz1"),o=n("iWRJ"),a=n("yNUO"),s=n("fupu"),u=n("Us+F"),l={M:function(t){return t.getMonth()+1},MM:function(t){return h(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return h(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return h(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return i(t)},WW:function(t){return h(i(t),2)},YY:function(t){return h(t.getFullYear(),4).substr(2)},YYYY:function(t){return h(t.getFullYear(),4)},GG:function(t){return String(o(t)).substr(2)},GGGG:function(t){return o(t)},H:function(t){return t.getHours()},HH:function(t){return h(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return h(l.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return h(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return h(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return h(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return h(t.getMilliseconds(),3)},Z:function(t){return c(t.getTimezoneOffset(),":")},ZZ:function(t){return c(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function c(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),i=r%60;return n+h(Math.floor(r/60),2)+e+h(i,2)}function h(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,o=u.format.formatters,c=u.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(o=i.format.formatters,i.format.formattingTokensRegExp&&(c=i.format.formattingTokensRegExp));var h=a(t);return s(h)?function(t,e,n){var r,i,o=t.match(n),a=o.length;for(r=0;r<a;r++)o[r]=e[o[r]]||l[o[r]]||((i=o[r]).match(/\[[\s\S]/)?i.replace(/^\[|]$/g,""):i.replace(/\\/g,""));return function(t){for(var e="",n=0;n<a;n++)o[n]instanceof Function?e+=o[n](t,l):e+=o[n];return e}}(r,o,c)(h):"Invalid Date"}},crfB:function(t,e,n){var r=n("7B8A");t.exports=function(t,e){var n=Number(e);return r(t,6e4*n)}},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error('Cannot find module "'+t+'".');throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},czgO:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getMonth()}},dEPG:function(t,e,n){var r=n("l0SJ");t.exports=function(){return r(new Date)}},dJQg:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,i=r(t),o=i.getDay(),a=6+(o<n?-7:0)-(o-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}},dgaN:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 2===r(t).getDay()}},eoPS:function(t,e,n){var r=n("iUbB");t.exports=function(t,e){var n=Number(e);return r(t,7*n)}},f9gI:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,i,o=r(t).getTime();return e.forEach(function(t,e){var a=r(t),s=Math.abs(o-a.getTime());(void 0===n||s<i)&&(n=e,i=s)}),n}},fupu:function(t,e,n){var r=n("pzWd");t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},"g/AU":function(t,e,n){var r=n("rxuJ");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},gUhM:function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),i=new Date(0);return i.setFullYear(e,n,r+1),i.setHours(0,0,0,0),i}},gfz1:function(t,e,n){var r=n("yNUO"),i=n("tMf1"),o=n("RJeW");t.exports=function(t){var e=r(t),n=i(e).getTime()-o(e).getTime();return Math.round(n/6048e5)+1}},gtzP:function(t,e,n){var r=n("tMf1");t.exports=function(t,e){var n=r(t),i=r(e),o=n.getTime()-6e4*n.getTimezoneOffset(),a=i.getTime()-6e4*i.getTimezoneOffset();return Math.round((o-a)/6048e5)}},gwEV:function(t,e,n){var r=n("F809");t.exports=function(t,e){var n=r(t,e)/3;return n>0?Math.floor(n):Math.ceil(n)}},hLnY:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t).getDay();return 0===e&&(e=7),e}},hh1I:function(t,e,n){var r=n("iWRJ"),i=n("tMf1");t.exports=function(t){var e=r(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var o=i(n);return o.setMilliseconds(o.getMilliseconds()-1),o}},iQJf:function(t,e,n){var r=n("/LN1");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},iUbB:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setDate(n.getDate()+i),n}},iWRJ:function(t,e,n){var r=n("yNUO"),i=n("tMf1");t.exports=function(t){var e=r(t),n=e.getFullYear(),o=new Date(0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);var a=i(o),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var u=i(s);return e.getTime()>=a.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}},iu1C:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setMinutes(i),n}},jIFe:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getMilliseconds()}},kC7l:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getTime()}},kOWh:function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var i=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+i.join("|")+"|.)","g")}},kRN8:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setSeconds(i),n}},l0SJ:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setHours(23,59,59,999),e}},"l6+5":function(t,e,n){var r=n("L/99");t.exports=function(t){return r(new Date,t)}},lCuP:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return e.setDate(1),e.setHours(0,0,0,0),e}},lTB2:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setMonth(0),n.setDate(i),n}},lX9Q:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=Number(e);return n.setDate(i),n}},leoV:function(t,e,n){var r=n("yNUO");t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return r(t)}),e=Math.max.apply(null,t);return new Date(e)}},lwZq:function(t,e,n){var r=n("yNUO"),i=n("RJeW"),o=n("1CCG");t.exports=function(t,e){var n=r(t),a=Number(e),s=o(n,i(n)),u=new Date(0);return u.setFullYear(a,0,4),u.setHours(0,0,0,0),(n=i(u)).setDate(n.getDate()+s),n}},m7nI:function(t,e,n){var r=n("WmBB");t.exports=function(t){return r(new Date,t)}},mAIw:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},mqoM:function(t,e,n){var r=n("Q5nM");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},mthE:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t).getDay();return 0===e||6===e}},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return l}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return d}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return g}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return v}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof g?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(t){s("next",t)}function l(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:g(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):p(t)}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},pDEI:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()>i.getTime()}},pLeS:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},pzWd:function(t,e){t.exports=function(t){return t instanceof Date}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return i});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},q9S1:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},qFJL:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 5===r(t).getDay()}},qTUo:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getTime()<(new Date).getTime()}},rMQs:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t).getFullYear();return e%400==0||e%4==0&&e%100!=0}},rxuJ:function(t,e,n){var r=n("7B8A");t.exports=function(t,e){var n=Number(e);return r(t,1e3*n)}},"s/X6":function(t,e,n){var r=n("yNUO"),i=n("+f+M"),o=n("DT56"),a=n("3zVU");t.exports=function(t,e){var n=r(t),s=r(e),u=o(n,s),l=Math.abs(i(n,s));return n=a(n,u*l),u*(l-(o(n,s)===-u))}},sunR:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t),i=r(e);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}},t4rR:function(t,e,n){var r=n("yNUO"),i=n("iUbB");t.exports=function(t,e,n){var o=n&&Number(n.weekStartsOn)||0,a=r(t),s=Number(e),u=a.getDay();return i(a,((s%7+7)%7<o?7:0)+s-u)}},tMf1:function(t,e,n){var r=n("x84W");t.exports=function(t){return r(t,{weekStartsOn:1})}},"tg+8":function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getDate()}},u3z5:function(t,e,n){var r=n("yHON"),i=n("yNUO"),o=n("4Toj"),a=n("Us+F");t.exports=function(t,e,n){var s=n||{},u=r(t,e),l=s.locale,c=a.distanceInWords.localize;l&&l.distanceInWords&&l.distanceInWords.localize&&(c=l.distanceInWords.localize);var h,f,p,d={addSuffix:Boolean(s.addSuffix),comparison:u};u>0?(h=i(t),f=i(e)):(h=i(e),f=i(t));var m=Math[s.partialMethod?String(s.partialMethod):"floor"],g=o(f,h),y=f.getTimezoneOffset()-h.getTimezoneOffset(),v=m(g/60)-y;if("s"===(p=s.unit?String(s.unit):v<1?"s":v<60?"m":v<1440?"h":v<43200?"d":v<525600?"M":"Y"))return c("xSeconds",g,d);if("m"===p)return c("xMinutes",v,d);if("h"===p)return c("xHours",m(v/60),d);if("d"===p)return c("xDays",m(v/1440),d);if("M"===p)return c("xMonths",m(v/43200),d);if("Y"===p)return c("xYears",m(v/525600),d);throw new Error("Unknown unit: "+p)}},uKeJ:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}},uPm0:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t);return Math.floor(e.getMonth()/3)+1}},uttN:function(t,e,n){var r=n("7B8A");t.exports=function(t,e){var n=Number(e);return r(t,-n)}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zVF4"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw l.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var l=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),c=function t(){var e={},n={},a={},l={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=o);var a=r.name;"string"==typeof a&&a||u("bad-app-name",{name:a+""}),i(e,a)&&u("duplicate-app",{name:a});var c=new s(t,r,l);return e[a]=c,f(c,"create"),c},app:c,apps:null,Promise:Promise,SDK_VERSION:"5.0.4",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var p=function(e){return void 0===e&&(e=c()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(p,i),l[t]=p,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},p},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(l,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function c(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=p(0,n);null!==r&&a[r]&&a[r](e,t)})}function p(t,e){return"serverAuth"===e?null:e}return r.patchProperty(l,"default",l),Object.defineProperty(l,"apps",{get:h}),r.patchProperty(c,"App",s),l}();e.firebase=c,e.default=c},wrXb:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getDay()}},x84W:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,i=r(t),o=i.getDay(),a=(o<n?7:0)+o-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}},xMJQ:function(t,e,n){var r=n("yNUO");t.exports=function(t,e,n){var i=r(t),o=void 0!==n?n:1,a=r(e).getTime();if(i.getTime()>a)throw new Error("The first date cannot be after the second date");var s=[],u=i;for(u.setHours(0,0,0,0);u.getTime()<=a;)s.push(r(u)),u.setDate(u.getDate()+o);return s}},xPkr:function(t,e,n){var r=n("CXhC");t.exports=function(t){var e=new Date;return e.setDate(e.getDate()-1),r(t).getTime()===r(e).getTime()}},xYlI:function(t,e,n){var r=n("yNUO");t.exports=function(t){return r(t).getMinutes()}},xq5I:function(t,e,n){var r=n("IpkJ");t.exports=function(t,e){var n=r(t),i=r(e);return n.getTime()===i.getTime()}},"y5a+":function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,i=r(t),o=i.getDay(),a=6+(o<n?-7:0)-(o-n);return i.setHours(0,0,0,0),i.setDate(i.getDate()+a),i}},yHON:function(t,e,n){var r=n("yNUO");t.exports=function(t,e){var n=r(t).getTime(),i=r(e).getTime();return n>i?-1:n<i?1:0}},yNUO:function(t,e,n){var r=n("pzWd"),i=/[T ]/,o=/:/,a=/^(\d{2})$/,s=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],c=/^-(\d{2})$/,h=/^-?(\d{3})$/,f=/^-?(\d{2})-?(\d{2})$/,p=/^-?W(\d{2})$/,d=/^-?W(\d{2})-?(\d{1})$/,m=/^(\d{2}([.,]\d*)?)$/,g=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,v=/([Z+-].*)$/,b=/^(Z)$/,_=/^([+-])(\d{2})$/,w=/^([+-])(\d{2}):?(\d{2})$/;function E(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}t.exports=function(t,e){if(r(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?2:Number(n);var C,S,T,I=function(e){var n,r={},a=t.split(i);if(o.test(a[0])?(r.date=null,n=a[0]):(r.date=a[0],n=a[1]),n){var s=v.exec(n);s?(r.time=n.replace(s[1],""),r.timezone=s[1]):r.time=n}return r}(),k=function(t,e){var n,r=s[e],i=l[e];if(n=u.exec(t)||i.exec(t)){var o=n[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(n=a.exec(t)||r.exec(t)){var c=n[1];return{year:100*parseInt(c,10),restDateString:t.slice(c.length)}}return{year:null}}(I.date,n),D=function(t,e){if(null===e)return null;var n,r,i;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=c.exec(t))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(e,i),r;if(n=h.exec(t)){r=new Date(0);var o=parseInt(n[1],10);return r.setUTCFullYear(e,0,o),r}if(n=f.exec(t)){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return r.setUTCFullYear(e,i,a),r}return(n=p.exec(t))?E(e,parseInt(n[1],10)-1):(n=d.exec(t))?E(e,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(k.restDateString,k.year);if(D){var x,O=D.getTime(),A=0;return I.time&&(A=function(t){var e;return(e=m.exec(t))?parseFloat(e[1].replace(",","."))%24*36e5:(e=g.exec(t))?parseInt(e[1],10)%24*36e5+6e4*parseFloat(e[2].replace(",",".")):(e=y.exec(t))?parseInt(e[1],10)%24*36e5+6e4*parseInt(e[2],10)+1e3*parseFloat(e[3].replace(",",".")):null}(I.time)),I.timezone?x=(S=b.exec(C=I.timezone))?0:(S=_.exec(C))?(T=60*parseInt(S[2],10),"+"===S[1]?-T:T):(S=w.exec(C))?(T=60*parseInt(S[2],10)+parseInt(S[3],10),"+"===S[1]?-T:T):0:(x=new Date(O+A).getTimezoneOffset(),x=new Date(O+A+6e4*x).getTimezoneOffset()),new Date(O+A+6e4*x)}return new Date(t)}},yYDL:function(t,e,n){var r=n("yNUO");t.exports=function(t){return 3===r(t).getDay()}},zGRt:function(t,e,n){var r=n("zM65");t.exports=function(t){return r(new Date,t)}},zM65:function(t,e,n){var r=n("G6+r");t.exports=function(t,e){return r(t,e,{weekStartsOn:1})}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("mrSG");function i(t){return"function"==typeof t}var o=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function s(t){setTimeout(function(){throw t})}var u={closed:!0,next:function(t){},error:function(t){if(a.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function c(t){return null!=t&&"object"==typeof t}var h,f={e:{}};function p(){try{return h.apply(this,arguments)}catch(t){return f.e=t,f}}function d(t){return h=t,p}var m=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return r.__extends(e,t),e}(Error),g=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,u=r?r.length:0;n;)n.remove(this),n=++s<u&&r[s]||null;if(i(o)&&d(o).call(this)===f&&(e=!0,t=t||(f.e instanceof m?y(f.e.errors):[f.e])),l(a))for(s=-1,u=a.length;++s<u;){var h=a[s];if(c(h)&&d(h.unsubscribe).call(h)===f){e=!0,t=t||[];var p=f.e;p instanceof m?t=t.concat(y(p.errors)):t.push(p)}}if(e)throw new m(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function y(t){return t.reduce(function(t,e){return t.concat(e instanceof m?e.errors:e)},[])}var v="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",b=function(t){function e(e,n,r){var i,o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=u;break;case 1:if(!e){o.destination=u;break}if("object"==typeof e){if((i=e)instanceof b||"syncErrorThrowable"in i&&i[v]){var a=e[v]();o.syncErrorThrowable=a.syncErrorThrowable,o.destination=a,a.add(o)}else o.syncErrorThrowable=!0,o.destination=new _(o,e);break}default:o.syncErrorThrowable=!0,o.destination=new _(o,e,n,r)}return o}return r.__extends(e,t),e.prototype[v]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(g),_=function(t){function e(e,n,r,o){var a,s=t.call(this)||this;s._parentSubscriber=e;var l=s;return i(n)?a=n:n&&(a=n.next,r=n.error,o=n.complete,n!==u&&(i((l=Object.create(n)).unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(s))),s._context=l,s._next=a,s._error=r,s._complete=o,s}return r.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw n;s(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(b),w="function"==typeof Symbol&&Symbol.observable||"@@observable";function E(){}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S(t)}function S(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:E}var T=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof b)return t;if(t[v])return t[v]()}return t||e||n?new b(t,e,n):new b(u)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=I(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[w]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:S(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=I(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function I(t){if(t||(t=a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function k(t){return t&&"function"==typeof t.schedule}var D=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(b),x=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},O=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,s),e}};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var N=A(),R=function(t){return function(e){for(var n=t[N]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},P=function(t){return function(e){var n=t[w]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},M=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function L(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var F=function(t){if(t instanceof T)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[w])return P(t);if(M(t))return x(t);if(L(t))return O(t);if(t&&"function"==typeof t[N])return R(t);var e=c(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function V(t,e,n,r){var i=new D(t,n,r);return F(e)(i)}var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(b);function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}var B=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))},t}(),q=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(b);function H(t,e){return new T(e?function(n){var r=new g,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r}:x(t))}function W(t,e){if(!e)return t instanceof T?t:new T(F(t));if(null!=t){if(function(t){return t&&"function"==typeof t[w]}(t))return function(t,e){return new T(e?function(n){var r=new g;return r.add(e.schedule(function(){var i=t[w]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:P(t))}(t,e);if(L(t))return function(t,e){return new T(e?function(n){var r=new g;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:O(t))}(t,e);if(M(t))return H(t,e);if(function(t){return t&&"function"==typeof t[N]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new T(e?function(n){var r,i=new g;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[N](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:R(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function z(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(z(function(n,r){return W(t(n,r)).pipe(j(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new G(t,n))})}var G=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.project,this.concurrent))},t}(),K=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(V(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(U);function Q(t){return t}function Y(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),z(Q,t)}function $(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return k(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof T?t[0]:Y(n)(H(t,r))}var X=function(t){function e(){var n=t.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error),J=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(g),Z=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.__extends(e,t),e}(b),tt=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.__extends(e,t),e.prototype[v]=function(){return new Z(this)},e.prototype.lift=function(t){var e=new et(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new X;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new X;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new X;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new X;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new X;return this.hasError?(t.error(this.thrownError),g.EMPTY):this.isStopped?(t.complete(),g.EMPTY):(this.observers.push(t),new J(this,t))},e.prototype.asObservable=function(){var t=new T;return t.source=this,t},e.create=function(t,e){return new et(t,e)},e}(T),et=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):g.EMPTY},e}(tt);function nt(){return function(t){return t.lift(new rt(t))}}var rt=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new it(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),it=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(b),ot=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new g).add(this.source.subscribe(new st(this.getSubject(),this))),t.closed?(this._connection=null,t=g.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return nt()(this)},e}(T).prototype,at={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ot._subscribe},_isComplete:{value:ot._isComplete,writable:!0},getSubject:{value:ot.getSubject},connect:{value:ot.connect},refCount:{value:ot.refCount}},st=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(Z);function ut(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new lt(r,e));var i=Object.create(n,at);return i.source=n,i.subjectFactory=r,i}}var lt=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();function ct(){return new tt}function ht(){return function(t){return nt()(ut(ct)(t))}}function ft(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}var pt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?ft({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),dt="__parameters__";function mt(t,e,n){var i=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.__spread)(e));for(var o in i)this[o]=i[o]}}}(e);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof o)return i.apply(this,t),this;var n,a=new((n=o).bind.apply(n,Object(r.__spread)([void 0],t)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(dt)?t[dt]:Object.defineProperty(t,dt,{value:[]})[dt];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var gt=new pt("AnalyzeForEntryComponents");Function;var yt="undefined"!=typeof window&&window,vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bt="undefined"!=typeof global&&global,_t=yt||bt||vt,wt=Promise.resolve(0),Et=null;function Ct(){if(!Et){var t=_t.Symbol;if(t&&t.iterator)Et=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Et=r)}}return Et}function St(t){"undefined"==typeof Zone?wt.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Tt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function It(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(It).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kt(t){return t.__forward_ref__=kt,t.toString=function(){return It(this())},t}function Dt(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===kt?t():t}var xt=mt("Inject",function(t){return{token:t}}),Ot=mt("Optional"),At=mt("Self"),Nt=mt("SkipSelf"),Rt="__source",Pt=new Object,Mt=new pt("INJECTOR"),Lt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Pt),e===Pt)throw new Error("NullInjectorError: No provider for "+It(t)+"!");return e},t}(),Ft=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new Kt(t,e):new Kt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Pt,t.NULL=new Lt,t.ngInjectableDef=ft({providedIn:"any",factory:function(){return te(Mt)}}),t}(),Vt=function(t){return t},Ut=[],jt=Vt,Bt=function(){return Array.prototype.slice.call(arguments)},qt={},Ht=Xt({provide:String,useValue:qt}),Wt=Ft.NULL,zt=/\n/gm,Gt="\u0275",Kt=function(){function t(t,e,n){void 0===e&&(e=Wt),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(Ft,{token:Ft,fn:Vt,deps:Ut,value:this,useNew:!1}),r.set(Mt,{token:Mt,fn:Vt,deps:Ut,value:this,useNew:!1}),function t(e,n){if(n)if((n=Dt(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw $t("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw $t("Unexpected provider",n);var i=Dt(n.provide),o=function(t){var e=function(t){var e=Ut,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=Dt(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof Ot||s==Ot?i|=1:s instanceof Nt||s==Nt?i&=-3:s instanceof At||s==At?i&=-5:u=s instanceof xt?s.token:Dt(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=Dt(t.useExisting),options:6}]}else if(!(n||Ht in t))throw $t("'deps' required",t);return e}(t),n=Vt,r=Ut,i=!1,o=Dt(t.provide);if(Ht in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Dt(t.useClass);else{if("function"!=typeof o)throw $t("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==Bt)throw Qt(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:Bt,value:Ut});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==Bt)throw Qt(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,l;if(!n||4&s)2&s||(u=o.get(e,a,0));else{if((u=n.value)==jt)throw Error(Gt+"Circular dependency");if(u===Ut){n.value=jt;var c=n.useNew,h=n.fn,f=n.deps,p=Ut;if(f.length){p=[];for(var d=0;d<f.length;d++){var m=f[d],g=m.options,y=2&g?i.get(m.token):void 0;p.push(t(m.token,y,i,y||4&g?o:Wt,1&g?null:Ft.THROW_IF_NOT_FOUND,0))}}n.value=u=c?new((l=h).bind.apply(l,Object(r.__spread)([void 0],p))):h.apply(void 0,p)}}return u}(e,n,i,o,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==jt&&(n.value=Ut),u}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[Rt]&&o.unshift(t[Rt]),a.message=Yt("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(It(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function Qt(t){return $t("Cannot mix multi providers and regular providers",t)}function Yt(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Gt?t.substr(2):t;var r=It(e);if(e instanceof Array)r=e.map(It).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):It(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(zt,"\n  ")}function $t(t,e){return new Error(Yt(t,e))}function Xt(t){for(var e in t)if(t[e]===qt)return e;throw Error("!prop")}var Jt=void 0;function Zt(t){var e=Jt;return Jt=t,e}function te(t,e){if(void 0===e&&(e=0),void 0===Jt)throw new Error("inject() must be called from an injection context");if(null===Jt){var n=t.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;throw new Error("Injector: NOT_FOUND ["+It(t)+"]")}return Jt.get(t,8&e?null:void 0,e)}String;var ee=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),ne=new(function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}())("6.0.9"),re="ngDebugContext",ie="ngOriginalError",oe="ngErrorLogger";function ae(t){return t[re]}function se(t){return t[ie]}function ue(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.__spread)(e))}var le=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[oe]||ue}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?ae(t)?ae(t):this._findContext(se(t)):null},t.prototype._findOriginalError=function(t){for(var e=se(t);e&&se(e);)e=se(e);return e},t}(),ce=new pt("The presence of this token marks an injector as being the root injector.");function he(t){return!!t&&"function"==typeof t.then}function fe(t){return!!t&&"function"==typeof t.subscribe}var pe=new pt("Application Initializer"),de=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();he(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),me=new pt("AppId"),ge=new pt("Platform Initializer"),ye=new pt("Platform ID"),ve=new pt("appBootstrapListener"),be=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function _e(){throw new Error("Runtime compiler is not loaded")}var we=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw _e()},t.prototype.compileModuleAsync=function(t){throw _e()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw _e()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw _e()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}(),Ee=function(){return function(){}}(),Ce=function(){return function(){}}(),Se=function(){return function(){}}();function Te(t){var e=Error("No component factory found for "+It(t)+". Did you add it to @NgModule.entryComponents?");return e[De]=t,e}var Ie,ke,De="ngComponent",xe=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Te(t)},t}(),Oe=function(){function t(){}return t.NULL=new xe,t}(),Ae=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Te(t);return new Ne(e,this._ngModule)},t}(),Ne=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Se),Re=function(){return function(){}}(),Pe=function(){return function(){}}();function Me(){var t=_t.wtf;return!(!t||!(Ie=t.trace)||(ke=Ie.events,0))}var Le=Me();function Fe(t,e){return null}var Ve=Le?function(t,e){return void 0===e&&(e=null),ke.createScope(t,e)}:function(t,e){return Fe},Ue=Le?function(t,e){return Ie.leaveScope(t,e),e}:function(t,e){return e},je=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof g&&e.add(s),s},e}(tt),Be=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return ze(e),t.invokeTask(r,i,o,a)}finally{Ge(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return ze(e),t.invoke(r,i,o,a,s)}finally{Ge(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,We(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,He,qe,qe);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function qe(){}var He={};function We(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function ze(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ge(t){t._nesting--,We(t)}var Ke,Qe=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Ye=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Be.assertNotInAngularZone(),St(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())St(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,isPeriodic:t.data.isPeriodic,delay:t.data.delay,creationLocation:t.creationLocation,xhr:t.data.target}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),$e=function(){function t(){this._applications=new Map,Xe.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Xe.findTestabilityInTree(this,t,e)},t.ctorParameters=function(){return[]},t}(),Xe=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Je=!0,Ze=!1,tn=new pt("AllowMultipleToken");function en(){return Ze=!0,Je}var nn=function(){return function(t,e){this.name=t,this.token=e}}();function rn(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new pt(r);return function(e){void 0===e&&(e=[]);var o=on();if(!o||o.injector.get(tn,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ke&&!Ke.destroyed&&!Ke.injector.get(tn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ke=t.get(an);var e=t.get(ge,null);e&&e.forEach(function(t){return t()})}(Ft.create({providers:a,name:r}))}return function(t){var e=on();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function on(){return Ke&&!Ke.destroyed?Ke:null}var an=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new Qe:("zone.js"===n?void 0:n)||new Be({enableLongStackTrace:en()}),o=[{provide:Be,useValue:i}];return i.run(function(){var e=Ft.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(le,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return ln(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(de)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return he(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=this.injector.get(Ee),i=sn({},e);return r.createCompiler([i]).compileModuleAsync(t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(un);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+It(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function sn(t,e){return Array.isArray(e)?e.reduce(sn,t):Object(r.__assign)({},t,e)}var un=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=en(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new T(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new T(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Be.assertNotInAngularZone(),St(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Be.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=$(s,u.pipe(ht()))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Se?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Ne?null:this._injector.get(Re),o=n.create(Ft.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Ye,null);return a&&o.injector.get($e).registerApplication(o.location.nativeElement,a),this._loadComponent(o),en()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Ue(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;ln(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ve,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),ln(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Ve("ApplicationRef#tick()"),t}();function ln(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var cn=function(){return function(){}}(),hn=function(){return function(){}}(),fn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),pn=function(){return function(){}}(),dn=function(){return function(t){this.nativeElement=t}}(),mn=function(){return function(){}}(),gn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new je,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[Ct()]=function(){return this._results[Ct()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),yn=function(){return function(){}}(),vn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},bn=function(){function t(t,e){this._compiler=t,this._config=e||vn}return t.prototype.load=function(t){return this._compiler instanceof we?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.__read)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return _n(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.__read)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return _n(t,i,o)})},t}();function _n(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var wn=function(){return function(){}}(),En=function(){return function(){}}(),Cn=function(){return function(){}}(),Sn=function(){return function(t,e){this.name=t,this.callback=e}}(),Tn=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof In?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),In=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.__spread)([o+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof In&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof In&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof In&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Tn),kn=new Map;function Dn(t){return kn.get(t)||null}function xn(t){kn.set(t.nativeNode,t)}function On(t,e){var n=Rn(t),r=Rn(e);return n&&r?function(t,e,n){for(var r=t[Ct()](),i=e[Ct()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,On):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||Tt(t,e)}var An=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Nn=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Rn(t){return!!Pn(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ct()in t)}function Pn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Mn=function(){function t(){}return t.prototype.supports=function(t){return Rn(t)},t.prototype.create=function(t){return new Fn(t)},t}(),Ln=function(t,e){return e},Fn=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ln}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Bn(n,r,i)?e:n,a=Bn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Rn(t))throw new Error("Error trying to diff '"+It(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Tt(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Tt(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[Ct()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Tt(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Tt(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Tt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Tt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Vn(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new jn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Vn=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Un=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Tt(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),jn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Un,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Bn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var qn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Pn(t)},t.prototype.create=function(){return new Hn},t}(),Hn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Pn(t)))throw new Error("Error trying to diff '"+It(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Wn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Tt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Wn=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),zn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Nt,new Ot]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=ft({providedIn:"root",factory:function(){return new t([new Mn])}}),t}(),Gn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Nt,new Ot]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Kn=[new qn],Qn=new zn([new Mn]),Yn=new Gn(Kn),$n=rn(null,"core",[{provide:ye,useValue:"unknown"},{provide:an,deps:[Ft]},{provide:$e,deps:[]},{provide:be,deps:[]}]),Xn=new pt("LocaleId");function Jn(){return Qn}function Zn(){return Yn}function tr(t){return t||"en-US"}var er=function(){return function(t){}}(),nr=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(null);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),rr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ir=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function or(t){return(t=String(t)).match(rr)||t.match(ir)?t:(en()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function ar(t){var e,n,i={};try{for(var o=Object(r.__values)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function sr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i,o={};try{for(var a=Object(r.__values)(t),s=a.next();!s.done;s=a.next()){var u=s.value;for(var l in u)u.hasOwnProperty(l)&&(o[l]=!0)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}var ur,lr=ar("area,br,col,hr,img,wbr"),cr=ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hr=ar("rp,rt"),fr=sr(hr,cr),pr=sr(lr,sr(cr,ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sr(hr,ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fr),dr=ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mr=ar("srcset"),gr=sr(dr,mr,ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),yr=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(pr.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(gr.hasOwnProperty(s)){var u=o.value;dr[s]&&(u=or(u)),mr[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return or(t.trim())}).join(", ")),this.buf.push(" ",a,'="',_r(u),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();pr.hasOwnProperty(e)&&!lr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(_r(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),vr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function _r(t){return t.replace(/&/g,"&amp;").replace(vr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Er=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Cr=/^url\(([^)]+)\)$/,Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Tr=function(){return function(){}}();function Ir(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function kr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Dr(t,e){return t.nodes[e]}function xr(t,e){return t.nodes[e]}function Or(t,e){return t.nodes[e]}function Ar(t,e){return t.nodes[e]}function Nr(t,e){return t.nodes[e]}var Rr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Pr(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Mr(n,e),n}(i,t)}function Mr(t,e){t[re]=e,t[oe]=e.logError.bind(e)}function Lr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Fr=function(){},Vr=new Map;function Ur(t){var e=Vr.get(t);return e||(e=It(t)+"_"+Vr.size,Vr.set(t,e)),e}function jr(t,e,n,r){if(An.isWrapped(r)){r=An.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=An.unwrap(t.oldValues[i]);t.oldValues[i]=new An(o)}return r}var Br="$$undefined",qr="$$empty";function Hr(t){return{id:Br,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Wr=0;function zr(t,e,n,r){return!(!(2&t.state)&&Tt(t.oldValues[e.bindingIndex+n],r))}function Gr(t,e,n,r){return!!zr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Kr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!On(i,r)){var o=e.bindings[n].name;throw Pr(Rr.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Qr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Yr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function $r(t,e,n,r){try{return Qr(33554432&t.def.nodes[e].flags?xr(t,e).componentView:t),Rr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Xr(t){return t.parent?xr(t.parent,t.parentNodeDef.nodeIndex):null}function Jr(t){return t.parent?t.parentNodeDef.parent:null}function Zr(t,e){switch(201347067&e.flags){case 1:return xr(t,e.nodeIndex).renderElement;case 2:return Dr(t,e.nodeIndex).renderText}}function ti(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ei(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ni(t){return 1<<t%32}function ri(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.__read)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=ni(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function ii(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(i=(o=Object(r.__read)(t,2))[0],n=o[1]):(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Rt,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:Ur(n)}})}function oi(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ee.Native?xr(t,n.renderParent.nodeIndex).renderElement:void 0:e}var ai=new WeakMap;function si(t){var e=ai.get(t);return e||((e=t(function(){return Fr})).factory=t,ai.set(t,e)),e}function ui(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Zr(t,t.def.lastRenderRootNode))),li(t,e,0,t.def.nodes.length-1,n,r,i)}function li(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&hi(t,u,e,i,o,a),s+=u.childCount}}function ci(t,e,n,r,i,o){for(var a=t;a&&!ti(a);)a=a.parent;for(var s=a.parent,u=Jr(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&hi(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(c=0;c<f.length;c++)fi(t,f[c],n,r,i,o)}}function hi(t,e,n,r,i,o){if(8&e.flags)ci(t,e.ngContent.index,n,r,i,o);else{var a=Zr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&fi(t,a,n,r,i,o),32&e.bindingFlags&&fi(xr(t,e.nodeIndex).componentView,a,n,r,i,o)):fi(t,a,n,r,i,o),16777216&e.flags)for(var s=xr(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)ui(s[u],n,r,i,o);1&e.flags&&!e.element.name&&li(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function fi(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var pi=/^:([^:]+):(.+)$/;function di(t){if(":"===t[0]){var e=t.match(pi);return[e[1],e[2]]}return["",t]}function mi(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function gi(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,m,g,y,v,b){switch(t){case 1:return e+yi(n)+r;case 2:return e+yi(n)+r+yi(i)+o;case 3:return e+yi(n)+r+yi(i)+o+yi(a)+s;case 4:return e+yi(n)+r+yi(i)+o+yi(a)+s+yi(u)+l;case 5:return e+yi(n)+r+yi(i)+o+yi(a)+s+yi(u)+l+yi(c)+h;case 6:return e+yi(n)+r+yi(i)+o+yi(a)+s+yi(u)+l+yi(c)+h+yi(f)+p;case 7:return e+yi(n)+r+yi(i)+o+yi(a)+s+yi(u)+l+yi(c)+h+yi(f)+p+yi(d)+m;case 8:return e+yi(n)+r+yi(i)+o+yi(a)+s+yi(u)+l+yi(c)+h+yi(f)+p+yi(d)+m+yi(g)+y;case 9:return e+yi(n)+r+yi(i)+o+yi(a)+s+yi(u)+l+yi(c)+h+yi(f)+p+yi(d)+m+yi(g)+y+yi(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function yi(t){return null!=t?t.toString():""}var vi={};function bi(t,e,n,r,i,o){t|=1;var a=ri(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?si(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Fr},provider:null,text:null,query:null,ngContent:null}}function _i(t,e,n,i,o,a,s,u,l,c,h,f){void 0===s&&(s=[]),c||(c=Fr);var p=ri(n),d=p.matchedQueries,m=p.references,g=p.matchedQueryIds,y=null,v=null;a&&(y=(N=Object(r.__read)(di(a),2))[0],v=N[1]),u=u||[];for(var b=new Array(u.length),_=0;_<u.length;_++){var w=Object(r.__read)(u[_],3),E=w[0],C=w[1],S=w[2],T=Object(r.__read)(di(C),2),I=T[0],k=T[1],D=void 0,x=void 0;switch(15&E){case 4:x=S;break;case 1:case 8:D=S}b[_]={flags:E,ns:I,name:k,nonMinifiedName:k,securityContext:D,suffix:x}}l=l||[];var O=new Array(l.length);for(_=0;_<l.length;_++){var A=Object(r.__read)(l[_],2);O[_]={type:0,target:A[0],eventName:A[1],propName:null}}var N,R=(s=s||[]).map(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1],o=Object(r.__read)(di(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===Br){var e=null!=t.encapsulation&&t.encapsulation!==ee.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Wr++:qr}return t&&t.id===qr&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:g,references:m,ngContentIndex:i,childCount:o,bindings:b,bindingFlags:mi(b),outputs:O,element:{ns:y,name:v,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:c||Fr},provider:null,text:null,query:null,ngContent:null}}function wi(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=oi(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var c=Object(r.__read)(o.attrs[l],3);s.setAttribute(i,c[1],c[2],c[0])}return i}function Ei(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Ci(t,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}var c,h}function Ci(t,e,n){return function(r){return $r(t,e,n,r)}}function Si(t,e,n,r){if(!Gr(t,e,n,r))return!1;var i=e.bindings[n],o=xr(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Sr.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var Ti=new Object,Ii=Ur(Ft),ki=Ur(Mt),Di=Ur(Re);function xi(t,e,n,r){return n=Dt(n),{index:-1,deps:ii(r,It(e)),flags:t,token:e,value:n}}function Oi(t,e,n){void 0===n&&(n=Ft.THROW_IF_NOT_FOUND);var r,i,o=Zt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Ii:case ki:case Di:return t}var s=t._def.providersByKey[a];if(s){var u=t._providers[s.index];return void 0===u&&(u=t._providers[s.index]=Ai(t,s)),u===Ti?void 0:u}if(e.token.ngInjectableDef&&(r=t,null!=(i=e.token.ngInjectableDef).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:e.token.ngInjectableDef.factory,deps:[],index:l,token:e.token},t._providers[l]=Ti,t._providers[l]=Ai(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Zt(o)}}function Ai(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Oi(t,n[0]));case 2:return new e(Oi(t,n[0]),Oi(t,n[1]));case 3:return new e(Oi(t,n[0]),Oi(t,n[1]),Oi(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=Oi(t,n[a]);return new(e.bind.apply(e,Object(r.__spread)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Oi(t,n[0]));case 2:return e(Oi(t,n[0]),Oi(t,n[1]));case 3:return e(Oi(t,n[0]),Oi(t,n[1]),Oi(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=Oi(t,n[a]);return e.apply(void 0,Object(r.__spread)(o))}}(t,e.value,e.deps);break;case 2048:n=Oi(t,e.deps[0]);break;case 256:n=e.value}return n===Ti||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ti:n}function Ni(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,Li(n,e),Rr.dirtyParentQueries(r),Pi(r),r}function Ri(t,e,n){var r=e?Zr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);ui(n,2,i,o,void 0)}function Pi(t){ui(t,3,null,null,void 0)}function Mi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Li(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Fi=new Object;function Vi(t,e,n,r,i,o){return new Ui(t,e,n,r,i,o)}var Ui=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=si(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Rr.createRootView(t,e||[],n,i,r,Fi),s=Or(a,o).instance;return n&&a.renderer.setAttribute(xr(a,0).renderElement,"ng-version",ne.full),new ji(a,new Wi(a),s)},e}(Se),ji=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new dn(xr(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Qi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Ce);function Bi(t,e,n){return new qi(t,e,n)}var qi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new dn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Qi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Jr(t),t=t.parent;return t?new Qi(t,e):new Qi(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Ni(this._data,t);Rr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Wi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ne||(i=o.get(Re));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,Mi(o,r,i),function(t,e){var n=Xr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),Rr.dirtyParentQueries(i),Ri(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],Li(o,r),null==i&&(i=o.length),Mi(o,i,a),Rr.dirtyParentQueries(a),Pi(a),Ri(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Ni(this._data,t);e&&Rr.destroyView(e)},t.prototype.detach=function(t){var e=Ni(this._data,t);return e?new Wi(e):null},t}();function Hi(t){return new Wi(t)}var Wi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ui(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Qr(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Rr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Rr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Rr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Pi(this._view),Rr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function zi(t,e){return new Gi(t,e)}var Gi=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Wi(Rr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new dn(xr(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(wn);function Ki(t,e){return new Qi(t,e)}var Qi=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Ft.THROW_IF_NOT_FOUND),Rr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Ur(t)},e)},t}();function Yi(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=xr(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Dr(t,n.nodeIndex).renderText;if(20240&n.flags)return Or(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function $i(t){return new Xi(t.renderer)}var Xi=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.__read)(di(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.__read)(di(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Ji(t,e,n,r){return new Zi(t,e,n,r)}var Zi=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Ai(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Ft.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Oi(this,{token:t,tokenKey:Ur(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Oe)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+It(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Ti){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),to=Ur(cn),eo=Ur(pn),no=Ur(dn),ro=Ur(En),io=Ur(wn),oo=Ur(Cn),ao=Ur(Ft),so=Ur(Mt);function uo(t,e,n,i,o,a,s,u){var l=[];if(s)for(var c in s){var h=Object(r.__read)(s[c],2);l[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var p in u)f.push({type:1,propName:p,target:null,eventName:u[p]});return ho(t,e|=16384,n,i,o,o,a,l,f)}function lo(t,e,n){return ho(-1,t|=16,null,0,e,e,n)}function co(t,e,n,r,i){return ho(-1,t,e,0,n,r,i)}function ho(t,e,n,r,i,o,a,s,u){var l=ri(n),c=l.matchedQueries,h=l.references,f=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=Dt(o);var p=ii(a,It(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:mi(s),outputs:u,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function fo(t,e){return yo(t,e)}function po(t,e){for(var n=t;n.parent&&!ti(n);)n=n.parent;return vo(n.parent,Jr(n),!0,e.provider.value,e.provider.deps)}function mo(t,e){var n=vo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName].subscribe(go(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=o.unsubscribe.bind(o)}return n}function go(t,e,n){return function(r){return $r(t,e,n,r)}}function yo(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return vo(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(_o(t,e,n,o[0]));case 2:return i(_o(t,e,n,o[0]),_o(t,e,n,o[1]));case 3:return i(_o(t,e,n,o[0]),_o(t,e,n,o[1]),_o(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=_o(t,e,n,o[u]);return i.apply(void 0,Object(r.__spread)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return _o(t,e.parent,n,i.deps[0]);case 256:return i.value}}function vo(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(_o(t,e,n,o[0]));case 2:return new i(_o(t,e,n,o[0]),_o(t,e,n,o[1]));case 3:return new i(_o(t,e,n,o[0]),_o(t,e,n,o[1]),_o(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=_o(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.__spread)([void 0],s)))}}var bo={};function _o(t,e,n,r,i){if(void 0===i&&(i=Ft.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===oo&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case to:return $i(wo(s,e,n));case eo:return wo(s,e,n).renderer;case no:return new dn(xr(s,e.nodeIndex).renderElement);case ro:return xr(s,e.nodeIndex).viewContainer;case io:if(e.element.template)return xr(s,e.nodeIndex).template;break;case oo:return Hi(wo(s,e,n));case ao:case so:return Ki(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=Or(s,u.nodeIndex);return l||(l={instance:yo(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=ti(s),e=Jr(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,bo);return c!==bo||i===bo?c:o.root.ngModule.injector.get(r.token,i)}function wo(t,e,n){var r;if(n)r=xr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ti(r);)r=r.parent;return r}function Eo(t,e,n,r,i,o){if(32768&n.flags){var a=xr(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=An.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Nn(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Co(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&To(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=So(t,a,e,r)),a=a.parent}}function So(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&To(t,i,o.flags&n,r++),i+=o.childCount}return r}function To(t,e,n,r){var i=Or(t,e);if(i){var o=i.instance;o&&(Rr.setCurrentNode(t,e),1048576&n&&kr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&kr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Io(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ni(e),bindings:r},ngContent:null}}function ko(t){for(var e=t.def.nodeMatchedQueries;t.parent&&ei(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Nr(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Nr(t,i).setDirty(),i+=o.childCount}}function Do(t,e){var n=Nr(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=xo(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Or(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=xo(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function xo(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Oo(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=xr(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(xo(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],f=Xr(h);f&&f===u&&xo(h,0,h.def.nodes.length-1,r,i)}var p=u.template._projectedViews;if(p)for(c=0;c<p.length;c++){var d=p[c];xo(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Oo(t,e,n){if(null!=n)switch(n){case 1:return xr(t,e.nodeIndex).renderElement;case 0:return new dn(xr(t,e.nodeIndex).renderElement);case 2:return xr(t,e.nodeIndex).template;case 3:return xr(t,e.nodeIndex).viewContainer;case 4:return Or(t,e.nodeIndex).instance}}function Ao(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function No(t,e,n){var r=oi(t,e,n);r&&ci(t,n.ngContent.index,1,r,null,void 0)}function Ro(t,e){return Mo(128,t,new Array(e+1))}function Po(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return Mo(64,t,i)}function Mo(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:mi(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Lo(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Fo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=oi(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Vo(t,e){return(null!=t?t.toString():"")+e.suffix}function Uo(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,f=!1,p=null,d=0;d<e.length;d++){var m=e[d];if(m.nodeIndex=d,m.parent=l,m.bindingIndex=i,m.outputIndex=o,m.renderParent=c,a|=m.flags,u|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,f=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(Bo(l,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?l.element.publicProviders[Ur(m.provider.token)]=m:(f||(f=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Ur(m.provider.token)]=m),y&&(l.element.componentProvider=m)}if(l?(l.childFlags|=m.flags,l.directChildFlags|=m.flags,l.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(l.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)l=m,jo(m)||(c=m);else for(;l&&d===l.nodeIndex+l.childCount;){var v=l.parent;v&&(v.childFlags|=l.childFlags,v.childMatchedQueries|=l.childMatchedQueries),c=(l=v)&&jo(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Fr,updateRenderer:r||Fr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function jo(t){return 0!=(1&t.flags)&&null===t.element.name}function Bo(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function qo(t,e,n,r){var i=zo(t.root,t.renderer,t,e,n);return Go(i,t.component,r),Ko(i),i}function Ho(t,e,n){var r=zo(t,t.renderer,null,null,e);return Go(r,n,n),Ko(r),r}function Wo(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,zo(t.root,i,t,e.element.componentProvider,n)}function zo(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Go(t,e,n){t.component=e,t.context=n}function Ko(t){var e;ti(t)&&(e=xr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Rr.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=wi(t,e,o),u=void 0;if(33554432&o.flags){var l=si(o.element.componentView);u=Rr.createComponentView(t,o,l,s)}Ei(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?zi(t,o):void 0},16777216&o.flags&&(a.viewContainer=Bi(t,o,a));break;case 2:a=Fo(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:fo(t,o)});break;case 16:a={instance:po(t,o)};break;case 16384:(a=r[i])||(a={instance:mo(t,o)}),32768&o.flags&&Go(xr(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new gn;break;case 8:No(t,e,o),a=void 0}r[i]=a}na(t,ea.CreateViewNodes),aa(t,201326592,268435456,0)}function Qo(t){Xo(t),Rr.updateDirectives(t,1),ra(t,ea.CheckNoChanges),Rr.updateRenderer(t,1),na(t,ea.CheckNoChanges),t.state&=-97}function Yo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ir(t,0,256),Xo(t),Rr.updateDirectives(t,0),ra(t,ea.CheckAndUpdate),aa(t,67108864,536870912,0);var e=Ir(t,256,512);Co(t,2097152|(e?1048576:0)),Rr.updateRenderer(t,0),na(t,ea.CheckAndUpdate),aa(t,134217728,536870912,0),Co(t,8388608|((e=Ir(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ir(t,768,1024)}function $o(t,e,n,i,o,a,s,u,l,c,h,f,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length,p=!1;return f>0&&Si(t,e,0,n)&&(p=!0),f>1&&Si(t,e,1,r)&&(p=!0),f>2&&Si(t,e,2,i)&&(p=!0),f>3&&Si(t,e,3,o)&&(p=!0),f>4&&Si(t,e,4,a)&&(p=!0),f>5&&Si(t,e,5,s)&&(p=!0),f>6&&Si(t,e,6,u)&&(p=!0),f>7&&Si(t,e,7,l)&&(p=!0),f>8&&Si(t,e,8,c)&&(p=!0),f>9&&Si(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=!1,p=e.bindings,d=p.length;if(d>0&&Gr(t,e,0,n)&&(f=!0),d>1&&Gr(t,e,1,r)&&(f=!0),d>2&&Gr(t,e,2,i)&&(f=!0),d>3&&Gr(t,e,3,o)&&(f=!0),d>4&&Gr(t,e,4,a)&&(f=!0),d>5&&Gr(t,e,5,s)&&(f=!0),d>6&&Gr(t,e,6,u)&&(f=!0),d>7&&Gr(t,e,7,l)&&(f=!0),d>8&&Gr(t,e,8,c)&&(f=!0),d>9&&Gr(t,e,9,h)&&(f=!0),f){var m=e.text.prefix;d>0&&(m+=Vo(n,p[0])),d>1&&(m+=Vo(r,p[1])),d>2&&(m+=Vo(i,p[2])),d>3&&(m+=Vo(o,p[3])),d>4&&(m+=Vo(a,p[4])),d>5&&(m+=Vo(s,p[5])),d>6&&(m+=Vo(u,p[6])),d>7&&(m+=Vo(l,p[7])),d>8&&(m+=Vo(c,p[8])),d>9&&(m+=Vo(h,p[9]));var g=Dr(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return f}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=Or(t,e.nodeIndex),p=f.instance,d=!1,m=void 0,g=e.bindings.length;return g>0&&zr(t,e,0,n)&&(d=!0,m=Eo(t,f,e,0,n,m)),g>1&&zr(t,e,1,r)&&(d=!0,m=Eo(t,f,e,1,r,m)),g>2&&zr(t,e,2,i)&&(d=!0,m=Eo(t,f,e,2,i,m)),g>3&&zr(t,e,3,o)&&(d=!0,m=Eo(t,f,e,3,o,m)),g>4&&zr(t,e,4,a)&&(d=!0,m=Eo(t,f,e,4,a,m)),g>5&&zr(t,e,5,s)&&(d=!0,m=Eo(t,f,e,5,s,m)),g>6&&zr(t,e,6,u)&&(d=!0,m=Eo(t,f,e,6,u,m)),g>7&&zr(t,e,7,l)&&(d=!0,m=Eo(t,f,e,7,l,m)),g>8&&zr(t,e,8,c)&&(d=!0,m=Eo(t,f,e,8,c,m)),g>9&&zr(t,e,9,h)&&(d=!0,m=Eo(t,f,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&kr(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings,p=!1,d=f.length;if(d>0&&Gr(t,e,0,n)&&(p=!0),d>1&&Gr(t,e,1,r)&&(p=!0),d>2&&Gr(t,e,2,i)&&(p=!0),d>3&&Gr(t,e,3,o)&&(p=!0),d>4&&Gr(t,e,4,a)&&(p=!0),d>5&&Gr(t,e,5,s)&&(p=!0),d>6&&Gr(t,e,6,u)&&(p=!0),d>7&&Gr(t,e,7,l)&&(p=!0),d>8&&Gr(t,e,8,c)&&(p=!0),d>9&&Gr(t,e,9,h)&&(p=!0),p){var m=Ar(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(f.length),d>0&&(g[0]=n),d>1&&(g[1]=r),d>2&&(g[2]=i),d>3&&(g[3]=o),d>4&&(g[4]=a),d>5&&(g[5]=s),d>6&&(g[6]=u),d>7&&(g[7]=l),d>8&&(g[8]=c),d>9&&(g[9]=h);break;case 64:g={},d>0&&(g[f[0].name]=n),d>1&&(g[f[1].name]=r),d>2&&(g[f[2].name]=i),d>3&&(g[f[3].name]=o),d>4&&(g[f[4].name]=a),d>5&&(g[f[5].name]=s),d>6&&(g[f[6].name]=u),d>7&&(g[f[7].name]=l),d>8&&(g[f[8].name]=c),d>9&&(g[f[9].name]=h);break;case 128:var y=n;switch(d){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,i);break;case 4:g=y.transform(r,i,o);break;case 5:g=y.transform(r,i,o,a);break;case 6:g=y.transform(r,i,o,a,s);break;case 7:g=y.transform(r,i,o,a,s,u);break;case 8:g=y.transform(r,i,o,a,s,u,l);break;case 9:g=y.transform(r,i,o,a,s,u,l,c);break;case 10:g=y.transform(r,i,o,a,s,u,l,c,h)}}m.value=g}return p}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,i,o,a,s,u,l,c,h,f,p):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Si(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Gr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Vo(n[o],r[o]);a=e.text.prefix+a;var s=Dr(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Or(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)zr(t,e,s,n[s])&&(o=!0,a=Eo(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&kr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Gr(t,e,a,n[a])&&(o=!0);if(o){var s=Ar(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var l=n[0],c=n.slice(1);u=l.transform.apply(l,Object(r.__spread)(c))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Xo(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=xr(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Yr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Jo(t,e,n,r,i,o,a,s,u,l,c,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var f=e.bindings.length;f>0&&Kr(t,e,0,n),f>1&&Kr(t,e,1,r),f>2&&Kr(t,e,2,i),f>3&&Kr(t,e,3,o),f>4&&Kr(t,e,4,a),f>5&&Kr(t,e,5,s),f>6&&Kr(t,e,6,u),f>7&&Kr(t,e,7,l),f>8&&Kr(t,e,8,c),f>9&&Kr(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Kr(t,e,r,n[r])}(t,e,r),!1}function Zo(t,e){if(Nr(t,e.nodeIndex).dirty)throw Pr(Rr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ta(t){if(!(128&t.state)){if(ra(t,ea.Destroy),na(t,ea.Destroy),Co(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Xr(t);if(e){var n=e.template._projectedViews;n&&(Li(n,n.indexOf(t)),Rr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(xr(t,n).renderElement):2&r.flags?t.renderer.destroyNode(Dr(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Nr(t,n).destroy()}}(t),ti(t)&&t.renderer.destroy(),t.state|=128}}var ea=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function na(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?ia(xr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ra(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=xr(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)ia(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ia(t,e){var n=t.state;switch(e){case ea.CheckNoChanges:0==(128&n)&&(12==(12&n)?Qo(t):64&n&&oa(t,ea.CheckNoChangesProjectedViews));break;case ea.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Qo(t):64&n&&oa(t,e));break;case ea.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Yo(t):64&n&&oa(t,ea.CheckAndUpdateProjectedViews));break;case ea.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Yo(t):64&n&&oa(t,e));break;case ea.Destroy:ta(t);break;case ea.CreateViewNodes:Ko(t)}}function oa(t,e){ra(t,e),na(t,e)}function aa(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Rr.setCurrentNode(t,a.nodeIndex),r){case 0:Do(t,a);break;case 1:Zo(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var sa=!1;function ua(t,e,n,r,i,o){var a=i.injector.get(hn);return Ho(ca(t,i,a,e,n),r,o)}function la(t,e,n,r,i,o){var a=i.injector.get(hn),s=ca(t,i,new Wa(a),e,n),u=_a(r);return qa(xa.create,Ho,null,[s,u,o])}function ca(t,e,n,r,i){var o=e.injector.get(Tr),a=e.injector.get(le),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function ha(t,e,n,r){var i=_a(n);return qa(xa.create,qo,null,[t,e,i,r])}function fa(t,e,n,r){return n=ga.get(e.element.componentProvider.provider.token)||_a(n),qa(xa.create,Wo,null,[t,e,n,r])}function pa(t,e,n,r){return Ji(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===da.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=da.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){ma.forEach(function(r,i){i.ngInjectableDef.providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=da.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=ii(i.deps),r.value=i.value)}if(ma.size>0){var o=new Set(t.modules);ma.forEach(function(e,r){if(o.has(r.ngInjectableDef.providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:ii(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Ur(r)]=i}})}}(t=t.factory(function(){return Fr})),t):t}(r))}var da=new Map,ma=new Map,ga=new Map;function ya(t){da.set(t.token,t),"function"==typeof t.token&&t.token.ngInjectableDef&&"function"==typeof t.token.ngInjectableDef.providedIn&&ma.set(t.token,t)}function va(t,e){var n=si(e.viewDefFactory),r=si(n.nodes[0].element.componentView);ga.set(t,r)}function ba(){da.clear(),ma.clear(),ga.clear()}function _a(t){if(0===da.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&da.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Fr});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=da.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=ii(o.deps),i.value=o.value)}}}}function wa(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return $o(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?Ar(t,e).value:void 0}function Ea(t,e,n,r,i,o,a,s,u,l,c,h,f){var p=t.def.nodes[e];return Jo(t,p,n,r,i,o,a,s,u,l,c,h,f),224&p.flags?Ar(t,e).value:void 0}function Ca(t){return qa(xa.detectChanges,Yo,null,[t])}function Sa(t){return qa(xa.checkNoChanges,Qo,null,[t])}function Ta(t){return qa(xa.destroy,ta,null,[t])}var Ia,ka,Da,xa=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Oa(t,e){ka=t,Da=e}function Aa(t,e,n,r){return Oa(t,e),qa(xa.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Na(t,e){if(128&t.state)throw Lr(xa[Ia]);return Oa(t,Va(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Pa(t,a,r,i):Ma(t,a,r,i),16384&a.flags&&Oa(t,Va(t,n)),224&a.flags?Ar(t,a.nodeIndex).value:void 0},t)}function Ra(t,e){if(128&t.state)throw Lr(xa[Ia]);return Oa(t,Ua(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Pa(t,a,r,i):Ma(t,a,r,i),3&a.flags&&Oa(t,Ua(t,n)),224&a.flags?Ar(t,a.nodeIndex).value:void 0},t)}function Pa(t,e,n,i){if($o.apply(void 0,Object(r.__spread)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],l=o[s];8&u.flags&&(a[(p=u.nonMinifiedName,d=void 0,d=p.replace(/[$@]/g,"_"),"ng-reflect-"+(p=d.replace(La,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Fa(l))}var c=e.parent,h=xr(t,c.nodeIndex).renderElement;if(c.element.name)for(var f in a)null!=(l=a[f])?t.renderer.setAttribute(h,f,l):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var p,d}function Ma(t,e,n,i){Jo.apply(void 0,Object(r.__spread)([t,e,n],i))}var La=/([A-Z])/g;function Fa(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Va(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Ua(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ja=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Jr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return xr(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Ki(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Ba(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Ba(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ti(t);)t=t.parent;return t.parent?xr(t.parent,Jr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Zr(this.view,this.nodeDef):Zr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){return++s===a?(e=t.error).bind.apply(e,Object(r.__spread)([t],i)):Fr;var e}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.__spread)(i)))},t}();function Ba(t,e,n){for(var r in e.references)n[r]=Oo(t,e,e.references[r])}function qa(t,e,n,r){var i=Ia,o=ka,a=Da;try{Ia=t;var s=e.apply(n,r);return ka=o,Da=a,Ia=i,s}catch(u){if(ae(u)||!ka)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Mr(t,e),t}(u,Ha())}}function Ha(){return ka?new ja(ka,Da):null}var Wa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new za(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),za=function(){function t(t){this.delegate=t,this.data=this.delegate.data}return t.prototype.destroyNode=function(t){!function(t){kn.delete(t.nativeNode)}(Dn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Ha();if(r){var i=new In(n,null,r);i.name=t,xn(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Ha();return n&&xn(new Tn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Ha();return n&&xn(new Tn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Dn(t),r=Dn(e);n&&r&&n instanceof In&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Dn(t),i=Dn(e),o=Dn(n);r&&i&&r instanceof In&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Dn(t),r=Dn(e);n&&r&&n instanceof In&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Ha();return n&&xn(new In(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=Dn(t);i&&i instanceof In&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Dn(t);r&&r instanceof In&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Dn(t);n&&n instanceof In&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Dn(t);n&&n instanceof In&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Dn(t);i&&i instanceof In&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Dn(t);r&&r instanceof In&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Dn(t);r&&r instanceof In&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Dn(t);r&&r.listeners.push(new Sn(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Ga(t,e,n){return new Ka(t,e,n)}var Ka=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.__extends)(e,t),e.prototype.create=function(t){!function(){if(!sa){sa=!0;var t=en()?{setCurrentNode:Oa,createRootView:la,createEmbeddedView:ha,createComponentView:fa,createNgModuleRef:pa,overrideProvider:ya,overrideComponentView:va,clearOverrides:ba,checkAndUpdateView:Ca,checkNoChangesView:Sa,destroyView:Ta,createDebugContext:function(t,e){return new ja(t,e)},handleEvent:Aa,updateDirectives:Na,updateRenderer:Ra}:{setCurrentNode:function(){},createRootView:ua,createEmbeddedView:qo,createComponentView:Wo,createNgModuleRef:Ji,overrideProvider:Fr,overrideComponentView:Fr,clearOverrides:Fr,checkAndUpdateView:Yo,checkNoChangesView:Qo,destroyView:ta,createDebugContext:function(t,e){return new ja(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?wa:Ea,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?wa:Ea,t)}};Rr.setCurrentNode=t.setCurrentNode,Rr.createRootView=t.createRootView,Rr.createEmbeddedView=t.createEmbeddedView,Rr.createComponentView=t.createComponentView,Rr.createNgModuleRef=t.createNgModuleRef,Rr.overrideProvider=t.overrideProvider,Rr.overrideComponentView=t.overrideComponentView,Rr.clearOverrides=t.clearOverrides,Rr.checkAndUpdateView=t.checkAndUpdateView,Rr.checkNoChangesView=t.checkNoChangesView,Rr.destroyView=t.destroyView,Rr.resolveDep=_o,Rr.createDebugContext=t.createDebugContext,Rr.handleEvent=t.handleEvent,Rr.updateDirectives=t.updateDirectives,Rr.updateRenderer=t.updateRenderer,Rr.dirtyParentQueries=ko}}();var e=si(this._ngModuleDefFactory);return Rr.createNgModuleRef(this.moduleType,t||Ft.NULL,this._bootstrapComponents,e)},e}(Pe);function Qa(t,e,n,r){var i=r?e:n;i&&function(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}(t,i)}var Ya,$a,Xa,Ja,Za,ts,es,ns,rs,is="__ngHostLNode__",os=Promise.resolve(null),as=[0,0],ss=null,us=!1;function ls(t,e){var n=ss;return es=t&&t.data,ns=t&&t.directives,t&&t.tView.data,ts=t&&1==(1&t.flags),Ya=t&&t.renderer,t&&t.bindingIndex<0&&(t.bindingIndex=t.bindingStartIndex),null!=e&&(Xa=e,Ja=!0),ss=t,Za=t&&t.queries,n}function cs(t){us||Qa(ns,ss.tView.viewHooks,ss.tView.viewCheckHooks,ts),ss.flags&=-6,ss.lifecycleStage=1,ss.bindingIndex=-1,ls(t,null)}function hs(){ps();var t=ss.tView;t.firstTemplatePass=!1,fs(t.hostBindings),function(t){if(null!=t)for(var e=0;e<t.length;e+=2)gs(t[e],t[e+1])}(t.components)}function fs(t){if(null!=t)for(var e=ss.tView.directives,n=0;n<t.length;n+=2){var r=t[n],i=e[r];i.hostBindings&&i.hostBindings(r,t[n+1])}}function ps(){if(!us){var t=ss.tView;(function(t,e,n){1===t.lifecycleStage&&(Qa(t.directives,e.initHooks,e.checkHooks,n),t.lifecycleStage=2)})(ss,t,ts),Qa(ns,t.contentHooks,t.contentCheckHooks,ts)}}function ds(t,e,n,r,i,o){var a,s,u,l,c,h,f=Ja,p=Xa;try{Ja=!0,Xa=null;var d=2;null==t&&(null,2,null,s=function(t,e,n,r,i,o){return{parent:ss,id:-1,flags:11,node:null,data:[],directives:null,tView:n,cleanup:null,renderer:e,child:null,tail:null,next:null,bindingStartIndex:-1,bindingIndex:-1,template:r,context:i,dynamicViewCount:0,lifecycleStage:1,queries:null,injector:ss&&ss.injector}}(0,r,function(t,e,n){return t.ngPrivateData||(t.ngPrivateData=function(t,e){return{data:[],directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,hostBindings:null,components:null,directiveRegistry:"function"==typeof t?t():t,pipeRegistry:"function"==typeof e?e():e,currentMatches:null}}(e,n))}(e,i||null,o||null),e,n),u=Ja?Xa:Xa&&Xa.parent,l=(Ja?Za:Xa&&Xa.queries)||u&&u.queries&&u.queries.child(),h=function(t,e,n,r,i,o){return{type:2,native:null,view:e,parent:n,child:null,next:null,nodeInjector:n?n.nodeInjector:null,data:i,queries:o,tNode:null,pNextOrParent:null,dynamicLContainerNode:null}}(0,ss,u,0,(c=null!=s)?s:null,l),c&&(s.node=h),Xa=h,Ja=!0,t=h,d=1),a=ls(t.data,t),e(d,n),hs(),ms()}finally{cs(a),Ja=f,Xa=p}return t}function ms(){for(var t=ss.child;null!==t;t=t.next)if(0!==t.dynamicViewCount&&t.views)for(var e=t,n=0;n<e.views.length;n++){var r=e.views[n];ds(r,r.data.template,r.data.context,Ya)}}function gs(t,e){var n,r=es[e],i=r.data;8==(8&i.flags)&&6&i.flags&&vs(i,r,ss.tView.directives[t],(n=ns[t],Array.isArray(n)?n[0]:n))}function ys(t){var e=bs(t);vs(e.data,e,e.view.tView.directives[e.tNode.flags>>13],t)}function vs(t,e,n,r){var i=ls(t,e),o=n.template;try{o(1&t.flags?3:2,r),hs(),ms()}finally{cs(i)}}function bs(t){return t[is]}rs=function(){function t(t,e){this._view=t,this.context=e}return t.prototype._setComponentContext=function(t,e){this._view=t,this.context=e},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t.prototype.markForCheck=function(){!function(t){for(var e=t;null!=e.parent;)e.flags|=4,e=e.parent;var n,r;e.flags|=4,(n=e.context).clean==os&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){var t;t=function(t){for(var e=bs(n.component).view;e.parent;)e=e.parent;return e}(),function(e,n,r,i){var o=ls(t,e);try{$a.begin&&$a.begin(),ps(),fs(as),gs(0,0)}finally{$a.end&&$a.end(),cs(o)}}(bs(t.context.component)),r(null),n.clean=os}))}(this._view)},t.prototype.detach=function(){this._view.flags&=-9},t.prototype.reattach=function(){this._view.flags|=8},t.prototype.detectChanges=function(){ys(this.context)},t.prototype.checkNoChanges=function(){!function(t){us=!0;try{ys(t)}finally{us=!1}}(this.context)},t}(),Object(r.__extends)(function(t,e,n){var r=rs.call(this,t.data,n)||this;return r._lViewNode=t,r},rs);var _s=n("1BeU").adapterFactory,ws=function(){return function(){}}(),Es=n("wj3C"),Cs=n.n(Es),Ss=new T(function(t){return t.complete()});function Ts(t){return t?function(t){return new T(function(e){return t.schedule(function(){return e.complete()})})}(t):Ss}function Is(t){var e=new T(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function ks(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(k(n)?t.pop():n=void 0,t.length){case 0:return Ts(n);case 1:return n?H(t,n):Is(t[0]);default:return H(t,n)}}function Ds(t,e){return"function"==typeof e?function(n){return n.pipe(Ds(function(n,r){return W(t(n,r)).pipe(j(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new xs(t))}}var xs=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Os(t,this.project))},t}(),Os=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=V(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(U),As=function(){return function(){}}(),Ns=new pt("Location Initialized"),Rs=function(){return function(){}}(),Ps=new pt("appBaseHref"),Ms=function(){function t(e){var n=this;this._subject=new je,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(Ls(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ls(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function Ls(t){return t.replace(/\/index.html$/,"")}var Fs=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(r.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Ms.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ms.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ms.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Rs),Vs=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(r.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Ms.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Ms.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ms.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Ms.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Rs),Us=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],js={},Bs=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),qs=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Hs=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Ws=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),zs=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Gs=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Ks(t,e,n){var r=nu(t),i=tu([r[3],r[4]],e);return tu(i,n)}function Qs(t,e,n){var r=nu(t),i=tu([r[5],r[6]],e);return tu(i,n)}function Ys(t,e){return tu(nu(t)[10],e)}function $s(t,e){return tu(nu(t)[11],e)}function Xs(t,e){return tu(nu(t)[12],e)}function Js(t,e){var n=nu(t),r=n[13][e];if(void 0===r){if(e===Gs.CurrencyDecimal)return n[13][Gs.Decimal];if(e===Gs.CurrencyGroup)return n[13][Gs.Group]}return r}function Zs(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function tu(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function eu(t){var e=Object(r.__read)(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function nu(t){var e=t.toLowerCase().replace(/_/g,"-"),n=js[e];if(n)return n;var r=e.split("-")[0];if(n=js[r])return n;if("en"===r)return Us;throw new Error('Missing locale data for the locale "'+t+'".')}var ru=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iu={},ou=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,au=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),su=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),uu=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function lu(t,e,n,i){var o=function(t){if(_u(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,n=parseFloat(t);if(!isNaN(t-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var i=Object(r.__read)(t.split("-").map(function(t){return+t}),3);return new Date(i[0],i[1]-1,i[2])}if(e=t.match(ru))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,l),e}(e)}var o=new Date(t);if(!_u(o))throw new Error('Unable to convert "'+t+'" into a date');return o}(t);e=function t(e,n){var r=function(t){return nu(t)[0]}(e);if(iu[r]=iu[r]||{},iu[r][n])return iu[r][n];var i="";switch(n){case"shortDate":i=Ys(e,zs.Short);break;case"mediumDate":i=Ys(e,zs.Medium);break;case"longDate":i=Ys(e,zs.Long);break;case"fullDate":i=Ys(e,zs.Full);break;case"shortTime":i=$s(e,zs.Short);break;case"mediumTime":i=$s(e,zs.Medium);break;case"longTime":i=$s(e,zs.Long);break;case"fullTime":i=$s(e,zs.Full);break;case"short":var o=t(e,"shortTime"),a=t(e,"shortDate");i=cu(Xs(e,zs.Short),[o,a]);break;case"medium":var s=t(e,"mediumTime"),u=t(e,"mediumDate");i=cu(Xs(e,zs.Medium),[s,u]);break;case"long":var l=t(e,"longTime"),c=t(e,"longDate");i=cu(Xs(e,zs.Long),[l,c]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=cu(Xs(e,zs.Full),[h,f])}return i&&(iu[r][n]=i),i}(n,e)||e;for(var a,s=[];e;){if(!(a=ou.exec(e))){s.push(e);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;e=u}var l=o.getTimezoneOffset();i&&(l=bu(i,l),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(bu(e,r)-r))}(o,i));var c="";return s.forEach(function(t){var e=function(t){if(vu[t])return vu[t];var e;switch(t){case"G":case"GG":case"GGG":e=pu(uu.Eras,Ws.Abbreviated);break;case"GGGG":e=pu(uu.Eras,Ws.Wide);break;case"GGGGG":e=pu(uu.Eras,Ws.Narrow);break;case"y":e=fu(su.FullYear,1,0,!1,!0);break;case"yy":e=fu(su.FullYear,2,0,!0,!0);break;case"yyy":e=fu(su.FullYear,3,0,!1,!0);break;case"yyyy":e=fu(su.FullYear,4,0,!1,!0);break;case"M":case"L":e=fu(su.Month,1,1);break;case"MM":case"LL":e=fu(su.Month,2,1);break;case"MMM":e=pu(uu.Months,Ws.Abbreviated);break;case"MMMM":e=pu(uu.Months,Ws.Wide);break;case"MMMMM":e=pu(uu.Months,Ws.Narrow);break;case"LLL":e=pu(uu.Months,Ws.Abbreviated,Hs.Standalone);break;case"LLLL":e=pu(uu.Months,Ws.Wide,Hs.Standalone);break;case"LLLLL":e=pu(uu.Months,Ws.Narrow,Hs.Standalone);break;case"w":e=yu(1);break;case"ww":e=yu(2);break;case"W":e=yu(1,!0);break;case"d":e=fu(su.Date,1);break;case"dd":e=fu(su.Date,2);break;case"E":case"EE":case"EEE":e=pu(uu.Days,Ws.Abbreviated);break;case"EEEE":e=pu(uu.Days,Ws.Wide);break;case"EEEEE":e=pu(uu.Days,Ws.Narrow);break;case"EEEEEE":e=pu(uu.Days,Ws.Short);break;case"a":case"aa":case"aaa":e=pu(uu.DayPeriods,Ws.Abbreviated);break;case"aaaa":e=pu(uu.DayPeriods,Ws.Wide);break;case"aaaaa":e=pu(uu.DayPeriods,Ws.Narrow);break;case"b":case"bb":case"bbb":e=pu(uu.DayPeriods,Ws.Abbreviated,Hs.Standalone,!0);break;case"bbbb":e=pu(uu.DayPeriods,Ws.Wide,Hs.Standalone,!0);break;case"bbbbb":e=pu(uu.DayPeriods,Ws.Narrow,Hs.Standalone,!0);break;case"B":case"BB":case"BBB":e=pu(uu.DayPeriods,Ws.Abbreviated,Hs.Format,!0);break;case"BBBB":e=pu(uu.DayPeriods,Ws.Wide,Hs.Format,!0);break;case"BBBBB":e=pu(uu.DayPeriods,Ws.Narrow,Hs.Format,!0);break;case"h":e=fu(su.Hours,1,-12);break;case"hh":e=fu(su.Hours,2,-12);break;case"H":e=fu(su.Hours,1);break;case"HH":e=fu(su.Hours,2);break;case"m":e=fu(su.Minutes,1);break;case"mm":e=fu(su.Minutes,2);break;case"s":e=fu(su.Seconds,1);break;case"ss":e=fu(su.Seconds,2);break;case"S":e=fu(su.FractionalSeconds,1);break;case"SS":e=fu(su.FractionalSeconds,2);break;case"SSS":e=fu(su.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=du(au.Short);break;case"ZZZZZ":e=du(au.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=du(au.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=du(au.Long);break;default:return null}return vu[t]=e,e}(t);c+=e?e(o,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function cu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function hu(t,e,n,r,i){void 0===n&&(n="-");var o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function fu(t,e,n,r,i){return void 0===n&&(n=0),void 0===r&&(r=!1),void 0===i&&(i=!1),function(o,a){var s,u=function(t,e){switch(t){case su.FullYear:return e.getFullYear();case su.Month:return e.getMonth();case su.Date:return e.getDate();case su.Hours:return e.getHours();case su.Minutes:return e.getMinutes();case su.Seconds:return e.getSeconds();case su.FractionalSeconds:return e.getMilliseconds();case su.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,o);if((n>0||u>-n)&&(u+=n),t===su.Hours)0===u&&-12===n&&(u=12);else if(t===su.FractionalSeconds)return s=e,hu(u,3).substr(0,s);var l=Js(a,Gs.MinusSign);return hu(u,e,l,r,i)}}function pu(t,e,n,r){return void 0===n&&(n=Hs.Format),void 0===r&&(r=!1),function(i,o){return function(t,e,n,r,i,o){switch(n){case uu.Months:return Qs(e,i,r)[t.getMonth()];case uu.Days:return Ks(e,i,r)[t.getDay()];case uu.DayPeriods:var a=t.getHours(),s=t.getMinutes();if(o){var u,l=function(t){var e=nu(t);return Zs(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?eu(t):[eu(t[0]),eu(t[1])]})}(e),c=function(t,e,n){var r=nu(t);Zs(r);var i=tu([r[19][0],r[19][1]],e)||[];return tu(i,n)||[]}(e,i,r);if(l.forEach(function(t,e){if(Array.isArray(t)){var n=t[0],r=t[1],i=r.hours;a>=n.hours&&s>=n.minutes&&(a<i||a===i&&s<r.minutes)&&(u=c[e])}else t.hours===a&&t.minutes===s&&(u=c[e])}),u)return u}return function(t,e,n){var r=nu(t),i=tu([r[1],r[2]],e);return tu(i,n)}(e,i,r)[a<12?0:1];case uu.Eras:return function(t,e){return tu(nu(t)[7],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,o,t,e,n,r)}}function du(t){return function(e,n,r){var i=-1*r,o=Js(n,Gs.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case au.Short:return(i>=0?"+":"")+hu(a,2,o)+hu(Math.abs(i%60),2,o);case au.ShortGMT:return"GMT"+(i>=0?"+":"")+hu(a,1,o);case au.Long:return"GMT"+(i>=0?"+":"")+hu(a,2,o)+":"+hu(Math.abs(i%60),2,o);case au.Extended:return 0===r?"Z":(i>=0?"+":"")+hu(a,2,o)+":"+hu(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'+t+'"')}}}var mu=0,gu=4;function yu(t,e){return void 0===e&&(e=!1),function(n,r){var i,o,a,s;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(a=n.getFullYear(),s=new Date(a,mu,1).getDay(),new Date(a,0,1+(s<=gu?gu:gu+7)-s)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(gu-o.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return hu(i,t,Js(r,Gs.MinusSign))}}var vu={};function bu(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function _u(t){return t instanceof Date&&!isNaN(t.valueOf())}var wu=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Eu(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Cu=new pt("UseV4Plurals"),Su=function(){return function(){}}(),Tu=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(r.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return nu(t)[18]}(e||this.locale)(t)){case qs.Zero:return"zero";case qs.One:return"one";case qs.Two:return"two";case qs.Few:return"few";case qs.Many:return"many";default:return"other"}},e}(Su),Iu=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Rn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+It(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),ku=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Du=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){en()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((n=e).name||typeof n)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var n},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new ku(null,e.ngForOf,-1,-1),i),a=new xu(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new xu(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this.ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}(),xu=function(){return function(t,e){this.record=t,this.view=e}}(),Ou=function(){function t(t,e){this._viewContainer=t,this._context=new Au,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Nu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Nu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),Au=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Nu(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+It(e)+"'.")}var Ru=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),Pu=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),Mu=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Ru(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),Lu=function(){function t(t){this._viewContainerRef=t}return t.prototype.ngOnChanges=function(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,i=Object.keys(t.previousValue||{}),o=Object.keys(t.currentValue||{});if(i.length===o.length){try{for(var a=Object(r.__values)(o),s=a.next();!s.done;s=a.next())if(-1===i.indexOf(s.value))return!0}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){try{for(var e=Object(r.__values)(Object.keys(t)),n=e.next();!n.done;n=e.next()){var i=n.value;this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}catch(s){o={error:s}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}var o,a},t}();function Fu(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+It(t)+"'")}var Vu=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Uu=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),ju=new Vu,Bu=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,An.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(he(e))return Uu;if(fe(e))return ju;throw Fu(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),qu=function(){function t(t){this.locale=t}return t.prototype.transform=function(e,n,r,i){if(void 0===n&&(n="mediumDate"),null==e||""===e||e!=e)return null;try{return lu(e,n,i||this.locale,r)}catch(o){throw Fu(t,o.message)}},t}(),Hu=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r){if(function(t){return null==t||""===t||t!=t}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,a){void 0===a&&(a=!1);var s="",u=!1;if(isFinite(t)){var l=function(e){var n,r,i,o,a,s=Math.abs(t)+"",u=0;for((r=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(r<0&&(r=i),r+=+s.slice(i+1),s=s.substring(0,i)):r<0&&(r=s.length),i=0;"0"===s.charAt(i);i++);if(i===(a=s.length))n=[0],r=1;else{for(a--;"0"===s.charAt(a);)a--;for(r-=i,n=[],o=0;i<=a;i++,o++)n[o]=Number(s.charAt(i))}return r>22&&(n=n.splice(0,21),u=r-1,r=1),{digits:n,exponent:u,integerLen:r}}();a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var c=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){var p=o.match(wu);if(null===p)throw new Error(o+" is not a valid digit info");var d=p[1],m=p[3],g=p[5];null!=d&&(c=Eu(d)),null!=m&&(h=Eu(m)),null!=g?f=Eu(g):null!=m&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction ("+e+") is higher than the maximum ("+n+").");var r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),a=o+t.integerLen,s=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(var u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(var l=1;l<a;l++)r[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);var h=0!==o,f=e+t.integerLen,p=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),e>=10?1:0},0);p&&(r.unshift(p),t.integerLen++)}(l,h,f);var y=l.digits,v=l.integerLen,b=l.exponent,_=[];for(u=y.every(function(t){return!t});v<c;v++)y.unshift(0);for(;v<0;v++)y.unshift(0);v>0?_=y.splice(v,y.length):(_=y,y=[0]);var w=[];for(y.length>=e.lgSize&&w.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)w.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&w.unshift(y.join("")),s=w.join(Js(n,r)),_.length&&(s+=Js(n,i)+_.join("")),b&&(s+=Js(n,Gs.Exponential)+"+"+b)}else s=Js(n,Gs.Infinity);return t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,function(t,e){void 0===e&&(e="-");var n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],a=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<u.length;l++){var c=u.charAt(l);"0"===c?n.minFrac=n.maxFrac=l+1:"#"===c?n.maxFrac=l+1:n.posSuf+=c}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf("#");n.negPre=o.substr(0,p).replace(/'/g,""),n.negSuf=o.substr(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return nu(t)[14][e]}(e,Bs.Decimal),Js(e,Gs.MinusSign)),e,Gs.Group,Gs.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),r,n)}catch(i){throw Fu(t,i.message)}},t}(),Wu=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw Fu(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}(),zu=function(){return function(){}}(),Gu=new pt("DocumentToken"),Ku="browser",Qu="server";function Yu(t){return t===Ku}function $u(t){return t===Qu}var Xu=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return r.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(g)),Ju=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.__extends(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(Xu),Zu=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),tl=function(t){function e(n,r){void 0===r&&(r=Zu.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.__extends(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Zu),el=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(tl))(Ju),nl=function(t){function e(){var n=t.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error);function rl(t,e){return function(n){return n.lift(new il(t,e))}}var il=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new ol(t,this.predicate,this.thisArg))},t}(),ol=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(b),al=function(t){function e(){var n=t.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,e.prototype),n}return r.__extends(e,t),e}(Error);function sl(t){return function(e){return 0===t?Ts():e.lift(new ul(t))}}var ul=function(){function t(t){if(this.total=t,this.total<0)throw new al}return t.prototype.call=function(t,e){return e.subscribe(new ll(t,this.total))},t}(),ll=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(b);function cl(t){return void 0===t&&(t=null),function(e){return e.lift(new hl(t))}}var hl=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new fl(t,this.defaultValue))},t}(),fl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(b);function pl(t,e,n){return function(r){return r.lift(new dl(t,e,n))}}var dl=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new ml(t,this.nextOrObserver,this.error,this.complete))},t}(),ml=function(t){function e(e,n,r,o){var a=t.call(this,e)||this;return a._tapNext=E,a._tapError=E,a._tapComplete=E,a._tapError=r||E,a._tapComplete=o||E,i(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||E,a._tapError=n.error||E,a._tapComplete=n.complete||E),a}return r.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(b),gl=function(t){return void 0===t&&(t=yl),pl({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function yl(){return new nl}function vl(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?rl(function(e,n){return t(e,n,r)}):Q,sl(1),n?cl(e):gl(function(){return new nl}))}}var bl=new pt("angularfire2.app.options"),_l=new pt("angularfire2.app.nameOrConfig"),wl=new pt("angularfire2.realtimeDatabaseURL"),El=function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return el.schedule.apply(el,t)})},t.prototype.keepUnstableUntilFirst=function(t){var e=this;return $u(this.platformId)?new T(function(n){var r=function(){},i=Zone.current.scheduleMacroTask("firebaseZoneBlock",r,{},r,r);return t.pipe(vl()).subscribe(function(){return e.zone.runOutsideAngular(function(){return i.invoke()})}),t.subscribe(n)}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new T(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}(),Cl=function(){return function(){}}();function Sl(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Cs.a.apps.filter(function(t){return t.name===n.name})[0]||Cs.a.initializeApp(t,n)}new Ot;var Tl=function(){function t(){}return t.initializeApp=function(e,n){return{ngModule:t,providers:[{provide:bl,useValue:e},{provide:_l,useValue:n}]}},t}(),Il=function(){return function(t,e,n,r){var i=this;this.zone=r;var o=new El(r,n);this.auth=r.runOutsideAngular(function(){return Sl(t,e).auth()}),this.authState=o.keepUnstableUntilFirst(o.runOutsideAngular(new T(function(t){return{unsubscribe:i.auth.onAuthStateChanged(t)}}))),this.user=o.keepUnstableUntilFirst(o.runOutsideAngular(new T(function(t){return{unsubscribe:i.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Ds(function(t){return t?W(t.getIdToken()):ks(null)})),this.idTokenResult=this.user.pipe(Ds(function(t){return t?W(t.getIdTokenResult()):ks(null)}))}}();(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}function o(){}function a(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){return null===t}function u(t){return"array"==a(t)}function l(t){var e=a(t);return"array"==e||"object"==e&&"number"==typeof t.length}function c(t){return"function"==a(t)}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:m).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v=Date.now||function(){return+new Date};function b(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function w(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");E.call(this,n+t[r])}function S(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function T(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function I(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function k(){this.b=this.a=null}b(E,Error),E.prototype.name="CustomError",b(C,E),C.prototype.name="AssertionError",T.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new T(function(){return new O},function(t){t.reset()});function x(){var t=ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function O(){this.next=this.b=this.a=null}k.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},O.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},O.prototype.reset=function(){this.next=this.b=this.a=null};var A=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)},R=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,a=0;a<n;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},P=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function M(t,e){return 0<=A(t,e)}function L(t,e){var n;return(n=0<=(e=A(t,e)))&&Array.prototype.splice.call(t,e,1),n}function F(t,e){!function(t,e){var n=t.length,i=r(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function V(t){return Array.prototype.concat.apply([],arguments)}function U(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function j(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var B=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function q(t){return $.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(W,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(G,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(K,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Q,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Y,"&#0;")),t):t}var H,W=/&/g,z=/</g,G=/>/g,K=/"/g,Q=/'/g,Y=/\x00/g,$=/[\x00&<>"']/;function X(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:t>e?1:0}t:{var Z=n.navigator;if(Z){var tt=Z.userAgent;if(tt){H=tt;break t}}H=""}function et(t){return X(H,t)}function nt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function rt(t){for(var e in t)return!1;return!0}function it(t){var e,n={};for(e in t)n[e]=t[e];return n}var ot,at,st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<st.length;o++)n=st[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lt(t){n.setTimeout(function(){throw t},0)}function ct(t,e){at||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);at=function(){t.then(pt)}}else at=function(){var t=pt;!c(n.setImmediate)||n.Window&&n.Window.prototype&&!et("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ot||(ot=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!et("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!et("Trident")&&!et("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).vb;r.vb=null,t()}},function(t){i.next={vb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),ot(t)):n.setImmediate(t)}}(),ht||(at(),ht=!0),ft.add(t,e)}var ht=!1,ft=new k;function pt(){for(var t;t=x();){try{t.a.call(t.b)}catch(e){lt(e)}I(D,t)}ht=!1}function dt(t,e){if(this.a=mt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=o)try{var n=this;t.call(e,function(t){It(n,gt,t)},function(t){if(!(t instanceof Rt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}It(n,yt,t)})}catch(r){It(this,yt,r)}}var mt=0,gt=2,yt=3;function vt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}vt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var bt=new T(function(){return new vt},function(t){t.reset()});function _t(t,e,n){var r=bt.get();return r.g=t,r.b=e,r.f=n,r}function wt(t){if(t instanceof dt)return t;var e=new dt(o);return It(e,gt,t),e}function Et(t){return new dt(function(e,n){n(t)})}function Ct(t,e,n){kt(t,e,n,null)||ct(y(e,t))}function St(t,e){t.b||t.a!=gt&&t.a!=yt||Dt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Tt(t,e,n,r){var i=_t(null,null,null);return i.a=new dt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Rt?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,St(t,i),i.a}function It(t,e,n){t.a==mt&&(t===n&&(e=yt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,kt(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,Dt(t),e!=yt||n instanceof Rt||function(t,e){t.g=!0,ct(function(){t.g&&Nt.call(null,e)})}(t,n)))}function kt(t,e,n,r){if(t instanceof dt)return St(t,_t(e||o,n||null,r)),!0;if(w(t))return t.then(e,n,r),!0;if(h(t))try{var i=t.then;if(c(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(a){return n.call(r,a),!0}return!1}function Dt(t){t.h||(t.h=!0,ct(t.Wb,t))}function xt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Ot(t,e,n,r){if(n==yt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,At(e,n,r);else try{e.c?e.g.call(e.f):At(e,n,r)}catch(i){Nt.call(null,i)}I(bt,e)}function At(t,e,n){e==gt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}dt.prototype.then=function(t,e,n){return Tt(this,c(t)?t:null,c(e)?e:null,n)},_(dt),(t=dt.prototype).ia=function(t,e){return(t=_t(t,t,e)).c=!0,St(this,t),this},t.s=function(t,e){return Tt(this,null,t,e)},t.cancel=function(t){this.a==mt&&ct(function(){!function t(e,n){if(e.a==mt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==mt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):xt(r),Ot(r,o,yt,n)))}e.c=null}else It(e,yt,n)}(this,new Rt(t))},this)},t.Nc=function(t){this.a=mt,It(this,gt,t)},t.Oc=function(t){this.a=mt,It(this,yt,t)},t.Wb=function(){for(var t;t=xt(this);)Ot(this,t,this.a,this.i);this.h=!1};var Nt=lt;function Rt(t){E.call(this,t)}function Pt(){0!=Mt&&(Lt[this[f]||(this[f]=++p)]=this),this.pa=this.pa,this.ja=this.ja}b(Rt,E),Rt.prototype.name="cancel";var Mt=0,Lt={};function Ft(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=Mt)){var e=t[f]||(t[f]=++p);if(0!=Mt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Lt[e]}}function Vt(t){return Vt[" "](t),t}Pt.prototype.pa=!1,Pt.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Vt[" "]=o;var Ut,jt,Bt=et("Opera"),qt=et("Trident")||et("MSIE"),Ht=et("Edge"),Wt=Ht||qt,zt=et("Gecko")&&!(X(H.toLowerCase(),"webkit")&&!et("Edge"))&&!(et("Trident")||et("MSIE"))&&!et("Edge"),Gt=X(H.toLowerCase(),"webkit")&&!et("Edge");function Kt(){var t=n.document;return t?t.documentMode:void 0}t:{var Qt="",Yt=(jt=H,zt?/rv:([^\);]+)(\)|;)/.exec(jt):Ht?/Edge\/([\d\.]+)/.exec(jt):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(jt):Gt?/WebKit\/(\S+)/.exec(jt):Bt?/(?:Version)[ \/]?(\S+)/.exec(jt):void 0);if(Yt&&(Qt=Yt?Yt[1]:""),qt){var $t=Kt();if(null!=$t&&$t>parseFloat(Qt)){Ut=String($t);break t}}Ut=Qt}var Xt,Jt={};function Zt(t){return function(t,e){var n=Jt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=B(String(Ut)).split("."),r=B(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=J(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==a[2].length,0==s[2].length)||J(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var te=n.document;Xt=te&&qt?Kt()||("CSS1Compat"==te.compatMode?parseInt(Ut,10):5):void 0;var ee=Object.freeze||function(t){return t},ne=!qt||9<=Number(Xt),re=qt&&!Zt("9"),ie=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",o,e),n.removeEventListener("test",o,e),t}();function oe(t,e){this.type=t,this.b=this.target=e,this.Ib=!0}function ae(t,e){if(oe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(zt){t:{try{Vt(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:se[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}oe.prototype.preventDefault=function(){this.Ib=!1},b(ae,oe);var se=ee({2:"touch",3:"pen",4:"mouse"});ae.prototype.preventDefault=function(){ae.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,re)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},ae.prototype.f=function(){return this.a};var ue="closure_listenable_"+(1e6*Math.random()|0),le=0;function ce(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++le,this.na=this.Ia=!1}function he(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function fe(t){this.src=t,this.a={},this.b=0}function pe(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(he(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function de(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}fe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=de(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new ce(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ye(t,e,n,r,i){if(r&&r.once)be(t,e,n,r,i);else if(u(e))for(var o=0;o<e.length;o++)ye(t,e[o],n,r,i);else n=De(n),t&&t[ue]?Oe(t,e,n,h(r)?!!r.capture:!!r,i):ve(t,e,n,!1,r,i)}function ve(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=Ie(t);if(s||(t[me]=s=new fe(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=Te,e=ne?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ie||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ee(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function be(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)be(t,e[o],n,r,i);else n=De(n),t&&t[ue]?Ae(t,e,n,h(r)?!!r.capture:!!r,i):ve(t,e,n,!0,r,i)}function _e(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)_e(t,e[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=De(n),t&&t[ue]?(t=t.m,(e=String(e).toString())in t.a&&-1<(n=de(o=t.a[e],n,r,i))&&(he(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ie(t))&&(e=t.a[e.toString()],t=-1,e&&(t=de(e,n,r,i)),(n=-1<t?e[t]:null)&&we(n))}function we(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[ue])pe(e.m,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ee(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ie(e))?(pe(n,t),0==n.b&&(n.src=null,e[me]=null)):he(t)}}}function Ee(t){return t in ge?ge[t]:ge[t]="on"+t}function Ce(t,e,n,r){var i=!0;if((t=Ie(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Se(o,r),i=i&&!1!==o)}return i}function Se(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&we(t),n.call(r,e)}function Te(t,e){if(t.na)return!0;if(!ne){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ae(i=e,this),r=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ce(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ce(i[o],t,!1,e),r=r&&a}return r}return Se(t,new ae(e,this))}function Ie(t){return(t=t[me])instanceof fe?t:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(t){return c(t)?t:(t[ke]||(t[ke]=function(e){return t.handleEvent(e)}),t[ke])}function xe(){Pt.call(this),this.m=new fe(this),this.Pb=this,this.Ua=null}function Oe(t,e,n,r,i){t.m.add(String(e),n,!1,r,i)}function Ae(t,e,n,r,i){t.m.add(String(e),n,!0,r,i)}function Ne(t,e,n,r){if(!(e=t.m.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&pe(t.m,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Ib}function Re(t,e,r){if(c(t))r&&(t=g(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Pe(t){var e=null;return new dt(function(n,r){-1==(e=Re(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function Me(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(l(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Le(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(l(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ve(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ue(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ue(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}b(xe,Pt),xe.prototype[ue]=!0,xe.prototype.addEventListener=function(t,e,n,r){ye(this,t,e,n,r)},xe.prototype.removeEventListener=function(t,e,n,r){_e(this,t,e,n,r)},xe.prototype.dispatchEvent=function(t){var e,n=this.Ua;if(n)for(e=[];n;n=n.Ua)e.push(n);n=this.Pb;var i=t.type||t;if(r(t))t=new oe(t,n);else if(t instanceof oe)t.target=t.target||n;else{var o=t;ut(t=new oe(i,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Ne(s,i,!0,t)&&o}if(o=Ne(s=t.b=n,i,!0,t)&&o,o=Ne(s,i,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Ne(s=t.b=e[a],i,!1,t)&&o;return o},xe.prototype.ua=function(){if(xe.nb.ua.call(this),this.m){var t,e=this.m;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)he(n[r]);delete e.a[t],e.b--}}this.Ua=null},(t=Fe.prototype).S=function(){Ve(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Ve(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ue(this.b,t)?this.b[t]:e},t.set=function(t,e){Ue(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var je=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Be(t,e){if(this.b=this.m=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Be){this.f=void 0!==e?e:t.f,qe(this,t.c),this.m=t.m,this.b=t.b,He(this,t.i),this.g=t.g,e=t.a;var n=new rn;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),We(this,n),this.h=t.h}else t&&(n=String(t).match(je))?(this.f=!!e,qe(this,n[1]||"",!0),this.m=Ye(n[2]||""),this.b=Ye(n[3]||"",!0),He(this,n[4]),this.g=Ye(n[5]||"",!0),We(this,n[6]||"",!0),this.h=Ye(n[7]||"")):(this.f=!!e,this.a=new rn(null,this.f))}function qe(t,e,n){t.c=n?Ye(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function He(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function We(t,e,n){e instanceof rn?(t.a=e,function(t,e){e&&!t.f&&(on(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(sn(this,e),ln(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=$e(e,en)),t.a=new rn(e,t.f))}function ze(t,e,n){t.a.set(e,n)}function Ge(t,e){return t.a.get(e)}function Ke(t){return t instanceof Be?new Be(t):new Be(t,void 0)}function Qe(t,e){var n=new Be(null,void 0);return qe(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Ye(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $e(t,e,n){return r(t)?(t=encodeURI(t).replace(e,Xe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Xe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Be.prototype.toString=function(){var t=[],e=this.c;e&&t.push($e(e,Je,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.m)&&t.push($e(e,Je,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push($e(n,"/"==n.charAt(0)?tn:Ze,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$e(n,nn)),t.join("")};var Je=/[#\/\?@]/g,Ze=/[#\?:]/g,tn=/[#\?]/g,en=/[#\?@]/g,nn=/#/g;function rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function on(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function an(t){var e=Le(t);if(void 0===e)throw Error("Keys are undefined");var n=new rn(null,void 0);t=Me(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];u(o)?ln(n,i,o):n.add(i,o)}return n}function sn(t,e){on(t),e=cn(t,e),Ue(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ue((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ve(t)))}function un(t,e){return on(t),e=cn(t,e),Ue(t.a.b,e)}function ln(t,e,n){sn(t,e),0<n.length&&(t.c=null,t.a.set(cn(t,e),U(n)),t.b+=n.length)}function cn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=rn.prototype).add=function(t,e){on(this),this.c=null,t=cn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){on(this),this.a.forEach(function(n,r){N(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){on(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){on(this);var e=[];if(r(t))un(this,t)&&(e=V(e,this.a.get(cn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=V(e,t[n])}return e},t.set=function(t,e){return on(this),this.c=null,un(this,t=cn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var hn=!qt||9<=Number(Xt);function fn(){this.a="",this.b=dn}function pn(t){return t instanceof fn&&t.constructor===fn&&t.b===dn?t.a:(S("expected object of type Const, got '"+t+"'"),"type_error:Const")}fn.prototype.ma=!0,fn.prototype.la=function(){return this.a},fn.prototype.toString=function(){return"Const{"+this.a+"}"};var dn={};function mn(t){var e=new fn;return e.a=t,e}function gn(){this.a="",this.b=wn}function yn(t){return t instanceof gn&&t.constructor===gn&&t.b===wn?t.a:(S("expected object of type TrustedResourceUrl, got '"+t+"' of type "+a(t)),"type_error:TrustedResourceUrl")}function vn(t,e){var n=pn(t);if(!_n.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(bn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof fn?pn(t):encodeURIComponent(String(t))}))}mn(""),gn.prototype.ma=!0,gn.prototype.la=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var bn=/%{(\w+)}/g,_n=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,wn={};function En(){this.a="",this.b=In}function Cn(t){return t instanceof En&&t.constructor===En&&t.b===In?t.a:(S("expected object of type SafeUrl, got '"+t+"' of type "+a(t)),"type_error:SafeUrl")}En.prototype.ma=!0,En.prototype.la=function(){return this.a},En.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Sn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Tn(t){return t instanceof En?t:(t=t.ma?t.la():String(t),Sn.test(t)||(t="about:invalid#zClosurez"),kn(t))}var In={};function kn(t){var e=new En;return e.a=t,e}function Dn(){this.a="",this.b=xn}kn("about:blank"),Dn.prototype.ma=!0,Dn.prototype.la=function(){return this.a},Dn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var xn={};function On(t){var e=new Dn;return e.a=t,e}function An(t){var e=document;return r(t)?e.getElementById(t):t}function Nn(t,e){nt(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Rn.hasOwnProperty(n)?t.setAttribute(Rn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}On("<!DOCTYPE html>"),On(""),On("<br>");var Rn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Pn(t){if(t&&"number"==typeof t.length){if(h(t))return"function"==typeof t.item||"string"==typeof t.item;if(c(t))return"function"==typeof t.item}return!1}function Mn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(u(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Un(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Un(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Ln,t,e),e.join("")}function Ln(){}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Vn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Un(t,e){e.push('"',t.replace(Vn,function(t){var e=Fn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Fn[t]=e),e}),'"')}function jn(){var t=ir();return qt&&!!Xt&&11==Xt||/Edge\/\d+/.test(t)}function Bn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function qn(t,e){e=e||n.window;var r="about:blank";t&&(r=Cn(Tn(t))),e.location.href=r}function Hn(t){return!!((t=(t||ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Wn(t){t=t||n.window;try{t.close()}catch(e){}}function zn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ir().toLowerCase(),r&&(e.target=r,X(n,"crios/")&&(e.target="_blank")),er(ir())==Zn&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof En?n:Tn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((et("iPhone")&&!et("iPod")&&!et("iPad")||et("iPad")||et("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=r.document.createElement("A"),e instanceof En||e instanceof En||(e=e.ma?e.la():String(e),Sn.test(e)||(e="about:invalid#zClosurez"),e=kn(e)),s.href=Cn(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=Cn(e),s&&(Wt&&X(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,mn("b/12014412, meta tag with sanitized URL"),t=On(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+q(t)+'">'),s.document.write(function(t){return t instanceof Dn&&t.constructor===Dn&&t.b===xn?t.a:(S("expected object of type SafeHtml, got '"+t+"' of type "+a(t)),"type_error:SafeHtml")}(t)),s.document.close())):(s=r.open(Cn(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(u){}return s}var Gn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Kn(){var t=null;return new dt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},be(window,"load",t))}).s(function(e){throw _e(window,"load",t),e})}function Qn(t){return t=t||ir(),!("file:"!==lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yn(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function $n(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function Xn(){return Cs.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Cs.a.INTERNAL.hasOwnProperty("node")?"Node":$n()?"Worker":"Browser"}function Jn(){var t=Xn();return"ReactNative"===t||"Node"===t}var Zn="Firefox",tr="Chrome";function er(t){var e=t.toLowerCase();return X(e,"opera/")||X(e,"opr/")||X(e,"opios/")?"Opera":X(e,"iemobile")?"IEMobile":X(e,"msie")||X(e,"trident/")?"IE":X(e,"edge/")?"Edge":X(e,"firefox/")?Zn:X(e,"silk/")?"Silk":X(e,"blackberry")?"Blackberry":X(e,"webos")?"Webos":!X(e,"safari/")||X(e,"chrome/")||X(e,"crios/")||X(e,"android")?!X(e,"chrome/")&&!X(e,"crios/")||X(e,"edge/")?X(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":tr:"Safari"}var nr={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function rr(t,e){e=e||[];var n,r=[],i={};for(n in nr)i[nr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Xn())?r=er(i=ir()):"Worker"===r&&(r=er(i=ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function ir(){return n.navigator&&n.navigator.userAgent||""}function or(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function ar(){try{var t=n.localStorage,e=dr();if(t)return t.setItem(e,"1"),t.removeItem(e),!jn()||!!n.indexedDB}catch(r){return $n()&&!!n.indexedDB}return!1}function sr(){return(ur()||"chrome-extension:"===lr()||Qn())&&!Jn()&&ar()&&!$n()}function ur(){return"http:"===lr()||"https:"===lr()}function lr(){return n.location&&n.location.protocol||null}function cr(t){return!Hn(t=t||ir())&&er(t)!=Zn}function hr(t){return void 0===t?null:Mn(t)}function fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function pr(t){if(null!==t)return JSON.parse(t)}function dr(t){return t||Math.floor(1e9*Math.random()).toString()}function mr(t){return"Safari"!=er(t=t||ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function gr(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function yr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=ir(),e=Xn(),this.b=Hn(t)||"ReactNative"===e}function vr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function br(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function _r(){return!(!or("fireauth.oauthhelper",n)&&!or("fireauth.iframe",n))}yr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!ur()&&"chrome-extension:"!==lr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var wr,Er={};function Cr(t){Er[t]||(Er[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Sr={};Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:2}),wr=2==Sr.abcd}catch(jt){wr=!1}function Tr(t,e,n){wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ir(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Tr(t,n,e[n])}function kr(t){var e={};return Ir(e,t),e}function Dr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Tr(e,n,Dr(t[n]));return e}function xr(t){var e={},n=t[Ar],r=t[Nr];if(!(t=t[Rr])||t!=Or&&!n)throw Error("Invalid provider user info!");e[Mr]=r||null,e[Pr]=n||null,Tr(this,Fr,t),Tr(this,Lr,Dr(e))}var Or="EMAIL_SIGNIN",Ar="email",Nr="newEmail",Rr="requestType",Pr="email",Mr="fromEmail",Lr="data",Fr="operation";function Vr(t,e){this.code=jr+t,this.message=e||Br[t]||""}function Ur(t){var e=t&&t.code;return e?new Vr(e.substring(jr.length),t.message):null}b(Vr,Error),Vr.prototype.D=function(){return{code:this.code,message:this.message}},Vr.prototype.toJSON=function(){return this.D()};var jr="auth/",Br={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function qr(t){var e=t[Gr];if(void 0===e)throw new Vr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Vr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Hr];if(n&&"object"==typeof n){e=n[Yr];var r=n[Kr];if(n=n[Qr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Vr("argument-error",Kr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Vr("argument-error",Qr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Vr("argument-error",Yr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Vr("missing-android-pkg-name")}}else if(void 0!==n)throw new Vr("argument-error",Hr+" property must be a non null object when specified.");if(this.f=null,(e=t[zr])&&"object"==typeof e){if("string"==typeof(e=e[$r])&&e.length)this.f=e;else if(void 0!==e)throw new Vr("argument-error",$r+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Vr("argument-error",zr+" property must be a non null object when specified.");if(void 0!==(t=t[Wr])&&"boolean"!=typeof t)throw new Vr("argument-error",Wr+" property must be a boolean when specified.");this.c=!!t}var Hr="android",Wr="handleCodeInApp",zr="iOS",Gr="url",Kr="installApp",Qr="minimumVersion",Yr="packageName",$r="bundleId";function Xr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e)null===e[n]&&delete e[n];return e}var Jr=null,Zr=null;function ti(t){this.c=t.sub,v(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function ei(t){return(t=ni(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ti(t):null}function ni(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Zr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Jr){Jr={},Zr={};for(var t=0;65>t;t++)Jr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Zr[Jr[t]]=t,62<=t&&(Zr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}ti.prototype.f=function(){return this.b};var ri="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ii=["client_id","response_type","scope","redirect_uri","state"],oi={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:ii},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:ii},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:ii},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:ri}};function ai(t){for(var e in oi)if(oi[e].Na==t)return oi[e];return null}function si(t){var e={};e["facebook.com"]=fi,e["google.com"]=di,e["github.com"]=pi,e["twitter.com"]=mi;var n=t&&t[li];try{if(n)return e[n]?new e[n](t):new hi(t);if(void 0!==t[ui])return new ci(t)}catch(r){}return null}var ui="idToken",li="providerId";function ci(t){var e=t[li];if(!e&&t[ui]){var n=ei(t[ui]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Tr(this,"providerId",e),Tr(this,"isNewUser",n)}function hi(t){ci.call(this,t),Tr(this,"profile",Dr((t=pr(t.rawUserInfo||"{}"))||{}))}function fi(t){if(hi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function pi(t){if(hi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",this.profile&&this.profile.login||null)}function di(t){if(hi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function mi(t){if(hi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Tr(this,"username",t.screenName||null)}function gi(t){this.a=Ke(t)}function yi(t){var e=Ke(t),n=Ge(e,"link"),r=Ge(Ke(n),"link");return e=Ge(e,"deep_link_id"),Ge(Ke(e),"link")||e||r||n||t}function vi(t,e){return t.then(function(t){if(t[$o]){var n=ei(t[$o]);if(!n||e!=n.c)throw new Vr("user-mismatch");return t}throw new Vr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==jr+"user-not-found"?new Vr("user-mismatch"):t})}function bi(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Tr(this,"idToken",e.idToken),e.accessToken&&Tr(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Vr("internal-error","failed to construct a credential");Tr(this,"accessToken",e.oauthToken),Tr(this,"secret",e.oauthTokenSecret)}Tr(this,"providerId",t),Tr(this,"signInMethod",n)}function _i(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:an(e).toString(),requestUri:"http://localhost"}}function wi(t,e){this.Cc=e||[],Ir(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=(ai(t)||{}).Ma||null,this.Za=null}function Ei(t){wi.call(this,t,ii),this.a=[]}function Ci(){Ei.call(this,"facebook.com")}function Si(t){if(!t)throw new Vr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Ci).credential(null,e)}function Ti(){Ei.call(this,"github.com")}function Ii(t){if(!t)throw new Vr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return h(t)&&(e=t.accessToken),(new Ti).credential(null,e)}function ki(){Ei.call(this,"google.com"),this.ta("profile")}function Di(t,e){var n=t;return h(t)&&(n=t.idToken,e=t.accessToken),(new ki).credential(n,e)}function xi(){wi.call(this,"twitter.com",ri)}function Oi(t,e){var n=t;if(h(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Vr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bi("twitter.com",n,"twitter.com")}function Ai(t,e,n){this.a=t,this.b=e,Tr(this,"providerId","password"),Tr(this,"signInMethod",n===Ni.EMAIL_LINK_SIGN_IN_METHOD?Ni.EMAIL_LINK_SIGN_IN_METHOD:Ni.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ni(){Ir(this,{providerId:"password",isOAuthProvider:!1})}function Ri(t,e){if(!(e=Pi(e)))throw new Vr("argument-error","Invalid email link!");return new Ai(t,e,Ni.EMAIL_LINK_SIGN_IN_METHOD)}function Pi(t){var e=Ge((t=new gi(t=yi(t))).a,"oobCode")||null;return"signIn"===(Ge(t.a,"mode")||null)&&e?e:null}function Mi(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new Vr("internal-error");this.a=t,Tr(this,"providerId","phone"),Tr(this,"signInMethod","phone")}function Li(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function Fi(t){try{this.a=t||Cs.a.auth()}catch(e){throw new Vr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ir(this,{providerId:"phone",isOAuthProvider:!1})}function Vi(t,e){if(!t)throw new Vr("missing-verification-id");if(!e)throw new Vr("missing-verification-code");return new Mi({Sa:t,Ra:e})}function Ui(t){if(t.temporaryProof&&t.phoneNumber)return new Mi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return Di(t,n);case"facebook.com":return Si(n);case"github.com":return Ii(n);case"twitter.com":return Oi(n,r);default:return new Ei(e).credential(t,n)}}catch(i){return null}}function ji(t){if(!t.isOAuthProvider)throw new Vr("invalid-oauth-provider")}function Bi(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Vr("invalid-auth-event");if(this.f&&this.a)throw new Vr("invalid-auth-event");if(this.f&&!this.g)throw new Vr("invalid-auth-event")}function qi(t){return(t=t||{}).type?new Bi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Ur(t.error)):null}function Hi(){this.b=null,this.a=[]}b(hi,ci),b(fi,hi),b(pi,hi),b(di,hi),b(mi,hi),bi.prototype.ya=function(t){return pa(t,_i(this))},bi.prototype.c=function(t,e){var n=_i(this);return n.idToken=e,da(t,n)},bi.prototype.f=function(t,e){return vi(ma(t,_i(this)),e)},bi.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},wi.prototype.Da=function(t){return this.xb=it(t),this},b(Ei,wi),Ei.prototype.ta=function(t){return M(this.a,t)||this.a.push(t),this},Ei.prototype.Cb=function(){return U(this.a)},Ei.prototype.credential=function(t,e){if(!t&&!e)throw new Vr("argument-error","credential failed: must provide the ID token and/or the access token.");return new bi(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},b(Ci,Ei),Tr(Ci,"PROVIDER_ID","facebook.com"),Tr(Ci,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),b(Ti,Ei),Tr(Ti,"PROVIDER_ID","github.com"),Tr(Ti,"GITHUB_SIGN_IN_METHOD","github.com"),b(ki,Ei),Tr(ki,"PROVIDER_ID","google.com"),Tr(ki,"GOOGLE_SIGN_IN_METHOD","google.com"),b(xi,wi),Tr(xi,"PROVIDER_ID","twitter.com"),Tr(xi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ai.prototype.ya=function(t){return this.signInMethod==Ni.EMAIL_LINK_SIGN_IN_METHOD?Wa(t,Ca,{email:this.a,oobCode:this.b}):Wa(t,ja,{email:this.a,password:this.b})},Ai.prototype.c=function(t,e){return this.signInMethod==Ni.EMAIL_LINK_SIGN_IN_METHOD?Wa(t,Sa,{idToken:e,email:this.a,oobCode:this.b}):Wa(t,Pa,{idToken:e,email:this.a,password:this.b})},Ai.prototype.f=function(t,e){return vi(this.ya(t),e)},Ai.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Ir(Ni,{PROVIDER_ID:"password"}),Ir(Ni,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ir(Ni,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mi.prototype.ya=function(t){return t.Ta(Li(this))},Mi.prototype.c=function(t,e){var n=Li(this);return n.idToken=e,Wa(t,qa,n)},Mi.prototype.f=function(t,e){var n=Li(this);return n.operation="REAUTH",vi(t=Wa(t,Ha,n),e)},Mi.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Fi.prototype.Ta=function(t,e){var n=this.a.b;return wt(e.verify()).then(function(i){if(!r(i))throw new Vr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Wa(n,Na,e)}(0,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Vr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Ir(Fi,{PROVIDER_ID:"phone"}),Ir(Fi,{PHONE_SIGN_IN_METHOD:"phone"}),Bi.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Wi=null;function zi(t){var e="unauthorized-domain",n=void 0,r=Ke(t);t=r.b,"chrome-extension"==(r=r.c)?n=j("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=j("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Vr.call(this,e,n)}function Gi(t,e,n){Vr.call(this,t,n),(t=e||{}).yb&&Tr(this,"email",t.yb),t.$&&Tr(this,"phoneNumber",t.$),t.credential&&Tr(this,"credential",t.credential)}function Ki(t){if(t.code){var e=t.code||"";0==e.indexOf(jr)&&(e=e.substring(jr.length));var n={credential:Ui(t)};if(t.email)n.yb=t.email;else{if(!t.phoneNumber)return new Vr(e,t.message||void 0);n.$=t.phoneNumber}return new Gi(e,n,t.message)}return null}Hi.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=or("universalLinks.subscribe",n))&&t(null,this.b))},Hi.prototype.unsubscribe=function(t){F(this.a,function(e){return e==t})},b(zi,Vr),b(Gi,Vr),Gi.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&ut(t,e),t},Gi.prototype.toJSON=function(){return this.D()};var Qi,Yi=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function $i(){}function Xi(){}function Ji(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zi(){}function to(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=g(this.dc,this),this.a.onerror=g(this.Db,this),this.a.onprogress=g(this.ec,this),this.a.ontimeout=g(this.hc,this)}function eo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function no(t,e,n){this.reset(t,e,n,void 0,void 0)}function ro(t){this.f=t,this.b=this.c=this.a=null}function io(t,e){this.name=t,this.value=e}$i.prototype.c=null,b(Xi,$i),Xi.prototype.a=function(){var t=Ji(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xi.prototype.b=function(){var t={};return Ji(this)&&(t[0]=!0,t[1]=!0),t},Qi=new Xi,b(Zi,$i),Zi.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new to;throw Error("Unsupported browser")},Zi.prototype.b=function(){return{}},(t=to.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.dc=function(){this.status=200,this.responseText=this.a.responseText,eo(this,4)},t.Db=function(){this.status=500,this.responseText="",eo(this,4)},t.hc=function(){this.Db()},t.ec=function(){this.status=200,eo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},no.prototype.a=null,no.prototype.reset=function(t,e,n,r,i){r||v(),delete this.a},io.prototype.toString=function(){return this.name};var oo=new io("SEVERE",1e3),ao=new io("WARNING",900),so=new io("CONFIG",700),uo=new io("FINE",500);ro.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(S("Root logger has no level set."),null)}(this).value)for(c(e)&&(e=e()),t=new no(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var lo={},co=null;function ho(t){var e;if(co||(co=new ro(""),lo[""]=co,co.c=so),!(e=lo[t])){e=new ro(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ho(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,lo[t]=e}return e}function fo(t,e){t&&t.log(uo,e,void 0)}function po(t){this.f=t}function mo(t){xe.call(this),this.i=t,this.readyState=go,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ho("goog.net.FetchXmlHttp")}b(po,$i),po.prototype.a=function(){return new mo(this.f)},po.prototype.b=function(t){return function(){return t}}({}),b(mo,xe);var go=0;function yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vo(t){xe.call(this),this.headers=new Fe,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=bo,this.v=this.O=!1}(t=mo.prototype).open=function(t,e){if(this.readyState!=go)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,yo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.gc.bind(this),this.Eb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,yo(this)),this.readyState=go},t.gc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,yo(this)),this.a&&(this.readyState=3,yo(this),this.a&&t.text().then(this.fc.bind(this,t),this.Eb.bind(this))))},t.fc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,yo(this))},t.Eb=function(t){var e=this.f;e&&e.log(ao,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,yo(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(ao,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(ao,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},b(vo,xe);var bo="";vo.prototype.b=ho("goog.net.XhrIo");var _o=/^https?$/i,wo=["POST","PUT"];function Eo(t){return"content-type"==t.toLowerCase()}function Co(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,So(t),Io(t)}function So(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function To(t){if(t.c&&void 0!==e)if(t.w[1]&&4==Do(t)&&2==xo(t))fo(t.b,Oo(t,"Local request error detected and ignored"));else if(t.i&&4==Do(t))Re(t.Hb,0,t);else if(t.dispatchEvent("readystatechange"),4==Do(t)){fo(t.b,Oo(t,"Request complete")),t.c=!1;try{var r,i=xo(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.l).match(je)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!_o.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<Do(t)?t.a.statusText:""}catch(c){fo(t.b,"Can not get status: "+c.message),l=""}t.h=l+" ["+xo(t)+"]",So(t)}}finally{Io(t)}}}function Io(t,e){if(t.a){ko(t);var n=t.a,r=t.w[0]?o:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(oo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ko(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function Do(t){return t.a?t.a.readyState:0}function xo(t){try{return 2<Do(t)?t.a.status:-1}catch(e){return-1}}function Oo(t,e){return e+" ["+t.N+" "+t.l+" "+xo(t)+"]"}function Ao(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.l=this.w=this.i=!1,this.h=0,this.b=null,this.m=0}function No(t,e,n){t.a=!0,t.c=n,t.f=!e,Lo(t)}function Ro(t){if(t.a){if(!t.l)throw new Fo(t);t.l=!1}}function Po(t,e,n,r){t.g.push([e,n,r]),t.a&&Lo(t)}function Mo(t){return P(t.g,function(t){return c(t[1])})}function Lo(t){if(t.h&&t.a&&Mo(t)){var e=t.h,r=jo[e];r&&(n.clearTimeout(r.a),delete jo[e]),t.h=0}t.b&&(t.b.m--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(w(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,Mo(t)||(r=!0)}}t.c=e,i&&(u=g(t.o,t,!0),i=g(t.o,t,!1),e instanceof Ao?(Po(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new Uo(e),jo[e.a]=e,t.h=e.a)}function Fo(){E.call(this)}function Vo(){E.call(this)}function Uo(t){this.a=n.setTimeout(g(this.c,this),0),this.b=t}(t=vo.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fo(this.b,Oo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(fo(this.b,Oo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Io(this))},t.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Io(this,!0)),vo.nb.ua.call(this)},t.Hb=function(){this.pa||(this.I||this.i||this.f?To(this):this.vc())},t.vc=function(){To(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case bo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(oo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return fo(this.b,"Can not get response: "+e.message),null}},Ao.prototype.cancel=function(t){if(this.a)this.c instanceof Ao&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.m--,0>=e.m&&e.cancel())}this.v?this.v.call(this.u,this):this.l=!0,this.a||(t=new Vo(this),Ro(this),No(this,!1,t))}},Ao.prototype.o=function(t,e){this.i=!1,No(this,t,e)},Ao.prototype.C=function(){Ro(this),No(this,!0,null)},Ao.prototype.then=function(t,e,n){var r,i,o=new dt(function(t,e){r=t,i=e});return Po(this,r,function(t){t instanceof Vo?o.cancel():i(t)}),o.then(t,e,n)},_(Ao),b(Fo,E),Fo.prototype.message="Deferred has already fired",Fo.prototype.name="AlreadyCalledError",b(Vo,E),Vo.prototype.message="Deferred was canceled",Vo.prototype.name="CanceledError",Uo.prototype.c=function(){throw delete jo[this.a],this.b};var jo={};function Bo(t){var e={},n=e.document||document,r=yn(t),i=document.createElement("SCRIPT"),o={Jb:i,Ga:void 0},a=new Ao(qo,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Ho(i,!0);var t=new Go(zo,"Timeout reached for loading script "+r);Ro(a),No(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ho(i,e.fd||!1,s),a.C())},i.onerror=function(){Ho(i,!0,s);var t=new Go(Wo,"Error while loading script "+r);Ro(a),No(a,!1,t)},ut(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Nn(i,o),i.src=yn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function qo(){if(this&&this.Jb){var t=this.Jb;t&&"SCRIPT"==t.tagName&&Ho(t,!0,this.Ga)}}function Ho(t,e,r){null!=r&&n.clearTimeout(r),t.onload=o,t.onerror=o,t.onreadystatechange=o,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Wo=0,zo=1;function Go(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),E.call(this,n),this.code=t}function Ko(t){this.f=t}function Qo(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xo,this.f=it(t.secureTokenHeaders||Jo),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Zo,this.a=it(t.firebaseHeaders||ta),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==Xn(),!(r=n.XMLHttpRequest||r&&Cs.a.INTERNAL.node&&Cs.a.INTERNAL.node.XMLHttpRequest)&&!$n())throw new Vr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=$n()?new po(self):Jn()?new Ko(r):new Zi}b(Go,E),b(Ko,$i),Ko.prototype.a=function(){return new this.f},Ko.prototype.b=function(){return{}};var Yo,$o="idToken",Xo=new yr(3e4,6e4),Jo={"Content-Type":"application/x-www-form-urlencoded"},Zo=new yr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function ra(t,e,r,i,o,a,s){(function(){var t=ir();return!((t=er(t)!=tr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||qt&&Xt&&!(9<Xt))})()||$n()?t=g(t.o,t):(Yo||(Yo=new dt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[oa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=vn(ia,{onload:oa});!function(t,e){Po(Bo(r),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=g(t.l,t)),t(e,r,i,o,a,s)}Qo.prototype.o=function(t,e,i,o,a,s){if($n()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Vr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new vo(this.c);if(s){u.g=Math.max(0,s);var c=setTimeout(function(){u.dispatchEvent("timeout")},s)}Oe(u,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Ae(u,"ready",function(){c&&clearTimeout(c),Ft(this)}),Ae(u,"timeout",function(){c&&clearTimeout(c),Ft(this),e&&e(null)}),function(t,e,i,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);i=i?i.toUpperCase():"GET",t.l=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Qi.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.C?t.C:Qi),t.a.onreadystatechange=g(t.Hb,t);try{fo(t.b,Oo(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(u){return fo(t.b,Oo(t,"Error opening Xhr: "+u.message)),void Co(t,u)}e=o||"";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||r(t))N(t,e,void 0);else for(var n=Le(t),i=Me(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=Eo,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(s.U()),o=n.FormData&&e instanceof n.FormData,!M(wo,i)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{ko(t),0<t.g&&(t.v=function(t){return qt&&Zt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fo(t.b,Oo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ga,t)):t.u=Re(t.Ga,t.g,t)),fo(t.b,Oo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){fo(t.b,Oo(t,"Send error: "+u.message)),Co(t,u)}}(u,t,i,o,a)};var ia=mn("https://apis.google.com/js/client.js?onload=%{onload}"),oa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(t){if(!Yi.test(t.email))throw new Vr("invalid-email")}function sa(t){"email"in t&&aa(t)}function ua(t){if(!t[$o])throw new Vr("internal-error")}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Vr("internal-error")}else{if(!t.sessionInfo)throw new Vr("missing-verification-id");if(!t.code)throw new Vr("missing-verification-code")}}Qo.prototype.l=function(t,e,n,r,i){var o=this;Yo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Qo.prototype.Pa=function(){return Wa(this,Ma,{})},Qo.prototype.ob=function(t,e){return Wa(this,Ra,{idToken:t,email:e})},Qo.prototype.pb=function(t,e){return Wa(this,Pa,{idToken:t,password:e})};var ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ha(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Vr("internal-error")}function fa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ki(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ki(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ki(t)):t.errorMessage&&(e=za(t.errorMessage)),e)throw e;if(!t[$o])throw new Vr("internal-error")}function pa(t,e){return e.returnIdpCredential=!0,Wa(t,La,e)}function da(t,e){return e.returnIdpCredential=!0,Wa(t,Va,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Wa(t,Fa,e)}function ga(t){if(!t.oobCode)throw new Vr("invalid-action-code")}(t=Qo.prototype).qb=function(t,e){var n={idToken:t},r=[];return nt(ca,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Wa(this,Ra,n)},t.jb=function(t,e){return ut(t={requestType:"PASSWORD_RESET",email:t},e),Wa(this,Da,t)},t.kb=function(t,e){return ut(t={requestType:"EMAIL_SIGNIN",email:t},e),Wa(this,Ia,t)},t.ib=function(t,e){return ut(t={requestType:"VERIFY_EMAIL",idToken:t},e),Wa(this,ka,t)},t.Ta=function(t){return Wa(this,Ba,t)},t.Ya=function(t,e){return Wa(this,Aa,{oobCode:t,newPassword:e})},t.Ja=function(t){return Wa(this,va,{oobCode:t})},t.Va=function(t){return Wa(this,ya,{oobCode:t})};var ya={endpoint:"setAccountInfo",B:ga,da:"email"},va={endpoint:"resetPassword",B:ga,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Vr("internal-error")}},ba={endpoint:"signupNewUser",B:function(t){if(aa(t),!t.password)throw new Vr("weak-password")},J:ua,R:!0},_a={endpoint:"createAuthUri"},wa={endpoint:"deleteAccount",T:["idToken"]},Ea={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!u(t.deleteProvider))throw new Vr("internal-error")}},Ca={endpoint:"emailLinkSignin",T:["email","oobCode"],B:aa,J:ua,R:!0},Sa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:aa,J:ua,R:!0},Ta={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Vr("internal-error");aa(t)},da:"email"},ka={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Vr("internal-error")},da:"email"},Da={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Vr("internal-error");aa(t)},da:"email"},xa={tb:!0,endpoint:"getProjectConfig",Gb:"GET"},Oa={tb:!0,endpoint:"getRecaptchaParam",Gb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Vr("internal-error")}},Aa={endpoint:"resetPassword",B:ga,da:"email"},Na={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ra={endpoint:"setAccountInfo",T:["idToken"],B:sa,R:!0},Pa={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(sa(t),!t.password)throw new Vr("weak-password")},J:ua,R:!0},Ma={endpoint:"signupNewUser",J:ua,R:!0},La={endpoint:"verifyAssertion",B:ha,J:fa,R:!0},Fa={endpoint:"verifyAssertion",B:ha,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Vr("user-not-found");if(t.errorMessage)throw za(t.errorMessage);if(!t[$o])throw new Vr("internal-error")},R:!0},Va={endpoint:"verifyAssertion",B:function(t){if(ha(t),!t.idToken)throw new Vr("internal-error")},J:fa,R:!0},Ua={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Vr("invalid-custom-token")},J:ua,R:!0},ja={endpoint:"verifyPassword",B:function(t){if(aa(t),!t.password)throw new Vr("wrong-password")},J:ua,R:!0},Ba={endpoint:"verifyPhoneNumber",B:la,J:ua},qa={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Vr("internal-error");la(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ki(t);ua(t)}},Ha={Vb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:la,J:ua};function Wa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return Et(new Vr("internal-error"));var r,i=e.Gb||"POST";return wt(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ke(t.g+e);ze(a,"key",t.b),o&&ze(a,"cb",v().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&ze(a,u,r[u]);return new dt(function(e,o){ra(t,a.toString(),function(t){t?t.error?o(Ga(t,i||{})):e(t):o(new Vr("network-request-failed"))},n,s?void 0:Mn(fr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Vb,e.tb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Vr("internal-error");return r[e.da]})}function za(t){return Ga({error:{errors:[{message:t}],code:400,message:t}})}function Ga(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Vr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ut(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Vr(r[i],e);return!e&&t&&(e=hr(t)),new Vr("internal-error",e)}var Ka,Qa={$c:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ya(t){for(var e in Qa)if(Qa[e].id===t)return{firebaseEndpoint:(t=Qa[e]).$a,secureTokenEndpoint:t.hb};return null}function $a(t){this.b=t,this.a=null,this.eb=function(t){return(es||(es=new dt(function(t,e){function r(){gr(),or("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){gr(),e(Error("Network Error"))},timeout:Za.get()})}if(or("gapi.iframes.Iframe"))t();else if(or("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){or("gapi.load")?r():e(Error("Network Error"))},wt(Bo(i=vn(Ja,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw es=null,t}))).then(function(){return new dt(function(e,n){or("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ts.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}Ka=Ya("__EID__")?"__EID__":void 0;var Xa,Ja=mn("https://apis.google.com/js/api.js?onload=%{onload}"),Za=new yr(3e4,6e4),ts=new yr(5e3,15e3),es=null;function ns(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Qe(this.i,"/__/auth/iframe"),ze(this.a,"apiKey",this.g),ze(this.a,"appName",this.h),this.b=null,this.c=[]}function rs(t,e,n,r,i){this.o=t,this.l=e,this.c=n,this.m=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function is(t){try{return Cs.a.app(t).auth().xa()}catch(e){return[]}}function os(t,e,n,r,i){this.l=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.m=this.a=null}function as(t){var e=Bn();return function(t){return Wa(t,xa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ke(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ke(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Gn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new zi(Bn())})}function ss(t){return t.m?t.m:(t.m=Kn().then(function(){if(!t.u){var e=t.c,n=t.h,r=is(t.b),i=new ns(t.l,t.f,t.b);i.f=e,i.b=n,i.c=U(r||[]),t.u=i.toString()}t.i=new $a(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.eb.then(function(){t.a.register("authEvent",e,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qi(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",wt(n)}return n.status="ERROR",wt(n)})}(t)}),t.m)}function us(t){return t.o||(t.v=t.c?rr(t.c,is(t.b)):null,t.o=new Qo(t.f,Ya(t.h),t.v)),t.o}function ls(t,e,n,r,i,o,a,s,u,l){return(t=new rs(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=it(u||null),t.f=l,t.toString()}function cs(t){if(this.a=t||Cs.a.INTERNAL.reactNative&&Cs.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Vr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hs(){if(!ps())throw new Vr("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=n.indexedDB,this.type="indexedDB"}function fs(t){return t.h||(t.h=function t(e){return new dt(function(n,r){var i=e.g.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new dt(function(e,n){var r=t.g.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.h}function ps(){try{return!!n.indexedDB}catch(jt){return!1}}function ds(t){return t.objectStore("firebaseLocalStorage")}function ms(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function gs(t){return new dt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function ys(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=wt().then(function(){if(ps()){var t=dr(),r="__sak"+t;return Xa||(Xa=new hs),(n=Xa).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){N(e.a,function(e){e(t)})}),t})}function vs(){this.a={},this.type="inMemory"}function bs(){if(!function(){var t="Node"==Xn();if(!(t=_s()||t&&Cs.a.INTERNAL.node&&Cs.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Xn())throw new Vr("internal-error","The LocalStorage compatibility library was not found.");throw new Vr("web-storage-unsupported")}this.a=_s()||Cs.a.INTERNAL.node.localStorage,this.type="localStorage"}function _s(){try{var t=n.localStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function ws(){this.type="nullStorage"}function Es(){if(!function(){var t="Node"==Xn();if(!(t=Ss()||t&&Cs.a.INTERNAL.node&&Cs.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Xn())throw new Vr("internal-error","The SessionStorage compatibility library was not found.");throw new Vr("web-storage-unsupported")}this.a=Ss()||Cs.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ss(){try{var t=n.sessionStorage,e=dr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Ts(){var t={};t.Browser=Ds,t.Node=xs,t.ReactNative=Os,t.Worker=As,this.a=t[Xn()]}ns.prototype.toString=function(){return this.f?ze(this.a,"v",this.f):sn(this.a.a,"v"),this.b?ze(this.a,"eid",this.b):sn(this.a.a,"eid"),this.c.length?ze(this.a,"fw",this.c.join(",")):sn(this.a.a,"fw"),this.a.toString()},rs.prototype.toString=function(){var t=Qe(this.o,"/__/auth/handler");if(ze(t,"apiKey",this.l),ze(t,"appName",this.c),ze(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Cs.a.app(this.c).auth().ea()}catch(s){n=null}for(var r in e.Za=n,ze(t,"providerId",this.a.providerId),n=fr((e=this.a).xb))n[r]=n[r].toString();r=e.Cc,n=it(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),rt(n)||ze(t,"customParameters",hr(n))}if("function"==typeof this.a.Cb&&(e=this.a.Cb()).length&&ze(t,"scopes",e.join(",")),this.i?ze(t,"redirectUrl",this.i):sn(t.a,"redirectUrl"),this.g?ze(t,"eventId",this.g):sn(t.a,"eventId"),this.h?ze(t,"v",this.h):sn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ge(t,a)&&ze(t,a,this.b[a]);return this.f?ze(t,"eid",this.f):sn(t.a,"eid"),(a=is(this.c)).length&&ze(t,"fw",a.join(",")),t.toString()},(t=os.prototype).Ea=function(t,e,n){var r=new Vr("popup-closed-by-user"),i=new Vr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return ss(t).then(function(){return function(t,e){return t.eb.then(function(){return new dt(function(n){t.a.send(e.type,e,n,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Wn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new dt(function(e){return function n(){Pe(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Pe(n).then(function(){e(r)})})},t.Kb=function(){var t=ir();return!cr(t)&&!mr(t)},t.Fb=function(){return!1},t.Bb=function(t,e,n,r,i,o,a){if(!t)return Et(new Vr("popup-blocked"));if(a&&!cr())return this.ga().s(function(e){Wn(t),i(e)}),r(),wt();this.a||(this.a=as(us(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Wn(t),i(e),e});return r(),e}).then(function(){ji(n),a||qn(ls(s.l,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=as(us(this)));var r=this;return this.a.then(function(){ji(e),qn(ls(r.l,r.f,r.b,t,e,Bn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return ss(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new Vr("network-request-failed")})},t.Ob=function(){return!0},t.va=function(t){this.g.push(t)},t.Ka=function(t){F(this.g,function(e){return e==t})},(t=cs.prototype).get=function(t){return wt(this.a.getItem(t)).then(function(t){return t&&pr(t)})},t.set=function(t,e){return wt(this.a.setItem(t,hr(e)))},t.P=function(t){return wt(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){},(t=hs.prototype).set=function(t,e){var n,r=!1,i=this;return fs(this).then(function(e){return gs((e=ds(ms(n=e,!0))).get(t))}).then(function(o){var a=ds(ms(n,!0));return o?(o.value=e,gs(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,gs(a.add(o)))}).then(function(){i.f[t]=e}).ia(function(){r&&i.b--})},t.get=function(t){return fs(this).then(function(e){return gs(ds(ms(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return fs(this).then(function(r){return e=!0,n.b++,gs(ds(ms(r,!0)).delete(t))}).then(function(){delete n.f[t]}).ia(function(){e&&n.b--})},t.Mc=function(){var t=this;return fs(this).then(function(t){var e=ds(ms(t,!1));return e.getAll?gs(e.getAll()):new dt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.f,n),t.f=n}return r})},t.Y=function(t){0==this.a.length&&function(t){t.c&&t.c.cancel("STOP_EVENT"),function e(){return t.c=Pe(800).then(g(t.Mc,t)).then(function(e){0<e.length&&N(t.a,function(t){t(e)})}).then(e).s(function(t){"STOP_EVENT"!=t.message&&e()}),t.c}()}(this),this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")},(t=ys.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){F(this.a,function(e){return e==t})},(t=vs.prototype).get=function(t){return wt(this.a[t])},t.set=function(t,e){return this.a[t]=e,wt()},t.P=function(t){return delete this.a[t],wt()},t.Y=function(){},t.ca=function(){},(t=bs.prototype).get=function(t){var e=this;return wt().then(function(){return pr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return wt().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&ye(n.window,"storage",t)},t.ca=function(t){n.window&&_e(n.window,"storage",t)},(t=ws.prototype).get=function(){return wt(null)},t.set=function(){return wt()},t.P=function(){return wt()},t.Y=function(){},t.ca=function(){},(t=Es.prototype).get=function(t){var e=this;return wt().then(function(){return pr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return wt().then(function(){var r=hr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Is,ks,Ds={A:bs,Qa:Es},xs={A:bs,Qa:Es},Os={A:cs,Qa:ws},As={A:bs,Qa:ws},Ns={Zc:"local",NONE:"none",ad:"session"};function Rs(){var t=!(mr(ir())||!Yn()),e=cr(),r=ar();this.o=t,this.h=e,this.m=r,this.a={},Is||(Is=new Ts),t=Is;try{this.g=!jn()&&_r()||!n.indexedDB?new t.a.A:new ys($n()?new vs:new t.a.A)}catch(i){this.g=new vs,this.h=!0}try{this.i=new t.a.Qa}catch(i){this.i=new vs}this.l=new vs,this.f=g(this.Nb,this),this.b={}}function Ps(){return ks||(ks=new Rs),ks}function Ms(t,e){switch(e){case"session":return t.i;case"none":return t.l;default:return t.g}}function Ls(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Fs(t,e,n){return n=Ls(e,n),"local"==e.A&&(t.b[n]=null),Ms(t,e.A).P(n)}function Vs(t){t.c&&(clearInterval(t.c),t.c=null)}function Us(t){this.a=t,this.b=Ps()}(t=Rs.prototype).get=function(t,e){return Ms(this,t.A).get(Ls(t,e))},t.set=function(t,e,n){var r=Ls(t,n),i=this,o=Ms(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=Ls(t,e),this.m&&(this.b[t]=n.localStorage.getItem(t)),rt(this.a)&&(Ms(this,"local").Y(this.f),this.h||(jn()||!_r())&&n.indexedDB||!this.m||function(t){Vs(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ae({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Nb(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=Ls(t,e),this.a[t]&&(F(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),rt(this.a)&&(Ms(this,"local").ca(this.f),Vs(this))},t.Nb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Wa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ms(this,"local").ca(this.f):Vs(this),this.o)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Wa(e))},qt&&Xt&&10==Xt&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else N(t,g(this.Wa,this))},t.Wa=function(t){this.a[t]&&N(this.a[t],function(t){t()})};var js,Bs={name:"authEvent",A:"local"};function qs(){this.a=Ps()}function Hs(t,e){this.b=-1,this.b=Ws,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.m=n.Int32Array?new Int32Array(64):Array(64),void 0!==js||(js=n.Int32Array?new Int32Array(Xs):Xs),this.reset()}b(Hs,function(){this.b=-1});for(var Ws=64,zs=Ws-1,Gs=[],Ks=0;Ks<zs;Ks++)Gs[Ks]=0;var Qs=V(128,Gs);function Ys(t){for(var e=t.f,n=t.m,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],l=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|js[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function $s(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(Ys(t),o=0);else{if(!l(e))throw Error("message must be string or array");for(;i<n;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(Ys(t),o=0)}}t.c=o,t.g+=n}Hs.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):U(this.h)};var Xs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Js(){Hs.call(this,8,Zs)}b(Js,Hs);var Zs=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function tu(t,e,n,r,i){this.l=t,this.i=e,this.m=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new qs,this.g=new Us(this.h),this.f=null,this.b=[],this.a=this.c=null}function eu(t){return new Vr("invalid-cordova-configuration",t)}function nu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function ru(t){return t.f||(t.f=t.ga().then(function(){return new dt(function(e){t.va(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),iu(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=yi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=pr(Ge(o=Ke(i),"firebaseError")||null))?Ur(o):null)?new Bi(n.b,n.c,null,null,o):new Bi(n.b,n.c,i,n.g)),i=o||r}nu(t,i)})}var r=new Bi("unknown",null,null,null,new Vr("no-auth-event")),i=!1,o=Pe(500).then(function(){return iu(t).then(function(){i||nu(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(or("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(r){console.error(r)}},Wi||(Wi=new Hi),Wi.subscribe(e)}(t)})})),t.f}function iu(t){var e=null;return function(t){return t.b.get(Bs,t.a).then(function(t){return qi(t)})}(t.g).then(function(n){return e=n,Fs((n=t.g).b,Bs,n.a)}).then(function(){return e})}function ou(t){this.a=t,this.b=Ps()}(t=tu.prototype).ga=function(){return this.za?this.za:this.za=(Qn(void 0)?Kn().then(function(){return new dt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):Et(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof or("universalLinks.subscribe",n))throw eu("cordova-universal-links-plugin is not installed");if(void 0===or("BuildInfo.packageName",n))throw eu("cordova-plugin-buildinfo is not installed");if("function"!=typeof or("cordova.plugins.browsertab.openUrl",n))throw eu("cordova-plugin-browsertab is not installed");if("function"!=typeof or("cordova.InAppBrowser.open",n))throw eu("cordova-plugin-inappbrowser is not installed")},function(){throw new Vr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Vr("operation-not-supported-in-this-environment")),wt()},t.Bb=function(){return Et(new Vr("operation-not-supported-in-this-environment"))},t.Ob=function(){return!1},t.Kb=function(){return!0},t.Fb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return Et(new Vr("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,l=null;return this.c=wt().then(function(){return ji(e),ru(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Bi(e,i,null,o,new Vr("no-auth-event")),s=or("BuildInfo.packageName",n);if("string"!=typeof s)throw new Vr("invalid-cordova-configuration");var u=or("BuildInfo.displayName",n),l={};if(ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!ir().toLowerCase().match(/android/))return Et(new Vr("operation-not-supported-in-this-environment"));l.apn=s}u&&(l.appDisplayName=u),o=function(t){var e=new Js;$s(e,t),t=[];var n=8*e.g;$s(e,Qs,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ys(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return R(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var c=ls(t.l,t.i,t.m,e,r,null,i,t.o,l,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Bs,a.D(),e)}).then(function(){var e=or("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Vr("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=or("cordova.plugins.browsertab.openUrl",n)))throw new Vr("invalid-cordova-configuration");r(c)}else{if("function"!=typeof(r=or("cordova.InAppBrowser.open",n)))throw new Vr("invalid-cordova-configuration");e=!(!(e=ir()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(c,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new dt(function(t,e){s=function(){var e=or("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(s),l=function(){vr()&&u()},o.addEventListener("resume",u=function(){a||(a=Pe(2e3).then(function(){e(new Vr("redirect-cancelled-by-user"))}))},!1),ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).s(function(t){return iu(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.va=function(t){this.b.push(t),ru(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Bi("unknown",null,null,null,new Vr("no-auth-event")),t(e))})},t.Ka=function(t){F(this.b,function(e){return e==t})};var au={name:"pendingRedirect",A:"session"};function su(t){return Fs(t.b,au,t.a)}function uu(t,e,n){this.u=t,this.m=e,this.l=n,this.h=[],this.f=!1,this.i=g(this.ab,this),this.b=new vu,this.o=new Eu,this.g=new ou(this.m+":"+this.l),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=lu(this.u,this.m,this.l,Ka)}function lu(t,e,n,r){var i=Cs.a.SDK_VERSION||null;return Qn()?new tu(t,e,n,i,r):new os(t,e,n,i,r)}function cu(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function hu(t){t.a.Kb()&&cu(t).s(function(e){var n=new Bi("unknown",null,null,null,new Vr("operation-not-supported-in-this-environment"));mu(e)&&t.ab(n)}),t.a.Fb()||bu(t.b)}(t=uu.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=lu(this.u,this.m,this.l)},t.Xa=function(){this.b.Xa()},t.subscribe=function(t){if(M(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(au,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?su(e.g).then(function(){cu(e).s(function(t){var n=new Bi("unknown",null,null,null,new Vr("operation-not-supported-in-this-environment"));mu(t)&&e.ab(n)})}):hu(e)}).s(function(){hu(e)})}},t.unsubscribe=function(t){F(this.h,function(e){return e==t})},t.ab=function(t){if(!t)throw new Vr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return bu(this.b),e};var fu=new yr(2e3,1e4),pu=new yr(3e4,6e4);function du(t,e,n,r,i,o){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function mu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}uu.prototype.fa=function(){return this.b.fa()},uu.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(au,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(mu(t))throw new Vr("operation-not-supported-in-this-environment");return r=t,su(i.g).then(function(){throw r})}).then(function(){return i.a.Ob()?new dt(function(){}):su(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},uu.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},fu.get())};var gu={};function yu(t,e,n){var r=e+":"+n;return gu[r]||(gu[r]=new uu(t,e,n)),gu[r]}function vu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function bu(t){t.g||(t.g=!0,wu(t,!1,null,null))}function _u(t,e){if(t.b=function(){return wt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function wu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Et(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):_u(t,n):_u(t,{user:null}),t.f=[],t.c=[]}function Eu(){}function Cu(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function Su(t,e){this.a=e,Tr(this,"verificationId",t)}function Tu(t,e,n,r){return new Fi(t).Ta(e,n).then(function(t){return new Su(t,r)})}function Iu(t){var e=ni(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Vr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ir(this,{token:t,expirationTime:br(1e3*e.exp),authTime:br(1e3*e.auth_time),issuedAtTime:br(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function ku(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Du(t){this.f=t,this.b=this.a=null,this.c=0}function xu(t,e){var n=e[$o],r=e.refreshToken;e=Ou(e.expiresIn),t.b=n,t.c=e,t.a=r}function Ou(t){return v()+1e3*parseInt(t,10)}function Au(t,e){this.a=t||null,this.b=e||null,Ir(this,{lastSignInTime:br(e||null),creationTime:br(t||null)})}function Nu(t,e,n,r,i,o){Ir(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ru(t,e){for(var n in oe.call(this,t),e)this[n]=e[n]}function Pu(t,e,n){this.G=[],this.l=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=Cs.a.SDK_VERSION?rr(Cs.a.SDK_VERSION):null,this.b=new Qo(this.l,Ya(Ka),t),this.h=new Du(this.b),Bu(this,e[$o]),xu(this.h,e),Tr(this,"refreshToken",this.h.a),Wu(this,n||{}),xe.call(this),this.I=!1,this.u&&sr()&&(this.a=yu(this.u,this.l,this.o)),this.N=[],this.i=null,this.w=function(t){return new ku(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-v()-3e5;return 0<e?e:0})}(this),this.V=g(this.Ha,this);var r=this;this.ka=null,this.sa=function(t){r.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){Lu(r,t.c)},this.W=null}function Mu(t,e){t.X&&_e(t.X,"languageCodeChanged",t.sa),(t.X=e)&&ye(e,"languageCodeChanged",t.sa)}function Lu(t,e){t.O=e,na(t.b,Cs.a.SDK_VERSION?rr(Cs.a.SDK_VERSION,t.O):null)}function Fu(t,e){t.W&&_e(t.W,"frameworkChanged",t.ra),(t.W=e)&&ye(e,"frameworkChanged",t.ra)}function Vu(t){try{return Cs.a.app(t.o).auth()}catch(e){throw new Vr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Uu(t){t.C||t.w.b||(t.w.start(),_e(t,"tokenChanged",t.V),ye(t,"tokenChanged",t.V))}function ju(t){_e(t,"tokenChanged",t.V),t.w.stop()}function Bu(t,e){t.qa=e,Tr(t,"_lat",e)}function qu(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return function(t){return new dt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{ac:!0,value:o}:{ac:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ct(t[o],y(i,o,!0),y(i,o,!1));else e(r)})}(e).then(function(){return t})}function Hu(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Wu(t,e){Ir(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Au(e.createdAt,e.lastLoginAt),providerData:[]})}function zu(){}function Gu(t){return wt().then(function(){if(t.C)throw new Vr("app-deleted")})}function Ku(t){return R(t.providerData,function(t){return t.providerId})}function Qu(t,e){e&&(Yu(t,e.providerId),t.providerData.push(e))}function Yu(t,e){F(t.providerData,function(t){return t.providerId==e})}function $u(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Tr(t,e,n)}function Xu(t,e){t!=e&&(Ir(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Tr(t,"metadata",e.metadata?function(t){return new Au(t.a,t.b)}(e.metadata):new Au),N(e.providerData,function(e){Qu(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Tr(t,"refreshToken",t.h.a))}function Ju(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return Wa(t.b,Ta,{idToken:e}).then(g(t.wc,t))}(t,e).then(function(){return n||$u(t,"isAnonymous",!1),e})})}function Zu(t,e){e[$o]&&t.qa!=e[$o]&&(xu(t.h,e),t.dispatchEvent(new Ru("tokenChanged")),Bu(t,e[$o]),$u(t,"refreshToken",t.h.a))}function tl(t,e){return Ju(t).then(function(){if(M(Ku(t),e))return qu(t).then(function(){throw new Vr("provider-already-linked")})})}function el(t,e,n){return kr({user:t,credential:Ui(e),additionalUserInfo:e=si(e),operationType:n})}function nl(t,e){return Zu(t,e),t.reload().then(function(){return t})}function rl(t,e,n,r,i){if(!sr())return Et(new Vr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=ai(n.providerId),a=dr(t.uid+":::"),s=null;(!cr()||Yn())&&t.u&&n.isOAuthProvider&&(s=ls(t.u,t.l,t.o,e,n,null,a,Cs.a.SDK_VERSION||null));var u=zn(s,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(ol(t),!i)return t.F().then(function(){})}).then(function(){return du(t.a,u,e,n,a,!!s)}).then(function(){return new dt(function(n,r){t.ha(e,null,new Vr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Ea(t,e,u,a)})}).then(function(t){return u&&Wn(u),t?kr(t):null}).s(function(t){throw u&&Wn(u),t}),al(t,r,i)}function il(t,e,n,r,i){if(!sr())return Et(new Vr("operation-not-supported-in-this-environment"));if(t.i&&!i)return Et(t.i);var o=null,a=dr(t.uid+":::");return r=r().then(function(){if(ol(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,qu(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(ll,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return cl(t.ba);throw o}).then(function(){if(o)throw o}),al(t,r,i)}function ol(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Vr("internal-error");throw new Vr("auth-domain-config-required")}}function al(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Et(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Ru("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function sl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[$o]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-v())/1e3;var r=new Pu(e,n,t);return t.providerData&&N(t.providerData,function(t){t&&Qu(r,kr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function ul(t){this.a=t,this.b=Ps()}vu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},vu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(wu(this,!0,null,t.a),wt()):e.wa(n,r)?function(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){wu(t,o,e,null)}).s(function(e){wu(t,o,null,e)})}(this,t,e):Et(new Vr("invalid-auth-event")):(wu(this,!1,null,null),wt())}else Et(new Vr("invalid-auth-event"))},vu.prototype.Xa=function(){this.g&&!this.i&&wu(this,!1,null,null)},vu.prototype.fa=function(){var t=this;return new dt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Vr("timeout");t.a&&t.a.cancel(),t.a=Pe(pu.get()).then(function(){t.b||(t.g=!0,wu(t,!0,null,e))})}(t))})},Eu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),wt()):e.wa(n,r)?function(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):Et(new Vr("invalid-auth-event"))}else Et(new Vr("invalid-auth-event"))},Su.prototype.confirm=function(t){return t=Vi(this.verificationId,t),this.a(t)},ku.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Pe(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,vr()||!t?wt():new dt(function(n){e=function(){vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},ku.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Du.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Du.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Et(new Vr("user-token-expired")):t||!this.b||v()>this.c-3e4?this.a?function(t,e){return function(t,e){return new dt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ra(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Ga(t)):t.access_token&&t.refresh_token?n(t):r(new Vr("internal-error")):r(new Vr("network-request-failed"))},"POST",an(e).toString(),t.f,t.m.get()):r(new Vr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Ou(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):wt(null):wt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Au.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},b(Ru,oe),b(Pu,xe),Pu.prototype.oa=function(t){this.ka=t,ea(this.b,t)},Pu.prototype.ea=function(){return this.ka},Pu.prototype.xa=function(){return U(this.O)},Pu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Tr(Pu.prototype,"providerId","firebase"),(t=Pu.prototype).reload=function(){var t=this;return al(this,Gu(this).then(function(){return Ju(t).then(function(){return qu(t)}).then(zu)}))},t.cc=function(t){return this.F(t).then(function(t){return new Iu(t)})},t.F=function(t){var e=this;return al(this,Gu(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Vr("internal-error");return t.accessToken!=e.qa&&(Bu(e,t.accessToken),e.dispatchEvent(new Ru("tokenChanged"))),$u(e,"refreshToken",t.refreshToken),t.accessToken}))},t.wc=function(t){if(!(t=t.users)||!t.length)throw new Vr("internal-error");Wu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?R(t,function(t){return new Nu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Qu(this,e[n]);$u(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.fb=function(t){var e=this,n=null;return al(this,t.f(this.b,this.uid).then(function(t){return Zu(e,t),n=el(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.xc=function(t){return Cr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},t.cb=function(t){var e=this,n=null;return al(this,tl(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=el(e,t,"link"),nl(e,t)}).then(function(){return n}))},t.oc=function(t){return Cr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},t.pc=function(t,e){var n=this;return al(this,tl(this,"phone").then(function(){return Tu(Vu(n),t,e,g(n.cb,n))}))},t.yc=function(t,e){var n=this;return al(this,wt().then(function(){return Tu(Vu(n),t,e,g(n.fb,n))}),!0)},t.ob=function(t){var e=this;return al(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return Zu(e,t),e.reload()}))},t.Rc=function(t){var e=this;return al(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return Zu(e,t),e.reload()}))},t.pb=function(t){var e=this;return al(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return Zu(e,t),e.reload()}))},t.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Gu(this);var e=this;return al(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Zu(e,t),$u(e,"displayName",t.displayName||null),$u(e,"photoURL",t.photoUrl||null),N(e.providerData,function(t){"password"===t.providerId&&(Tr(t,"displayName",e.displayName),Tr(t,"photoURL",e.photoURL))}),qu(e)}).then(zu))},t.Pc=function(t){var e=this;return al(this,Ju(this).then(function(n){return M(Ku(e),t)?function(t,e,n){return Wa(t,Ea,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return N(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),N(Ku(e),function(t){n[t]||Yu(e,t)}),n[Fi.PROVIDER_ID]||Tr(e,"phoneNumber",null),qu(e)}):qu(e).then(function(){throw new Vr("no-such-provider")})}))},t.delete=function(){var t=this;return al(this,this.F().then(function(e){return Wa(t.b,wa,{idToken:e})}).then(function(){t.dispatchEvent(new Ru("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Mu(t,null),Fu(t,null),t.G=[],t.C=!0,ju(t),Tr(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?g(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?g(this.Ab,this):null},t.qc=function(t){var e=this;return rl(this,"linkViaPopup",t,function(){return tl(e,t.providerId).then(function(){return qu(e)})},!1)},t.zc=function(t){return rl(this,"reauthViaPopup",t,function(){return wt()},!0)},t.rc=function(t){var e=this;return il(this,"linkViaRedirect",t,function(){return tl(e,t.providerId)},!1)},t.Ac=function(t){return il(this,"reauthViaRedirect",t,function(){return wt()},!0)},t.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return al(this,this.F().then(function(r){return da(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=el(n,t,"link"),nl(n,t)}).then(function(){return r}))},t.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return al(this,wt().then(function(){return vi(ma(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=el(n,t,"reauthenticate"),Zu(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},t.ib=function(t){var e=this,n=null;return al(this,this.F().then(function(e){return n=e,void 0===t||rt(t)?{}:Xr(new qr(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.D()},t.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.l,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ut(t,this.metadata.D()),N(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var ll={name:"redirectUser",A:"session"};function cl(t){return Fs(t.b,ll,t.a)}function hl(t){this.a=t,this.b=Ps(),this.c=null,this.f=function(t){var e=dl("local"),r=dl("session"),i=dl("none");return function(t,e,r){var i=Ls(e,r),o=Ms(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=pr(n.localStorage.getItem(i))}catch(u){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(pl,t.a).then(function(t){return t?dl(t):e})})})}).then(function(e){return t.c=e,fl(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(dl("local"),this.a,g(this.g,this))}function fl(t,e){var n,r=[];for(n in Ns)Ns[n]!==e&&r.push(Fs(t.b,dl(Ns[n]),t.a));return r.push(Fs(t.b,pl,t.a)),function(t){return new dt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ct(t[s],y(o,s),a);else e(i)})}(r)}hl.prototype.g=function(){var t=this,e=dl("local");vl(this,function(){return wt().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return fl(t,"local").then(function(){t.c=e})})})};var pl={name:"persistence",A:"session"};function dl(t){return{name:"authUser",A:t}}function ml(t,e){return vl(t,function(){return t.b.set(t.c,e.D(),t.a)})}function gl(t){return vl(t,function(){return Fs(t.b,t.c,t.a)})}function yl(t,e){return vl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),sl(t||{})})})}function vl(t,e){return t.f=t.f.then(e,e),t.f}function bl(t){if(this.l=!1,Tr(this,"settings",new Cu),Tr(this,"app",t),!Il(this).options||!Il(this).options.apiKey)throw new Vr("invalid-api-key");t=Cs.a.SDK_VERSION?rr(Cs.a.SDK_VERSION):null,this.b=new Qo(Il(this).options&&Il(this).options.apiKey,Ya(Ka),t),this.N=[],this.o=[],this.I=[],this.Rb=Cs.a.INTERNAL.createSubscribe(g(this.kc,this)),this.O=void 0,this.Sb=Cs.a.INTERNAL.createSubscribe(g(this.mc,this)),Sl(this,null),this.h=new hl(Il(this).options.apiKey+":"+Il(this).name),this.w=new ul(Il(this).options.apiKey+":"+Il(this).name),this.V=Ol(this,function(t){var e=Il(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(ll,t.a).then(function(t){return t&&e&&(t.authDomain=e),sl(t||{})})}(t.w,Il(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),cl(t.w)});return Ol(t,e)}(t).then(function(){return yl(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return ml(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:gl(t.h)})):null}).then(function(e){Sl(t,e||null)});return Ol(t,n)}(this)),this.i=Ol(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.l)return t.ka()}).s(function(){}).then(function(){if(!t.l){t.X=!0;var e=t.h;e.b.addListener(dl("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=g(this.Lc,this),this.Ha=g(this.Z,this),this.qa=g(this.$b,this),this.ra=g(this.ic,this),this.sa=g(this.jc,this),function(t){var e=Il(t).options.authDomain,n=Il(t).options.apiKey;e&&sr()&&(t.Qb=t.V.then(function(){if(!t.l){if(t.a=yu(e,n,Il(t).name),t.a.subscribe(t),kl(t)&&Hu(kl(t)),t.C){Hu(t.C);var r=t.C;r.oa(t.ea()),Mu(r,t),Lu(r=t.C,t.G),Fu(r,t),t.C=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=g(this.delete,this),this.INTERNAL.logFramework=g(this.sc,this),this.u=0,xe.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function _l(t){oe.call(this,"languageCodeChanged"),this.g=t}function wl(t){oe.call(this,"frameworkChanged"),this.c=t}function El(t){return t.Qb||Et(new Vr("auth-domain-config-required"))}function Cl(t,e){var n={};return n.apiKey=Il(t).options.apiKey,n.authDomain=Il(t).options.authDomain,n.appName=Il(t).name,t.V.then(function(){return function(t,e,n,r){var i=new Pu(t,e);return n&&(i.ba=n),r&&Lu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.xa())}).then(function(e){return kl(t)&&e.uid==kl(t).uid?(Xu(kl(t),e),t.Z(e)):(Sl(t,e),Hu(e),t.Z(e))}).then(function(){xl(t)})}function Sl(t,e){kl(t)&&(function(t,e){F(t.N,function(t){return t==e})}(kl(t),t.Ha),_e(kl(t),"tokenChanged",t.qa),_e(kl(t),"userDeleted",t.ra),_e(kl(t),"userInvalidated",t.sa),ju(kl(t))),e&&(e.N.push(t.Ha),ye(e,"tokenChanged",t.qa),ye(e,"userDeleted",t.ra),ye(e,"userInvalidated",t.sa),0<t.u&&Uu(e)),Tr(t,"currentUser",e),e&&(e.oa(t.ea()),Mu(e,t),Lu(e,t.G),Fu(e,t))}function Tl(t,e){var n=null,r=null;return Ol(t,e.then(function(e){return n=Ui(e),r=si(e),Cl(t,e)}).then(function(){return kr({user:kl(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Il(t){return t.app}function kl(t){return t.currentUser}function Dl(t){return kl(t)&&kl(t)._lat||null}function xl(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Dl(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Dl(t))}}function Ol(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function Al(){}function Nl(){this.a={},this.b=1e12}hl.prototype.lb=function(t){var e=null,n=this;return function(t){var e=new Vr("invalid-persistence-type"),n=new Vr("unsupported-persistence-type");t:{for(r in Ns)if(Ns[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Xn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!ar()&&"none"!==t)throw n}}(t),vl(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,fl(n,t)}).then(function(){if(n.c=dl(t),e)return n.b.set(n.c,e,n.a)}):wt()})},b(bl,xe),b(_l,oe),b(wl,oe),(t=bl.prototype).lb=function(t){return Ol(this,t=this.h.lb(t))},t.oa=function(t){this.W===t||this.l||(this.W=t,ea(this.b,this.W),this.dispatchEvent(new _l(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.oa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.sc=function(t){this.G.push(t),na(this.b,Cs.a.SDK_VERSION?rr(Cs.a.SDK_VERSION,this.G):null),this.dispatchEvent(new wl(this.G))},t.xa=function(){return U(this.G)},t.toJSON=function(){return{apiKey:Il(this).options.apiKey,authDomain:Il(this).options.authDomain,appName:Il(this).name,currentUser:kl(this)&&kl(this).D()}},t.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.Zb,this):null},t.Zb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=pa(n.b,t).then(function(t){return r=Ui(t),i=si(t),t});return Ol(this,t=n.V.then(function(){return o}).then(function(t){return Cl(n,t)}).then(function(){return kr({user:kl(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},t.Jc=function(t){if(!sr())return Et(new Vr("operation-not-supported-in-this-environment"));var e=this,n=ai(t.providerId),r=dr(),i=null;(!cr()||Yn())&&Il(this).options.authDomain&&t.isOAuthProvider&&(i=ls(Il(this).options.authDomain,Il(this).options.apiKey,Il(this).name,"signInViaPopup",t,null,r,Cs.a.SDK_VERSION||null));var o=zn(i,n&&n.Ba,n&&n.Aa);return Ol(this,n=El(this).then(function(e){return du(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new dt(function(t,n){e.ha("signInViaPopup",null,new Vr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Wn(o),t?kr(t):null}).s(function(t){throw o&&Wn(o),t}))},t.Kc=function(t){if(!sr())return Et(new Vr("operation-not-supported-in-this-environment"));var e=this;return Ol(this,El(this).then(function(){return vl(t=e.h,function(){return t.b.set(pl,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!sr())return Et(new Vr("operation-not-supported-in-this-environment"));var t=this;return Ol(this,El(this).then(function(){return t.a.fa()}).then(function(t){return t?kr(t):null}))},t.Qc=function(t){if(!t)return Et(new Vr("null-user"));var e=this,n={};n.apiKey=Il(this).options.apiKey,n.authDomain=Il(this).options.authDomain,n.appName=Il(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[$o]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-v())/1e3,e=new Pu(e,o),n&&(e.ba=n),r&&Lu(e,r),Xu(e,t),e}(t,n,e.w,e.xa());return Ol(this,this.i.then(function(){if(Il(e).options.apiKey!=t.l)return r.reload()}).then(function(){return kl(e)&&t.uid==kl(e).uid?(Xu(kl(e),t),e.Z(t)):(Sl(e,r),Hu(r),e.Z(r))}).then(function(){xl(e)}))},t.mb=function(){var t=this;return Ol(this,this.i.then(function(){return kl(t)?(Sl(t,null),gl(t.h).then(function(){xl(t)})):wt()}))},t.Lc=function(){var t=this;return yl(this.h,Il(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=kl(t)&&e){n=kl(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Xu(kl(t),e),kl(t).F();(kl(t)||e)&&(Sl(t,e),e&&(Hu(e),e.ba=t.w),t.a&&t.a.subscribe(t),xl(t))}})},t.Z=function(t){return ml(this.h,t)},t.$b=function(){xl(this),this.Z(kl(this))},t.ic=function(){this.mb()},t.jc=function(){this.mb()},t.kc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(kl(e))})},t.mc=function(t){var e=this;!function(t,e){t.I.push(e),Ol(t,t.i.then(function(){!t.l&&M(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Dl(t)))}))}(this,function(){t.next(kl(e))})},t.uc=function(t,e,n){var r=this;return this.X&&Cs.a.Promise.resolve().then(function(){c(t)?t(kl(r)):c(t.next)&&t.next(kl(r))}),this.Rb(t,e,n)},t.tc=function(t,e,n){var r=this;return this.X&&Cs.a.Promise.resolve().then(function(){r.O=r.getUid(),c(t)?t(kl(r)):c(t.next)&&t.next(kl(r))}),this.Sb(t,e,n)},t.bc=function(t){var e=this;return Ol(this,this.i.then(function(){return kl(e)?kl(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Lb=function(t){var e=this;return this.i.then(function(){return Tl(e,Wa(e.b,Ua,{token:t}))}).then(function(t){var n=t.user;return $u(n,"isAnonymous",!1),e.Z(n),t})},t.Dc=function(t){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Lb(t)},t.Ec=function(t,e){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Mb(t,e)},t.Mb=function(t,e){var n=this;return this.i.then(function(){return Tl(n,Wa(n.b,ja,{email:t,password:e}))})},t.wb=function(t,e){var n=this;return this.i.then(function(){return Tl(n,Wa(n.b,ba,{email:t,password:e}))})},t.Ub=function(t,e){return Cr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},t.Gc=function(t){return Cr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},t.Oa=function(t){var e=this;return this.i.then(function(){return Tl(e,t.ya(e.b))})},t.Pa=function(){var t=this;return this.i.then(function(){var e=kl(t);if(e&&e.isAnonymous){var n=kr({providerId:null,isNewUser:!1});return kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Tl(t,t.b.Pa()).then(function(e){var n=e.user;return $u(n,"isAnonymous",!0),t.Z(n),e})})},t.Fc=function(){return Cr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},t.getUid=function(){return kl(this)&&kl(this).uid||null},t.Tb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&kl(this)&&Uu(kl(this))},t.Bc=function(t){var e=this;N(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&kl(this)&&ju(kl(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),Ol(this,this.i.then(function(){e.l||M(e.o,t)&&t(Dl(e))}))},t.removeAuthTokenListener=function(t){F(this.o,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(dl("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),Cs.a.Promise.resolve()},t.Xb=function(t){return Cr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Ol(this,function(t,e){return Wa(t,_a,{identifier:e,continueUri:ur()?Bn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.Yb=function(t){return Ol(this,function(t,e){return Wa(t,_a,{identifier:e,continueUri:ur()?Bn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.nc=function(t){return!!Pi(t)},t.kb=function(t,e){var n=this;return Ol(this,wt().then(function(){var t=new qr(e);if(!t.c)throw new Vr("argument-error",Wr+" must be true when sending sign in link to email");return Xr(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Ya=function(t,e){return Ol(this,this.b.Ya(t,e).then(function(){}))},t.Ja=function(t){return Ol(this,this.b.Ja(t).then(function(t){return new xr(t)}))},t.Va=function(t){return Ol(this,this.b.Va(t).then(function(){}))},t.jb=function(t,e){var n=this;return Ol(this,wt().then(function(){return void 0===e||rt(e)?{}:Xr(new qr(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},t.Ic=function(t,e){return Ol(this,Tu(this,t,e,g(this.Oa,this)))},t.Hc=function(t,e){var n=this;return Ol(this,wt().then(function(){var r=Ri(t,e||Bn());return n.Oa(r)}))},Al.prototype.render=function(){},Al.prototype.reset=function(){},Al.prototype.getResponse=function(){},Al.prototype.execute=function(){};var Rl=null;function Pl(t,e){return(e=Ml(e))&&t.a[e]||null}function Ml(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ll(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=An(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ye(this.f,"click",this.i)}function Fl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Vl(){}Nl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ll(t,e),this.b++},Nl.prototype.reset=function(t){var e=Pl(this,t);t=Ml(t),e&&t&&(e.delete(),delete this.a[t])},Nl.prototype.getResponse=function(t){return(t=Pl(this,t))?t.getResponse():null},Nl.prototype.execute=function(t){(t=Pl(this,t))&&t.execute()},Ll.prototype.getResponse=function(){return Fl(this),this.b},Ll.prototype.execute=function(){Fl(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Ll.prototype.delete=function(){Fl(this),this.g=!0,clearTimeout(this.a),this.a=null,_e(this.f,"click",this.i)},Vl.prototype.g=function(){return Rl||(Rl=new Nl),wt(Rl)},Vl.prototype.c=function(){};var Ul=null;function jl(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Bl=mn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ql=new yr(3e4,6e4);jl.prototype.g=function(t){var e=this;return new dt(function(r,i){var o=setTimeout(function(){i(new Vr("network-request-failed"))},ql.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Vr("internal-error"));delete n[e.a]},wt(Bo(vn(Bl,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Vr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},jl.prototype.c=function(){this.b--};var Hl=null;function Wl(t,e,r,i,o,a,s){if(Tr(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.l=e,this.g=null,s?(Ul||(Ul=new Vl),s=Ul):(Hl||(Hl=new jl),s=Hl),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[Kl])throw new Vr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ql],!n.document)throw new Vr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!An(e)||!this.i&&An(e).hasChildNodes())throw new Vr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Qo(t,a||null,o||null),this.v=i||function(){return null};var u=this;this.m=[];var l=this.a[zl];this.a[zl]=function(t){if(Yl(u,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=or(l,n);"function"==typeof e&&e(t)}};var c=this.a[Gl];this.a[Gl]=function(){if(Yl(u,null),"function"==typeof c)c();else if("string"==typeof c){var t=or(c,n);"function"==typeof t&&t()}}}var zl="callback",Gl="expired-callback",Kl="sitekey",Ql="size";function Yl(t,e){for(var n=0;n<t.m.length;n++)try{t.m[n](e)}catch(r){}}function $l(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function Xl(t){if(t.C)throw new Vr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jl(t,e,n){var r=!1;try{this.b=n||Cs.a.app()}catch(a){throw new Vr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Vr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().xa()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=Cs.a.SDK_VERSION?rr(Cs.a.SDK_VERSION,o):null,Wl.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},o,Ya(Ka),r)}function Zl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Vr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=tc.length)throw new Vr("internal-error","Argument validator received an unsupported number of arguments.");n=tc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Vr("argument-error",t+" failed: "+r)}(t=Wl.prototype).za=function(){var t=this;return this.f?this.f:this.f=$l(this,wt().then(function(){if(ur()&&!$n())return Kn();throw new Vr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,Wa(t.u,Oa,{})}).then(function(e){t.a[Kl]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Xl(this);var t=this;return $l(this,this.za().then(function(){if(null===t.c){var e=t.l;if(!t.i){var n=An(e);e=function(t,e,n){var i=arguments,o=document,a=String(i[0]),s=i[1];if(!hn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',q(s.name),'"'),s.type){a.push(' type="',q(s.type),'"');var c={};ut(c,s),delete c.type,s=c}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(r(s)?a.className=s:u(s)?a.className=s.join(" "):Nn(a,s)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!l(a)||h(a)&&0<a.nodeType?i(a):N(Pn(a)?U(a):a,i)}}(o,a,i),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Xl(this);var t=this;return $l(this,this.render().then(function(e){return new dt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){F(t.m,function(t){return t==e})}(t,i),n(e))};t.m.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Xl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Xl(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=An(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}},b(Jl,Wl);var tc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ec(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function nc(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function rc(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:h}}function ic(t,e){return{name:t||"",K:"a function",optional:!!e,M:c}}function oc(t,e){return{name:t||"",K:"null",optional:!!e,M:s}}function ac(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ya||t&&e.providerId!==t)}}}function sc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&c(t.verify))}}}function uc(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function lc(t,e){for(var n in e){var r=e[n].name;t[r]=fc(r,t[n],e[n].j)}}function cc(t,e){for(var n in e){var r=e[n].name;if(r!==n){var i=e[n].sb;Object.defineProperty(t,r,{get:function(){return this[n]},set:function(t){Zl(r,[i],[t],!0),this[n]=t},enumerable:!0})}}}function hc(t,e,n,r){t[e]=fc(e,n,r)}function fc(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Zl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}lc(bl.prototype,{Va:{name:"applyActionCode",j:[ec("code")]},Ja:{name:"checkActionCode",j:[ec("code")]},Ya:{name:"confirmPasswordReset",j:[ec("code"),ec("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[ec("email"),ec("password")]},Ub:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[ec("email"),ec("password")]},Xb:{name:"fetchProvidersForEmail",j:[ec("email")]},Yb:{name:"fetchSignInMethodsForEmail",j:[ec("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[ec("emailLink")]},tc:{name:"onAuthStateChanged",j:[uc(rc(),ic(),"nextOrObserver"),ic("opt_error",!0),ic("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[uc(rc(),ic(),"nextOrObserver"),ic("opt_error",!0),ic("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[ec("email"),uc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[ec("email"),rc("actionCodeSettings")]},lb:{name:"setPersistence",j:[ec("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[ac()]},Pa:{name:"signInAnonymously",j:[]},Fc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Gc:{name:"signInWithCredential",j:[ac()]},Lb:{name:"signInWithCustomToken",j:[ec("token")]},Dc:{name:"signInAndRetrieveDataWithCustomToken",j:[ec("token")]},Mb:{name:"signInWithEmailAndPassword",j:[ec("email"),ec("password")]},Hc:{name:"signInWithEmailLink",j:[ec("email"),ec("emailLink",!0)]},Ec:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[ec("email"),ec("password")]},Ic:{name:"signInWithPhoneNumber",j:[ec("phoneNumber"),sc()]},Jc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[uc({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Pu)}},oc(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ec(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[ec("code")]}}),cc(bl.prototype,{lc:{name:"languageCode",sb:uc(ec(),oc(),"languageCode")}}),(bl.Persistence=Ns).LOCAL="local",bl.Persistence.SESSION="session",bl.Persistence.NONE="none",lc(Pu.prototype,{delete:{name:"delete",j:[]},cc:{name:"getIdTokenResult",j:[nc("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[nc("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[ac()]},oc:{name:"linkWithCredential",j:[ac()]},pc:{name:"linkWithPhoneNumber",j:[ec("phoneNumber"),sc()]},qc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},rc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ac()]},xc:{name:"reauthenticateWithCredential",j:[ac()]},yc:{name:"reauthenticateWithPhoneNumber",j:[ec("phoneNumber"),sc()]},zc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[uc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ec(null,!0)]},Pc:{name:"unlink",j:[ec("provider")]},ob:{name:"updateEmail",j:[ec("email")]},pb:{name:"updatePassword",j:[ec("password")]},Rc:{name:"updatePhoneNumber",j:[ac("phone")]},qb:{name:"updateProfile",j:[rc("profile")]}}),lc(Nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lc(Al.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lc(dt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),cc(Cu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:nc("appVerificationDisabledForTesting")}}),lc(Su.prototype,{confirm:{name:"confirm",j:[ec("verificationCode")]}}),hc(Ni,"credential",function(t,e){return new Ai(t,e)},[ec("email"),ec("password")]),lc(Ci.prototype,{ta:{name:"addScope",j:[ec("scope")]},Da:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),hc(Ci,"credential",Si,[uc(ec(),rc(),"token")]),hc(Ni,"credentialWithLink",Ri,[ec("email"),ec("emailLink")]),lc(Ti.prototype,{ta:{name:"addScope",j:[ec("scope")]},Da:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),hc(Ti,"credential",Ii,[uc(ec(),rc(),"token")]),lc(ki.prototype,{ta:{name:"addScope",j:[ec("scope")]},Da:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),hc(ki,"credential",Di,[uc(ec(),uc(rc(),oc()),"idToken"),uc(ec(),oc(),"accessToken",!0)]),lc(xi.prototype,{Da:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),hc(xi,"credential",Oi,[uc(ec(),rc(),"token"),ec("secret",!0)]),lc(Ei.prototype,{ta:{name:"addScope",j:[ec("scope")]},credential:{name:"credential",j:[uc(ec(),oc(),"idToken",!0),uc(ec(),oc(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),hc(Fi,"credential",Vi,[ec("verificationId"),ec("verificationCode")]),lc(Fi.prototype,{Ta:{name:"verifyPhoneNumber",j:[ec("phoneNumber"),sc()]}}),lc(Vr.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),lc(Gi.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),lc(zi.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),lc(Jl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===Cs.a||!Cs.a.INTERNAL||!Cs.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:bl,Error:Vr};hc(t,"EmailAuthProvider",Ni,[]),hc(t,"FacebookAuthProvider",Ci,[]),hc(t,"GithubAuthProvider",Ti,[]),hc(t,"GoogleAuthProvider",ki,[]),hc(t,"TwitterAuthProvider",xi,[]),hc(t,"OAuthProvider",Ei,[ec("providerId")]),hc(t,"PhoneAuthProvider",Fi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof bl)}}]),hc(t,"RecaptchaVerifier",Jl,[uc(ec(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),rc("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Cs.a.app.App)}}]),Cs.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:g((t=new bl(t)).getUid,t),getToken:g(t.bc,t),addAuthTokenListener:g(t.Tb,t),removeAuthTokenListener:g(t.Bc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),Cs.a.INTERNAL.extendNamespace({User:Pu})}()}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var kl=function(){return function(){}}();function Dl(t){return function(e){var n=new xl(t),r=e.lift(n);return n.caught=r}}var xl=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ol(t,this.selector,this.caught))},t}(),Ol=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle(),this.add(V(this,n))}},e}(U);function Al(t){return function(t){return new T(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(ht())}function Nl(t){return Al(t).pipe(j(function(t){return{payload:t,type:"query"}}))}function Rl(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Pl(t,e,n))}}var Pl=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ml(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ml=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(b);function Ll(t){return Nl(t).pipe(j(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}var Fl=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ll(this.query))).pipe(j(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),rl(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ll(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Rl(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return Nl(t).pipe(j(function(t){return t.payload.docChanges()}),Rl(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e);break;case"removed":t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),j(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=Nl(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(j(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new Vl(this.ref.doc(t),this.afs)},t}(),Vl=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=ql(this.ref.collection(t),e);return new Fl(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=Al(this.ref).pipe(j(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(j(function(t){return t.payload.data()}))},t}(),Ul=new pt("angularfire2.enableFirestorePersistence"),jl=new pt("angularfire2.firestore.settings"),Bl={timestampsInSnapshots:!0};function ql(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var Hl=function(){function t(t,e,n,r,i,o){var a=this;this.scheduler=new El(o,i),this.firestore=o.runOutsideAngular(function(){var n=Sl(t,e).firestore();return n.settings(r||Bl),n}),this.persistenceEnabled$=o.runOutsideAngular(function(){return n?W(a.firestore.enablePersistence().then(function(){return!0},function(){return!1})):ks(!1)}).pipe(Dl(function(){return ks(!1)}))}return t.prototype.collection=function(t,e){var n=ql("string"==typeof t?this.firestore.collection(t):t,e);return new Fl(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new Vl(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),Wl=(n("6Joi"),function(){function t(){}return t.enablePersistence=function(){return{ngModule:t,providers:[{provide:Ul,useValue:!0}]}},t}()),zl=function(){function t(){this._msgSource=new tt,this.msg=this._msgSource.asObservable()}return t.prototype.update=function(t,e){this._msgSource.next({content:t,style:e})},t.prototype.clear=function(){this._msgSource.next(null)},t}(),Gl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Kl=function(){function t(t){this.afs=t,this.usersCollection=this.afs.collection("users",function(t){return t.orderBy("email","desc")})}return t.prototype.getData=function(){return this.usersCollection.snapshotChanges().pipe(j(function(t){return t.map(function(t){var e=t.payload.doc.data();return Gl({id:t.payload.doc.id},e)})}))},t.prototype.getUser=function(t){return this.afs.doc("users/"+t)},t.prototype.createUser=function(t,e){return this.usersCollection.add({displayName:t,email:e,isAdmin:!1})},t.prototype.updateUser=function(t,e){return this.getUser(t).update(e)},t.prototype.deleteUser=function(t){return this.getUser(t).delete()},t}(),Ql=function(){function t(t,e,n,r,i){var o=this;this.afAuth=t,this.afs=e,this.router=n,this.notify=r,this.usrservice=i,this.user=this.afAuth.authState.pipe(Ds(function(t){return t?o.afs.doc("users/"+t.uid).valueChanges():ks(null)}))}return t.prototype.googleLogin=function(){var t=new Es.firebase.auth.GoogleAuthProvider;return this.oAuthLogin(t)},t.prototype.githubLogin=function(){var t=new Es.firebase.auth.GithubAuthProvider;return this.oAuthLogin(t)},t.prototype.facebookLogin=function(){var t=new Es.firebase.auth.FacebookAuthProvider;return this.oAuthLogin(t)},t.prototype.twitterLogin=function(){var t=new Es.firebase.auth.TwitterAuthProvider;return this.oAuthLogin(t)},t.prototype.oAuthLogin=function(t){var e=this;return this.afAuth.auth.signInWithPopup(t).then(function(t){return e.notify.update("Welcome to TOTECH web application!!!","success"),e.updateUserData(t.user)}).catch(function(t){return e.handleError(t)})},t.prototype.anonymousLogin=function(){var t=this;return this.afAuth.auth.signInAnonymously().then(function(e){return t.notify.update("Welcome to TOTECH web application!!!","success"),t.updateUserData(e.user)}).catch(function(e){t.handleError(e)})},t.prototype.emailSignUp=function(t,e,n,r,i){var o=this;return this.afAuth.auth.createUserWithEmailAndPassword(r,i).then(function(r){return o.notify.update("Welcome new user!","success"),o.newupdateUserData(r.user,t,e,n)}).catch(function(t){return o.handleError(t)})},t.prototype.emailLogin=function(t,e){var n=this;return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(function(t){return n.notify.update("Welcome back!","success"),n.updateUserData(t.user)}).catch(function(t){return n.handleError(t)})},t.prototype.resetPassword=function(t){var e=this;return Es.firebase.auth().sendPasswordResetEmail(t).then(function(){return e.notify.update("Password update email sent","info")}).catch(function(t){return e.handleError(t)})},t.prototype.signOut=function(){var t=this;this.afAuth.auth.signOut().then(function(){t.router.navigate(["/"])})},t.prototype.handleError=function(t){console.error(t),this.notify.update("Login failure","error")},t.prototype.updateUserData=function(t){return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email||null,photoURL:t.photoURL||""},{merge:!0})},t.prototype.newupdateUserData=function(t,e,n,r){return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email||null,displayName:t.displayName||e,photoURL:t.photoURL||"",company:t.company||n,phone:t.phone||r},{merge:!0})},t}(),Yl=function(){return function(t){this.auth=t,this.title="app"}}(),$l=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(tt);function Xl(t,e){return z(t,e,1)}function Jl(t){return function(e){return 0===t?Ts():e.lift(new Zl(t))}}var Zl=function(){function t(t){if(this.total=t,this.total<0)throw new al}return t.prototype.call=function(t,e){return e.subscribe(new tc(t,this.total))},t}(),tc=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(b);function ec(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?rl(function(e,n){return t(e,n,r)}):Q,Jl(1),n?cl(e):gl(function(){return new nl}))}}function nc(t,e){return function(n){return n.lift(new rc(t,e,n))}}var rc=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new ic(t,this.predicate,this.thisArg,this.source))},t}(),ic=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(b);function oc(){return Y(1)}var ac=null;function sc(){return ac}var uc,lc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},cc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};_t.Node&&(uc=_t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var fc,pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,ac||(ac=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,Object(r.__spread)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return lc},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return uc.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&hc.hasOwnProperty(e)&&(e=hc[e]))}return cc[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=dc||(dc=document.querySelector("base"))?dc.getAttribute("href"):null;return null==n?null:(e=n,fc||(fc=document.createElement("a")),fc.setAttribute("href",e),"/"===fc.pathname.charAt(0)?fc.pathname:"/"+fc.pathname)},e.prototype.resetBaseElement=function(){dc=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){e=encodeURIComponent(e);try{for(var n=Object(r.__values)(t.split(";")),i=n.next();!i.done;i=n.next()){var o=i.value,a=o.indexOf("="),s=Object(r.__read)(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),u=s[1];if(s[0].trim()===e)return decodeURIComponent(u)}}catch(h){l={error:h}}finally{try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(l)throw l.error}}return null;var l,c}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),dc=null,mc=Gu;function gc(){return!!window.history.pushState}var yc=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.__extends)(e,t),e.prototype._init=function(){this.location=sc().getLocation(),this._history=sc().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return sc().getBaseHref(this._doc)},e.prototype.onPopState=function(t){sc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){sc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){gc()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){gc()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:xt,args:[mc]}]}]},e}(As),vc=function(){function t(t){this._doc=t,this._dom=sc()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t&&this._dom.querySelector(this._doc,"meta["+t+"]")||null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}(),bc=new pt("TRANSITION_ID");function _c(t,e,n){return function(){n.get(de).donePromise.then(function(){var n=sc();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}}var wc=[{provide:pe,useFactory:_c,deps:[bc,mc,Ft],multi:!0}],Ec=function(){function t(){}return t.init=function(){var e;e=new t,Xe=e},t.prototype.addToWindow=function(t){_t.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},_t.getAllAngularTestabilities=function(){return t.getAllTestabilities()},_t.getAllAngularRootElements=function(){return t.getAllRootElements()},_t.frameworkStabilizers||(_t.frameworkStabilizers=[]),_t.frameworkStabilizers.push(function(t){var e=_t.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?sc().isShadowRoot(e)?this.findTestabilityInTree(t,sc().getHost(e),!0):this.findTestabilityInTree(t,sc().parentElement(e),!0):null},t}(),Cc=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return sc().getTitle(this._doc)},t.prototype.setTitle=function(t){sc().setTitle(this._doc,t)},t}();function Sc(t,e){"undefined"!=typeof COMPILED&&COMPILED||((_t.ng=_t.ng||{})[t]=e)}var Tc={ApplicationRef:un,NgZone:Be};function Ic(t){return Dn(t)}var kc=new pt("EventManagerPlugins"),Dc=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),xc=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=sc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Oc=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Ac=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return sc().remove(t)})},e}(Oc),Nc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rc=/%COMP%/g,Pc="_nghost-%COMP%",Mc="_ngcontent-%COMP%";function Lc(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?Lc(t,i,n):(i=i.replace(Rc,t),n.push(i))}return n}function Fc(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Vc=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Uc(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ee.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Hc(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case ee.Native:case ee.ShadowDom:return new Wc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Lc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Uc=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Nc[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=Nc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Nc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&fn.DashCase?t.style.setProperty(e,n,r&fn.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&fn.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Bc(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Bc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Fc(n)):this.eventManager.addEventListener(t,e,Fc(n))},t}(),jc="@".charCodeAt(0);function Bc(t,e){if(t.charCodeAt(0)===jc)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var qc,Hc=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=Lc(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=Mc.replace(Rc,r.id),i.hostAttr=Pc.replace(Rc,r.id),i}return Object(r.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Uc),Wc=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===ee.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Lc(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return Object(r.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Uc),zc="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Gc=zc("addEventListener"),Kc=zc("removeEventListener"),Qc={},Yc="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[zc("BLACK_LISTED_EVENTS")]&&(qc={});var $c=function(t){return!!qc&&qc.hasOwnProperty(t)},Xc=function(t){var e=Qc[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Yc];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Jc=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.ngZone=n,r&&$u(r)||i.patchEvent(),i}return Object(r.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Yc]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[Gc]||Be.isInAngularZone()&&!$c(e))t.addEventListener(e,i,!1);else{var o=Qc[e];o||(o=Qc[e]=zc("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var u=$c(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var l=!1,c=0;c<a.length;c++)if(a[c].handler===i){l=!0;break}l||a.push({zone:u,handler:i})}s||t[Gc](e,Xc,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Kc];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Qc[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,Xc,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(xc),Zc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},th=new pt("HammerGestureConfig"),eh=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),nh=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i._config=n,i.console=r,i}return Object(r.__extends)(e,t),e.prototype.supports=function(t){return!(!Zc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&(this.console.warn("Hammer.js is not loaded, can not bind '"+t+"' event."),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){return o.off(e,a)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(xc),rh=["alt","control","meta","shift"],ih={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},oh=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,r){var i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return sc().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(rh.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=sc().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),rh.forEach(function(r){r!=n&&(0,ih[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(xc),ah=function(){return function(){}}(),sh=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Sr.NONE:return e;case Sr.HTML:return e instanceof lh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{ur=ur||new nr(t);var r=e?String(e):"";n=ur.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);var a=new yr,s=a.sanitizeChildren(wr(n)||n);return en()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var u=wr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(e)));case Sr.STYLE:return e instanceof ch?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Cr);return e&&or(e[1])===e[1]||t.match(Er)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(en()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Sr.SCRIPT:if(e instanceof hh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Sr.URL:return e instanceof ph||e instanceof fh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),or(String(e)));case Sr.RESOURCE_URL:if(e instanceof ph)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof uh)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new lh(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ch(t)},e.prototype.bypassSecurityTrustScript=function(t){return new hh(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new fh(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new ph(t)},e}(ah),uh=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(uh),ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(uh),hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(uh),fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(uh),ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(uh),dh=rn($n,"browser",[{provide:ye,useValue:Ku},{provide:ge,useValue:function(){pc.makeCurrent(),Ec.init()},multi:!0},{provide:As,useClass:yc,deps:[mc]},{provide:mc,useFactory:function(){return document},deps:[]}]);function mh(){return new le}var gh=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:me,useValue:e.appId},{provide:bc,useExisting:me},wc]}},t}();"undefined"!=typeof window&&window;var yh=function(){function t(){this.store={},this.onSerializeCallbacks={}}return t.init=function(e){var n=new t;return n.store=e,n},t.prototype.get=function(t,e){return void 0!==this.store[t]?this.store[t]:e},t.prototype.set=function(t,e){this.store[t]=e},t.prototype.remove=function(t){delete this.store[t]},t.prototype.hasKey=function(t){return this.store.hasOwnProperty(t)},t.prototype.onSerialize=function(t,e){this.onSerializeCallbacks[t]=e},t.prototype.toJson=function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)},t}();function vh(t,e){var n,r=t.getElementById(e+"-state"),i={};if(r&&r.textContent)try{i=JSON.parse((n={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},r.textContent.replace(/&[^;]+;/g,function(t){return n[t]})))}catch(o){console.warn("Exception while restoring TransferState for app "+e,o)}return yh.init(i)}var bh=function(){return function(){}}(),_h=function(){return function(t,e){this.id=t,this.url=e}}(),wh=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(_h),Eh=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(_h),Ch=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(_h),Sh=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(_h),Th=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(_h),Ih=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(_h),kh=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(_h),Dh=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(_h),xh=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(_h),Oh=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Ah=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Nh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Rh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ph=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Mh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Lh=function(){return function(){}}(),Fh="primary",Vh=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Uh(t){return new Vh(t)}function jh(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Bh=function(){return function(t,e){this.routes=t,this.module=e}}();function qh(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Hh(r,Wh(e,r))}}function Hh(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Fh)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&qh(t.children,e)}function Wh(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function zh(t){var e=t.children&&t.children.map(zh),n=e?Object(r.__assign)({},t,{children:e}):Object(r.__assign)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Fh&&(n.component=Lh),n}function Gh(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Kh(t){return Array.prototype.concat.apply([],t)}function Qh(t){return t.length>0?t[t.length-1]:null}function Yh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $h(t){return t.pipe(Y(),nc(function(t){return!0===t}))}function Xh(t){return fe(t)?t:he(t)?W(Promise.resolve(t)):ks(t)}function Jh(t,e,n){return n?function(t,e){return Gh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!nf(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!nf(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!nf(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!nf(n.segments,a)&&!!n.children[Fh]&&e(n.children[Fh],r,s)}(e,n,n.segments)}(t.root,e.root)}var Zh=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Uh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return sf.serialize(this)},t}(),tf=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Yh(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return uf(this)},t}(),ef=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Uh(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return df(this)},t}();function nf(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function rf(t,e){var n=[];return Yh(t.children,function(t,r){r===Fh&&(n=n.concat(e(t,r)))}),Yh(t.children,function(t,r){r!==Fh&&(n=n.concat(e(t,r)))}),n}var of=function(){return function(){}}(),af=function(){function t(){}return t.prototype.parse=function(t){var e=new bf(t);return new Zh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return uf(e);if(n){var r=e.children[Fh]?t(e.children[Fh],!1):"",i=[];return Yh(e.children,function(e,n){n!==Fh&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=rf(e,function(n,r){return r===Fh?[t(e.children[Fh],!1)]:[r+":"+t(n,!1)]});return uf(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return cf(t)+"="+cf(e)}).join("&"):cf(t)+"="+cf(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),sf=new af;function uf(t){return t.segments.map(function(t){return df(t)}).join("/")}function lf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cf(t){return lf(t).replace(/%3B/gi,";")}function hf(t){return lf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ff(t){return decodeURIComponent(t)}function pf(t){return ff(t.replace(/\+/g,"%20"))}function df(t){return""+hf(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+hf(t)+"="+hf(e[t])}).join(""));var e}var mf=/^[^\/()?;=#]+/;function gf(t){var e=t.match(mf);return e?e[0]:""}var yf=/^[^=?&#]+/,vf=/^[^?&#]+/,bf=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tf([],{}):new tf([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Fh]=new tf(t,e)),n},t.prototype.parseSegment=function(){var t=gf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new ef(ff(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=gf(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=gf(this.remaining);r&&this.capture(n=r)}t[ff(e)]=ff(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(yf))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(vf);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=pf(n),a=pf(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=gf(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Fh);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Fh]:new tf([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),_f=function(){return function(t){this.segmentGroup=t||null}}(),wf=function(){return function(t){this.urlTree=t}}();function Ef(t){return new T(function(e){return e.error(new _f(t))})}function Cf(t){return new T(function(e){return e.error(new wf(t))})}function Sf(t){return new T(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Tf=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Re)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Fh).pipe(j(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Dl(function(e){if(e instanceof wf)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof _f)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Fh).pipe(j(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Dl(function(t){if(t instanceof _f)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new tf([],((r={})[Fh]=t,r)):t;return new Zh(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j(function(t){return new tf([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return ks({});var o=[],a=[],s={};return Yh(n,function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(j(function(t){return s[i]=t}));i===Fh?o.push(c):a.push(c)}),ks.apply(null,o.concat(a)).pipe(oc(),ec(),j(function(){return s}))}(n.children)},t.prototype.expandSegment=function(t,e,n,i,o,a){var s=this;return ks.apply(void 0,Object(r.__spread)(n)).pipe(j(function(r){return s.expandSegmentAgainstRoute(t,e,n,r,i,o,a).pipe(Dl(function(t){if(t instanceof _f)return ks(null);throw t}))}),oc(),vl(function(t){return!!t}),Dl(function(t,n){if(t instanceof nl||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,i,o))return ks(new tf([],{}));throw new _f(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return xf(r)!==o?Ef(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ef(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Cf(o):this.lineralizeSegments(n,o).pipe(z(function(n){var o=new tf(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=If(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return Ef(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Cf(h):this.lineralizeSegments(r,h).pipe(z(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j(function(t){return n._loadedConfig=t,new tf(i,{})})):ks(new tf(i,{}));var a=If(e,n,i),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return Ef(e);var l=i.slice(u);return this.getChildConfig(t,n).pipe(z(function(t){var n=t.module,i=t.routes,a=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return Df(t,e,n)&&xf(n)!==Fh})}(t,n)?{segmentGroup:kf(new tf(e,function(t,e){var n,i,o={};o[Fh]=e;try{for(var a=Object(r.__values)(t),s=a.next();!s.done;s=a.next()){var u=s.value;""===u.path&&xf(u)!==Fh&&(o[xf(u)]=new tf([],{}))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}(i,new tf(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return Df(t,e,n)})}(t,n)?{segmentGroup:kf(new tf(t.segments,function(t,e,n,i){var o,a,s={};try{for(var u=Object(r.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;Df(t,e,c)&&!i[xf(c)]&&(s[xf(c)]=new tf([],{}))}}catch(h){o={error:h}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return Object(r.__assign)({},i,s)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,i),u=a.segmentGroup,c=a.slicedSegments;return 0===c.length&&u.hasChildren()?o.expandChildren(n,i,u).pipe(j(function(t){return new tf(s,t)})):0===i.length&&0===c.length?ks(new tf(s,{})):o.expandSegment(n,u,i,c,Fh,!0).pipe(j(function(t){return new tf(s.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e){var n=this;return e.children?ks(new Bh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ks(e._loadedConfig):function(t,e){var n=e.canLoad;return n&&0!==n.length?$h(W(n).pipe(j(function(n){var r=t.get(n);return Xh(r.canLoad?r.canLoad(e):r(e))}))):ks(!0)}(t.injector,e).pipe(z(function(r){return r?n.configLoader.load(t.injector,e).pipe(j(function(t){return e._loadedConfig=t,t})):function(t){return new T(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)})):ks(new Bh([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ks(n);if(r.numberOfChildren>1||!r.children[Fh])return Sf(t.redirectTo);r=r.children[Fh]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Zh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Yh(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Yh(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new tf(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,i,o=0;try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t},t}();function If(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||jh)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function kf(t){if(1===t.numberOfChildren&&t.children[Fh]){var e=t.children[Fh];return new tf(t.segments.concat(e.segments),e.children)}return t}function Df(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function xf(t){return t.outlet||Fh}var Of=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Af(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Af(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Nf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Nf(t,this._root).map(function(t){return t.value})},t}();function Af(t,e){if(t===e.value)return e;try{for(var n=Object(r.__values)(e.children),i=n.next();!i.done;i=n.next()){var o=Af(t,i.value);if(o)return o}}catch(u){a={error:u}}finally{try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return null;var a,s}function Nf(t,e){if(t===e.value)return[e];try{for(var n=Object(r.__values)(e.children),i=n.next();!i.done;i=n.next()){var o=Nf(t,i.value);if(o.length)return o.unshift(e),o}}catch(u){a={error:u}}finally{try{i&&!i.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[];var a,s}var Rf=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Pf(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Mf=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Bf(r,e),r}return Object(r.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Of);function Lf(t,e){var n=function(t,e){var n=new Uf([],{},{},"",{},Fh,e,null,t.root,-1,{});return new jf("",new Rf(n,[]))}(t,e),r=new $l([new ef("",{})]),i=new $l({}),o=new $l({}),a=new $l({}),s=new $l(""),u=new Ff(r,i,a,s,o,Fh,e,n.root);return u.snapshot=n.root,new Mf(new Rf(u,[]),n)}var Ff=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(j(function(t){return Uh(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(function(t){return Uh(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Vf(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var o=n[i],a=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(a.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object(r.__assign)({},t.params,e.params),data:Object(r.__assign)({},t.data,e.data),resolve:Object(r.__assign)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var Uf=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Uh(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Uh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),jf=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Bf(r,n),r}return Object(r.__extends)(e,t),e.prototype.toString=function(){return qf(this._root)},e}(Of);function Bf(t,e){e.value._routerState=t,e.children.forEach(function(e){return Bf(t,e)})}function qf(t){var e=t.children.length>0?" { "+t.children.map(qf).join(", ")+" } ":"";return""+t.value+e}function Hf(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Gh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Gh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Gh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Wf(t,e){var n,r;return Gh(t.params,e.params)&&nf(n=t.url,r=e.url)&&n.every(function(t,e){return Gh(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Wf(t.parent,e.parent))}function zf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gf(t,e,n,r,i){var o={};return r&&Yh(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Zh(n.root===t?e:function t(e,n,r){var i={};return Yh(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new tf(e.segments,i)}(n.root,t,e),o,i)}var Kf=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&zf(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Qh(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Qf=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Yf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Fh]:""+t}function $f(t,e,n){if(t||(t=new tf([],{})),0===t.segments.length&&t.hasChildren())return Xf(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Yf(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!ep(s,u,a))return o;r+=2}else{if(!ep(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new tf(t.segments.slice(0,r.pathIndex),{});return o.children[Fh]=new tf(t.segments.slice(r.pathIndex),t.children),Xf(o,0,i)}return r.match&&0===i.length?new tf(t.segments,{}):r.match&&!t.hasChildren()?Jf(t,e,n):r.match?Xf(t,0,i):Jf(t,e,n)}function Xf(t,e,n){if(0===n.length)return new tf(t.segments,{});var r=function(t){return"object"!=typeof t[0]?((e={})[Fh]=t,e):void 0===t[0].outlets?((n={})[Fh]=t,n):t[0].outlets;var e,n}(n),i={};return Yh(r,function(n,r){null!==n&&(i[r]=$f(t.children[r],e,n))}),Yh(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new tf(t.segments,i)}function Jf(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Zf(n[i].outlets);return new tf(r,o)}if(0===i&&zf(n[0]))r.push(new ef(t.segments[e].path,n[0])),i++;else{var a=Yf(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&zf(s)?(r.push(new ef(a,tp(s))),i+=2):(r.push(new ef(a,{})),i++)}}return new tf(r,{})}function Zf(t){var e={};return Yh(t,function(t,n){null!==t&&(e[n]=Jf(new tf([],{}),0,t))}),e}function tp(t){var e={};return Yh(t,function(t,n){return e[n]=""+t}),e}function ep(t,e,n){return t==n.path&&Gh(e,n.parameters)}var np=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),rp=function(){return function(t,e){this.component=t,this.route=e}}(),ip=function(){function t(t,e,n,r){this.future=t,this.curr=e,this.moduleInjector=n,this.forwardEvent=r,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.initialize=function(t){var e=this.future._root;this.setupChildRouteGuards(e,this.curr?this.curr._root:null,t,[e.value])},t.prototype.checkGuards=function(){var t=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(z(function(e){return e?t.runCanActivateChecks():ks(!1)})):ks(!0)},t.prototype.resolveData=function(t){var e=this;return this.isActivating()?W(this.canActivateChecks).pipe(Xl(function(n){return e.runResolve(n.route,t)}),function(t,e){return arguments.length>=2?function(e){return C(Rl(t,void 0),Jl(1),cl(void 0))(e)}:function(e){return C(Rl(function(e,n,r){return t(e)}),Jl(1))(e)}}(function(t,e){return t})):ks(null)},t.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},t.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},t.prototype.setupChildRouteGuards=function(t,e,n,r){var i=this,o=Pf(e);t.children.forEach(function(t){i.setupRouteGuards(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),Yh(o,function(t,e){return i.deactivateRouteAndItsChildren(t,n.getContext(e))})},t.prototype.setupRouteGuards=function(t,e,n,r){var i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){var s=this.shouldRunGuardsAndResolvers(o,i,i.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new np(r)):(i.data=o.data,i._resolvedData=o._resolvedData),this.setupChildRouteGuards(t,e,i.component?a?a.children:null:n,r),s&&this.canDeactivateChecks.push(new rp(a.outlet.component,o))}else o&&this.deactivateRouteAndItsChildren(e,a),this.canActivateChecks.push(new np(r)),this.setupChildRouteGuards(t,null,i.component?a?a.children:null:n,r)},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Wf(t,e)||!Gh(t.queryParams,e.queryParams);case"paramsChange":default:return!Wf(t,e)}},t.prototype.deactivateRouteAndItsChildren=function(t,e){var n=this,r=Pf(t),i=t.value;Yh(r,function(t,r){n.deactivateRouteAndItsChildren(t,i.component?e?e.children.getContext(r):null:e)}),this.canDeactivateChecks.push(new rp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this;return W(this.canDeactivateChecks).pipe(z(function(e){return t.runCanDeactivate(e.component,e.route)}),nc(function(t){return!0===t}))},t.prototype.runCanActivateChecks=function(){var t=this;return W(this.canActivateChecks).pipe(Xl(function(e){return $h(W([t.fireChildActivationStart(e.route.parent),t.fireActivationStart(e.route),t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))}),nc(function(t){return!0===t}))},t.prototype.fireActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Ph(t)),ks(!0)},t.prototype.fireChildActivationStart=function(t){return null!==t&&this.forwardEvent&&this.forwardEvent(new Nh(t)),ks(!0)},t.prototype.runCanActivate=function(t){var e=this,n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?$h(W(n).pipe(j(function(n){var r=e.getToken(n,t);return Xh(r.canActivate?r.canActivate(t,e.future):r(t,e.future)).pipe(vl())}))):ks(!0)},t.prototype.runCanActivateChild=function(t){var e=this,n=t[t.length-1];return $h(W(t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t})).pipe(j(function(t){return $h(W(t.guards).pipe(j(function(r){var i=e.getToken(r,t.node);return Xh(i.canActivateChild?i.canActivateChild(n,e.future):i(n,e.future)).pipe(vl())})))})))},t.prototype.extractCanActivateChild=function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var n=this,r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?W(r).pipe(z(function(r){var i=n.getToken(r,e);return Xh(i.canDeactivate?i.canDeactivate(t,e,n.curr,n.future):i(t,e,n.curr,n.future)).pipe(vl())})).pipe(nc(function(t){return!0===t})):ks(!0)},t.prototype.runResolve=function(t,e){return this.resolveNode(t._resolve,t).pipe(j(function(n){return t._resolvedData=n,t.data=Object(r.__assign)({},t.data,Vf(t,e).resolve),null}))},t.prototype.resolveNode=function(t,e){var n=this,r=Object.keys(t);if(0===r.length)return ks({});if(1===r.length){var i=r[0];return this.getResolver(t[i],e).pipe(j(function(t){return(e={})[i]=t,e;var e}))}var o={};return W(r).pipe(z(function(r){return n.getResolver(t[r],e).pipe(j(function(t){return o[r]=t,t}))})).pipe(ec(),j(function(){return o}))},t.prototype.getResolver=function(t,e){var n=this.getToken(t,e);return Xh(n.resolve?n.resolve(e,this.future):n(e,this.future))},t.prototype.getToken=function(t,e){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),op=function(){return function(){}}(),ap=function(){function t(t,e,n,r,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i}return t.prototype.recognize=function(){try{var t=lp(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Fh),n=new Uf([],Object.freeze({}),Object.freeze(Object(r.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fh,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Rf(n,e),o=new jf(this.url,i);return this.inheritParamsAndData(o._root),ks(o)}catch(a){return new T(function(t){return t.error(a)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Vf(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=rf(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Fh?-1:e.value.outlet===Fh?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,i){try{for(var o=Object(r.__values)(t),a=o.next();!a.done;a=o.next()){var s=a.value;try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(c){if(!(c instanceof op))throw c}}}catch(h){u={error:h}}finally{try{a&&!a.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}if(this.noLeftoversInUrl(e,n,i))return[];throw new op;var u,l},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new op;if((t.outlet||Fh)!==i)throw new op;var o,a=[],s=[];if("**"===t.path){var u=n.length>0?Qh(n).parameters:{};o=new Uf(n,u,Object.freeze(Object(r.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,fp(t),i,t.component,t,sp(e),up(e)+n.length,pp(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new op;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||jh)(n,t,e);if(!i)throw new op;var o={};Yh(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object(r.__assign)({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=l.consumedSegments,s=n.slice(l.lastChild),o=new Uf(a,l.parameters,Object.freeze(Object(r.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,fp(t),i,t.component,t,sp(e),up(e)+a.length,pp(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=lp(e,a,s,c),f=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&f.hasChildren()){var d=this.processChildren(c,f);return[new Rf(o,d)]}if(0===c.length&&0===p.length)return[new Rf(o,[])];var m=this.processSegment(c,f,p,Fh);return[new Rf(o,m)]},t}();function sp(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function up(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function lp(t,e,n,i){if(n.length>0&&function(t,e,n){return i.some(function(n){return cp(t,e,n)&&hp(n)!==Fh})}(t,n)){var o=new tf(e,function(t,e,n,i){var o,a,s={};s[Fh]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;try{for(var u=Object(r.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(""===c.path&&hp(c)!==Fh){var h=new tf([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[hp(c)]=h}}}catch(f){o={error:f}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return s}(t,e,i,new tf(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return cp(t,e,n)})}(t,n)){var a=new tf(t.segments,function(t,e,n,i){var o,a,s={};try{for(var u=Object(r.__values)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(cp(t,e,c)&&!i[hp(c)]){var h=new tf([],{});h._sourceSegment=t,h._segmentIndexShift=t.segments.length,s[hp(c)]=h}}}catch(f){o={error:f}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return Object(r.__assign)({},i,s)}(t,n,i,t.children));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new tf(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function cp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function hp(t){return t.outlet||Fh}function fp(t){return t.data||{}}function pp(t){return t.resolve||{}}var dp=function(){return function(){}}(),mp=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),gp=new pt("ROUTES"),yp=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Bh(Kh(i.injector.get(gp)).map(zh),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?W(this.loader.load(t)):Xh(t()).pipe(z(function(t){return t instanceof Pe?ks(t):W(e.compiler.compileModuleAsync(t))}))},t}(),vp=function(){return function(){}}(),bp=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function _p(t){throw t}function wp(t,e,n){return e.parse("/")}function Ep(t){return ks(null)}var Cp=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.navigations=new $l(null),this.navigationId=0,this.events=new tt,this.errorHandler=_p,this.malformedUriErrorHandler=wp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ep,afterPreactivation:Ep},this.urlHandlingStrategy=new bp,this.routeReuseStrategy=new mp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=i.get(Re),this.resetConfig(s),this.currentUrlTree=new Zh(new tf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new yp(o,a,function(t){return u.triggerEvent(new Oh(t))},function(t){return u.triggerEvent(new Ah(t))}),this.routerState=Lf(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){qh(t),this.config=t.map(zh),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;en()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object(r.__assign)({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,o){if(0===n.length)return Gf(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Kf(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return Yh(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(r.__spread)(t,[{outlets:a}])}if(i.segmentPath)return Object(r.__spread)(t,[i.segmentPath])}return"string"!=typeof i?Object(r.__spread)(t,[i]):0===o?(i.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(r.__spread)(t,[i])},[]);return new Kf(n,e,i)}(n);if(a.toRoot())return Gf(e.root,new tf([],{}),e,i,o);var s=function(t,n,r){if(t.isAbsolute)return new Qf(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Qf(r.snapshot._urlSegment,!0,0);var i=zf(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Qf(a,!1,s-u)}()}(a,0,t),u=s.processChildren?Xf(s.segmentGroup,s.index,a.commands):$f(s.segmentGroup,s.index,a.commands);return Gf(s.segmentGroup,u,e,i,o)}(l,this.currentUrlTree,t,h,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Zh?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(t instanceof Zh)return Jh(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Jh(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.pipe(Xl(function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):ks(null)})).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.navigations.value;if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.navigations.next({id:u,source:e,state:n,rawUrl:t,extras:r,resolve:o,reject:a,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,a=t.reject,s=t.source,u=t.state,l=this.urlHandlingStrategy.extract(r),c=!this.navigated||l.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.events.next(new wh(n,this.serializeUrl(l),s,u)),Promise.resolve().then(function(t){return e.runNavigate(l,r,!!i.skipLocationChange,!!i.replaceUrl,n,null)}).then(o,a)):c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new wh(n,this.serializeUrl(l),s,u)),Promise.resolve().then(function(t){return e.runNavigate(l,r,!1,!1,n,Lf(l,e.rootComponentType).snapshot)}).then(o,a)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,n,i,o,a){var s=this;return o!==this.navigationId?(this.events.next(new Ch(o,this.serializeUrl(t),"Navigation ID "+o+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(u,l){var c,h=(a?ks({appliedUrl:t,snapshot:a}):new Tf(s.ngModule.injector,s.configLoader,s.urlSerializer,t,s.config).apply().pipe(z(function(e){return function(t,e,n,r,i){return void 0===i&&(i="emptyOnly"),new ap(t,e,n,r,i).recognize()}(s.rootComponentType,s.config,e,s.serializeUrl(e),s.paramsInheritanceStrategy).pipe(j(function(n){return s.events.next(new Th(o,s.serializeUrl(t),s.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}}))}))).pipe(z(function(t){return"boolean"==typeof t?ks(t):s.hooks.beforePreactivation(t.snapshot).pipe(j(function(){return t}))})).pipe(j(function(t){if("boolean"==typeof t)return t;var e=t.appliedUrl,n=t.snapshot;return(c=new ip(n,s.routerState.snapshot,s.ngModule.injector,function(t){return s.triggerEvent(t)})).initialize(s.rootContexts),{appliedUrl:e,snapshot:n}})).pipe(z(function(e){if("boolean"==typeof e||s.navigationId!==o)return ks(!1);var n=e.appliedUrl,r=e.snapshot;return s.triggerEvent(new Ih(o,s.serializeUrl(t),s.serializeUrl(n),r)),c.checkGuards().pipe(j(function(e){return s.triggerEvent(new kh(o,s.serializeUrl(t),s.serializeUrl(n),r,e)),{appliedUrl:n,snapshot:r,shouldActivate:e}}))})).pipe(z(function(e){return"boolean"==typeof e||s.navigationId!==o?ks(!1):e.shouldActivate&&c.isActivating()?(s.triggerEvent(new Dh(o,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),c.resolveData(s.paramsInheritanceStrategy).pipe(j(function(){return s.triggerEvent(new xh(o,s.serializeUrl(t),s.serializeUrl(e.appliedUrl),e.snapshot)),e}))):ks(e)})).pipe(z(function(t){return"boolean"==typeof t||s.navigationId!==o?ks(!1):s.hooks.afterPreactivation(t.snapshot).pipe(j(function(){return t}))})).pipe(j(function(t){if("boolean"==typeof t||s.navigationId!==o)return!1;var e,n,i,a=t.appliedUrl,u=t.shouldActivate;return u?{appliedUrl:a,state:(i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(l=i.value)._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map(function(n){try{for(var o=Object(r.__values)(i.children),a=o.next();!a.done;a=o.next()){var s=a.value;if(e.shouldReuseRoute(s.value.snapshot,n.value))return t(e,n,s)}}catch(c){u={error:c}}finally{try{a&&!a.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}}return t(e,n);var u,l})}(e,n,i);return new Rf(l,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,l=new Ff(new $l((u=n.value).url),new $l(u.params),new $l(u.queryParams),new $l(u.fragment),new $l(u.data),u.outlet,u.component,u);return o=n.children.map(function(n){return t(e,n)}),new Rf(l,o)}(s.routeReuseStrategy,(e=t.snapshot)._root,(n=s.routerState)?n._root:void 0),new Mf(i,e)),shouldActivate:u}:{appliedUrl:a,state:null,shouldActivate:u}}));s.activateRoutes(h,s.routerState,s.currentUrlTree,o,t,e,n,i,u,l)})},t.prototype.activateRoutes=function(t,e,n,r,i,o,a,s,u,l){var c,h=this;t.forEach(function(t){if("boolean"!=typeof t&&t.shouldActivate&&r===h.navigationId&&t.state){var n=t.state;if(h.currentUrlTree=t.appliedUrl,h.rawUrlTree=h.urlHandlingStrategy.merge(h.currentUrlTree,o),h.routerState=n,!a){var i=h.urlSerializer.serialize(h.rawUrlTree);h.location.isCurrentPathEqualTo(i)||s?h.location.replaceState(i,"",{navigationId:r}):h.location.go(i,"",{navigationId:r})}new Sp(h.routeReuseStrategy,n,e,function(t){return h.triggerEvent(t)}).activate(h.rootContexts),c=!0}else c=!1}).then(function(){c?(h.navigated=!0,h.lastSuccessfulId=r,h.events.next(new Eh(r,h.serializeUrl(i),h.serializeUrl(h.currentUrlTree))),u(!0)):(h.resetUrlToCurrentUrlTree(),h.events.next(new Ch(r,h.serializeUrl(i),"")),u(!1))},function(t){if((a=t)&&a.ngNavigationCancelingError)h.navigated=!0,h.resetStateAndUrl(e,n,o),h.events.next(new Ch(r,h.serializeUrl(i),t.message)),u(!1);else{h.resetStateAndUrl(e,n,o),h.events.next(new Sh(r,h.serializeUrl(i),t));try{u(h.errorHandler(t))}catch(s){l(s)}}var a})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Sp=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hf(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Pf(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Yh(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Pf(t),o=t.value.component?r.children:e;Yh(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Pf(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Mh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Rh(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Hf(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Tp(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Tp(t){Hf(t.value),t.children.forEach(Tp)}var Ip=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){en()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Dp(this.skipLocationChange),replaceUrl:Dp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Dp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Dp(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),kp=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Eh&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){en()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Dp(this.skipLocationChange),replaceUrl:Dp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Dp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Dp(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Dp(t){return""===t||!!t}var xp=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Op,this.attachRef=null}}(),Op=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new xp,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Ap=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new je,this.deactivateEvents=new je,this.name=r||Fh,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Np(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Np=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Ff?this.route:t===Op?this.childContexts:this.parent.get(t,e)},t}(),Rp=function(){return function(){}}(),Pp=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Dl(function(){return ks(null)}))},t}(),Mp=function(){function t(){}return t.prototype.preload=function(t,e){return ks(null)},t}(),Lp=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new yp(e,n,function(e){return t.triggerEvent(new Oh(e))},function(e){return t.triggerEvent(new Ah(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(rl(function(t){return t instanceof Eh}),Xl(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(Re);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,i,o=[];try{for(var a=Object(r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var l=u._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return W(o).pipe(Y(),j(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(z(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Fp=new pt("ROUTER_CONFIGURATION"),Vp=new pt("ROUTER_FORROOT_GUARD"),Up=[Ms,{provide:of,useClass:af},{provide:Cp,useFactory:zp,deps:[un,of,Op,Ms,Ft,mn,we,gp,Fp,[vp,new Ot],[dp,new Ot]]},Op,{provide:Ff,useFactory:Gp,deps:[Cp]},{provide:mn,useClass:bn},Lp,Mp,Pp,{provide:Fp,useValue:{enableTracing:!1}}];function jp(){return new nn("Router",Cp)}var Bp=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Up,Wp(e),{provide:Vp,useFactory:Hp,deps:[[Cp,new Ot,new Nt]]},{provide:Fp,useValue:n||{}},{provide:Rs,useFactory:qp,deps:[As,[new xt(Ps),new Ot],Fp]},{provide:Rp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mp},{provide:nn,multi:!0,useFactory:jp},[Kp,{provide:pe,multi:!0,useFactory:Qp,deps:[Kp]},{provide:$p,useFactory:Yp,deps:[Kp]},{provide:ve,multi:!0,useExisting:$p}]]}},t.forChild=function(e){return{ngModule:t,providers:[Wp(e)]}},t}();function qp(t,e,n){return void 0===n&&(n={}),n.useHash?new Fs(t,e):new Vs(t,e)}function Hp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Wp(t){return[{provide:gt,multi:!0,useValue:t},{provide:gp,multi:!0,useValue:t}]}function zp(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new Cp(null,e,n,r,i,o,a,Kh(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=sc();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),h}function Gp(t){return t.routerState.root}var Kp=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new tt}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Ns,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Cp),i=t.injector.get(Fp);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?ks(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Fp),n=this.injector.get(Lp),r=this.injector.get(Cp),i=this.injector.get(un);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Qp(t){return t.appInitializer.bind(t)}function Yp(t){return t.bootstrapListener.bind(t)}var $p=new pt("Router Initializer"),Xp=Hr({encapsulation:2,styles:[],data:{}});function Jp(t){return Uo(0,[(t()(),_i(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),uo(1,212992,null,0,Ap,[Op,En,Oe,[8,null],Cn],null,null)],function(t,e){t(e,1,0)},null)}function Zp(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ng-component",[],null,null,null,Jp,Xp)),uo(1,49152,null,0,Lh,[],null,null)],null,null)}var td=Vi("ng-component",Lh,Zp,{},{},[]),ed=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),nd=Hr({encapsulation:0,styles:[['.centered-wrapper[_ngcontent-%COMP%]{position:relative;text-align:center}.centered-wrapper[_ngcontent-%COMP%]:before{content:"";position:relative;display:inline-block;width:0;height:100%;vertical-align:middle}.centered-content[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}']],data:{}});function rd(t){return Uo(0,[(t()(),_i(0,0,null,null,14,"div",[["class","centered-wrapper"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,13,"div",[["class","centered-content>"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"a",[["align","center"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(3,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),_i(4,0,null,null,0,"img",[["alt","TOTECH"],["src","assets/totech_logo.jpg"]],null,null,null,null,null)),(t()(),_i(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Web Application"])),(t()(),_i(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["The site will be updated frequently with more information."])),(t()(),_i(9,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Email: "])),(t()(),_i(11,0,null,null,1,"a",[["href","mailto:toni.pitkakangas@totech.fi?Subject=Hello%20TOTECH"],["target","_top"]],null,null,null,null,null)),(t()(),Lo(-1,null,["toni.pitkakangas@totech.fi"])),(t()(),_i(13,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Phone: +358 407356596"]))],function(t,e){t(e,3,0,"/")},function(t,e){t(e,2,0,Yi(e,3).target,Yi(e,3).href)})}function id(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"home-page",[],null,null,null,rd,nd)),uo(1,114688,null,0,ed,[],null,null)],function(t,e){t(e,1,0)},null)}var od=Vi("home-page",ed,id,{},{},[]),ad=function(){return function(){this.collapsed=!1}}(),sd=function(t){function e(e,n){var r=t.call(this,e)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var a=V(r,n[o],null,o);a&&r.add(a)}return r}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this.haveValues,r=this.values,i=r.length;t._hasValue?(this.completed++,this.completed===i&&(n===i&&e.next(r),e.complete())):e.complete()},e}(U),ud=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(ud);function cd(t){return null==t||0===t.length}var hd=new pt("NgValidators"),fd=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,pd=function(){function t(){}return t.min=function(t){return function(e){if(cd(e.value)||cd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(cd(e.value)||cd(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return cd(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return cd(t.value)?null:fd.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(cd(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(cd(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(dd);return 0==e.length?null:function(t){return gd(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(dd);return 0==e.length?null:function(t){return function t(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&l(n[0])&&(n=n[0]),0===n.length?Ss:e?t(n).pipe(j(function(t){return e.apply(void 0,t)})):new T(function(t){return new sd(t,n)})}(function(t,n){return e.map(function(e){return e(t)})}(t).map(md)).pipe(j(gd))}},t}();function dd(t){return null!=t}function md(t){var e=he(t)?W(t):t;if(!fe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function gd(t){var e=t.reduce(function(t,e){return null!=e?Object(r.__assign)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var yd=new pt("NgValueAccessor"),vd=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),bd=new pt("CompositionEventMode"),_d=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=sc()?sc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function wd(t){return t.validate?function(e){return t.validate(e)}:t}function Ed(t){return t.validate?function(e){return t.validate(e)}:t}var Cd=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function Sd(){throw new Error("unimplemented")}var Td=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Sd()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Sd()},enumerable:!0,configurable:!0}),e}(ud),Id=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),kd=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Td),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),Dd=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),xd='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Od='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Ad='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Nd=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xd)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+Od+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+Ad)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+xd)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Od)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}();function Rd(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var Pd=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Tt}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Rd(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){try{for(var e=Object(r.__values)(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var i=n.value;if(this._compareWith(this._optionMap.get(i),t))return i}}catch(s){o={error:s}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}return null;var o,a},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),Md=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Rd(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Ld(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var Fd=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Tt}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){try{for(var e=Object(r.__values)(Array.from(this._optionMap.keys())),n=e.next();!n.done;n=e.next()){var i=n.value;if(this._compareWith(this._optionMap.get(i)._value,t))return i}}catch(s){o={error:s}}finally{try{n&&!n.done&&(a=e.return)&&a.call(e)}finally{if(o)throw o.error}}return null;var o,a},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),Vd=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(Ld(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(Ld(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function Ud(t,e){return Object(r.__spread)(e.path,[t])}function jd(t,e){t||Wd(e,"Cannot find control with"),e.valueAccessor||Wd(e,"No value accessor for form control with"),t.validator=pd.compose([t.validator,e.validator]),t.asyncValidator=pd.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Bd(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Bd(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function Bd(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qd(t,e){null==t&&Wd(e,"Cannot find control with"),t.validator=pd.compose([t.validator,e.validator]),t.asyncValidator=pd.composeAsync([t.asyncValidator,e.asyncValidator])}function Hd(t){return Wd(t,"There is no FormControl instance attached to form control element with")}function Wd(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function zd(t){return null!=t?pd.compose(t.map(wd)):null}function Gd(t){return null!=t?pd.composeAsync(t.map(Ed)):null}function Kd(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Tt(e,n.currentValue)}var Qd=[vd,Dd,Cd,Pd,Fd,kd];function Yd(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function $d(t,e){if(!e)return null;Array.isArray(e)||Wd(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===_d?n=e:(o=e,Qd.some(function(t){return o.constructor===t})?(r&&Wd(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Wd(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Wd(t,"No valid value accessor for form control with"),null)}function Xd(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Jd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Ud(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return zd(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Gd(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(ld),Zd=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),tm=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(Zd),em=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e}(Zd);function nm(t){var e=im(t)?t.validators:t;return Array.isArray(e)?zd(e):e||null}function rm(t,e){var n=im(e)?e.asyncValidators:t;return Array.isArray(n)?Gd(n):n||null}function im(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var om=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=nm(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=rm(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.__assign)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.__assign)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=md(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof sm?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof um&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new je,this.statusChanges=new je},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){im(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),am=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,nm(n),rm(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(r.__extends)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(om),sm=function(t){function e(e,n,r){var i=t.call(this,nm(n),rm(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof am?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){try{for(var t=Object(r.__values)(Object.keys(this.controls)),e=t.next();!e.done;e=t.next())if(this.controls[e.value].enabled)return!1}catch(o){n={error:o}}finally{try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled;var n,i},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(om),um=function(t){function e(e,n,r){var i=t.call(this,nm(n),rm(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof am?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){try{for(var t=Object(r.__values)(this.controls),e=t.next();!e.done;e=t.next())if(e.value.enabled)return!1}catch(o){n={error:o}}finally{try{e&&!e.done&&(i=t.return)&&i.call(t)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled;var n,i},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(om),lm=Promise.resolve(null),cm=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new je,r.form=new sm({},zd(e),Gd(n)),r}return Object(r.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;lm.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),jd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;lm.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Xd(e._directives,t)})},e.prototype.addFormGroup=function(t){var e=this;lm.then(function(){var n=e._findContainer(t.path),r=new sm({});qd(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;lm.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;lm.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,Yd(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(ld),hm=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+xd+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+Od+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Ad)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+Od+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Ad)},t}(),fm=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.__extends)(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof cm||hm.modelGroupParentException()},e}(Jd),pm=Promise.resolve(null),dm=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new am,o._registered=!1,o.update=new je,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=$d(o,i),o}return Object(r.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Kd(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?Ud(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return zd(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Gd(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){jd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof fm)&&this._parent instanceof Jd?hm.formGroupNameException():this._parent instanceof fm||this._parent instanceof cm||hm.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||hm.missingNameException()},e.prototype._updateValue=function(t){var e=this;pm.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;pm.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(Td),mm=new pt("NgModelWithFormControlWarning"),gm=function(t){function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new je,r}return Object(r.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return jd(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){Xd(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);qd(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);qd(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,Yd(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange(function(){return Hd(e)}),e.valueAccessor.registerOnTouched(function(){return Hd(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(e.control,e),n&&jd(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=zd(this._validators);this.form.validator=pd.compose([this.form.validator,t]);var e=Gd(this._asyncValidators);this.form.asyncValidator=pd.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||Nd.missingFormException()},e}(ld),ym=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.__extends)(e,t),e.prototype._checkParentType=function(){bm(this._parent)&&Nd.groupParentException()},e}(Jd),vm=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return Ud(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return zd(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Gd(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){bm(this._parent)&&Nd.arrayParentException()},e}(ld);function bm(t){return!(t instanceof ym||t instanceof gm||t instanceof vm)}var _m=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a._ngModelWarningConfig=o,a._added=!1,a.update=new je,a._ngModelWarningSent=!1,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=$d(a,i),a}return Object(r.__extends)(e,t),Object.defineProperty(e.prototype,"isDisabled",{set:function(t){Nd.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){var n,r;this._added||this._setUpControl(),Kd(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,en()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Nd.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{get:function(){return Ud(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return zd(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Gd(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof ym)&&this._parent instanceof Jd?Nd.ngModelGroupException():this._parent instanceof ym||this._parent instanceof gm||this._parent instanceof vm||Nd.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e._ngModelWarningSentOnce=!1,e}(Td),wm=function(){function t(){}return Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?pd.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}(),Em=function(){function t(){}return t.prototype.group=function(t,e){void 0===e&&(e=null);var n=this._reduceControls(t);return new sm(n,null!=e?e.validator:null,null!=e?e.asyncValidator:null)},t.prototype.control=function(t,e,n){return new am(t,e,n)},t.prototype.array=function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new um(i,e,n)},t.prototype._reduceControls=function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){return t instanceof am||t instanceof sm||t instanceof um?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)},t}(),Cm=function(){return function(){}}(),Sm=function(){return function(){}}(),Tm=function(){return function(){}}(),Im=function(){function t(){}return t.withConfig=function(e){return{ngModule:t,providers:[{provide:mm,useValue:e.warnOnNgModelWithFormControl}]}},t}(),km=function(){function t(t,e){this.fb=t,this.auth=e,this.newUser=!0,this.passReset=!1,this.formErrors={email:"",password:""},this.validationMessages={email:{required:"Email is required.",email:"Email must be a valid email"},password:{required:"Password is required.",pattern:"Password must include one letter and one number.",minlength:"Password must be at least 4 characters long.",maxlength:"Password cannot be more than 40 characters long."}}}return t.prototype.ngOnInit=function(){this.buildForm()},t.prototype.toggleForm=function(){this.newUser=!this.newUser},t.prototype.signup=function(){this.auth.emailSignUp(this.userForm.value.name,this.userForm.value.company,this.userForm.value.phone,this.userForm.value.email,this.userForm.value.password)},t.prototype.login=function(){this.auth.emailLogin(this.userForm.value.email,this.userForm.value.password)},t.prototype.resetPassword=function(){var t=this;this.auth.resetPassword(this.userForm.value.email).then(function(){return t.passReset=!0})},t.prototype.buildForm=function(){var t=this;this.userForm=this.fb.group({name:["",[pd.minLength(2)]],company:["",[]],phone:["",[pd.minLength(7)]],email:["",[pd.required,pd.email]],password:["",[pd.pattern("^(?=.*[0-9])(?=.*[a-zA-Z])([a-zA-Z0-9]+)$"),pd.minLength(6),pd.maxLength(25)]]}),this.userForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.userForm){var e=this.userForm;for(var n in this.formErrors)if(Object.prototype.hasOwnProperty.call(this.formErrors,n)&&("email"===n||"password"===n)){this.formErrors[n]="";var r=e.get(n);if(r&&r.dirty&&!r.valid){var i=this.validationMessages[n];if(r.errors)for(var o in r.errors)Object.prototype.hasOwnProperty.call(r.errors,o)&&(this.formErrors[n]+=i[o]+" ")}}}},t}(),Dm=Hr({encapsulation:0,styles:[[""]],data:{}});function xm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","notification is-danger"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.formErrors.email)})}function Om(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","notification is-danger"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.formErrors.password)})}function Am(t){return Uo(0,[(t()(),_i(0,0,null,null,13,"div",[["class","notification is-success"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" By registering you will get access to more options and information on the website and TOTECH will borrow and store a copy of your provided contact details. "])),(t()(),_i(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" TOTECH will store the following information: "])),(t()(),_i(5,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" The users name, email, company name and phone number. Purpose is to have contact details of our registered users. "])),(t()(),_i(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" In addition to this TOTECH will also store a Userlevel indication ( Admin ). Purpose is to give some users (usually internal users or partners) even more options and information available to them on the TOTECH website. "])),(t()(),_i(9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" You can at any time ask us to show and/or delete the stored information about you. "])),(t()(),_i(11,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),_i(12,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" By clicking submit you indicate that you have read and agreed to all of the above "]))],null,null)}function Nm(t){return Uo(0,[(t()(),_i(0,0,null,null,63,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Yi(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==Yi(t,2).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.signup()&&r),r},null,null)),uo(1,16384,null,0,Cm,[],null,null),uo(2,540672,null,0,gm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),co(2048,null,ld,null,[gm]),uo(4,16384,null,0,em,[[4,ld]],null,null),(t()(),_i(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["...or signup with email address below"])),(t()(),_i(7,0,null,null,1,"p",[["class","button is-small"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleForm()&&r),r},null,null)),(t()(),Lo(-1,null,["Already have account. Login here!"])),(t()(),_i(9,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(10,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Name"])),(t()(),_i(12,0,null,null,7,"input",[["class","input"],["formControlName","name"],["name","name"],["required",""],["type","name"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,13)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,13).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,13)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,13)._compositionEnd(n.target.value)&&r),r},null,null)),uo(13,16384,null,0,_d,[pn,dn,[2,bd]],null,null),uo(14,16384,null,0,wm,[],{required:[0,"required"]},null),co(1024,null,hd,function(t){return[t]},[wm]),co(1024,null,yd,function(t){return[t]},[_d]),uo(17,671744,null,0,_m,[[3,ld],[6,hd],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(19,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(20,0,null,null,1,"label",[["for","company"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Company"])),(t()(),_i(22,0,null,null,5,"input",[["class","input"],["formControlName","company"],["name","company"],["type","company"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,23)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,23).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,23)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,23)._compositionEnd(n.target.value)&&r),r},null,null)),uo(23,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(25,671744,null,0,_m,[[3,ld],[8,null],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(27,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(28,0,null,null,1,"label",[["for","phone"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Phone number"])),(t()(),_i(30,0,null,null,5,"input",[["class","input"],["formControlName","phone"],["name","phone"],["type","phone"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,31)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,31).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,31)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,31)._compositionEnd(n.target.value)&&r),r},null,null)),uo(31,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(33,671744,null,0,_m,[[3,ld],[8,null],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(35,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(36,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Email"])),(t()(),_i(38,0,null,null,7,"input",[["autocomplete","new-password"],["class","input"],["formControlName","email"],["name","email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,39)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,39).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,39)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,39)._compositionEnd(n.target.value)&&r),r},null,null)),uo(39,16384,null,0,_d,[pn,dn,[2,bd]],null,null),uo(40,16384,null,0,wm,[],{required:[0,"required"]},null),co(1024,null,hd,function(t){return[t]},[wm]),co(1024,null,yd,function(t){return[t]},[_d]),uo(43,671744,null,0,_m,[[3,ld],[6,hd],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(45,16384,null,0,tm,[[4,Td]],null,null),(t()(),bi(16777216,null,null,1,null,xm)),uo(47,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(48,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Password"])),(t()(),_i(50,0,null,null,7,"input",[["class","input"],["formControlName","password"],["name","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,51)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,51).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,51)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,51)._compositionEnd(n.target.value)&&r),r},null,null)),uo(51,16384,null,0,_d,[pn,dn,[2,bd]],null,null),uo(52,16384,null,0,wm,[],{required:[0,"required"]},null),co(1024,null,hd,function(t){return[t]},[wm]),co(1024,null,yd,function(t){return[t]},[_d]),uo(55,671744,null,0,_m,[[3,ld],[6,hd],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(57,16384,null,0,tm,[[4,Td]],null,null),(t()(),bi(16777216,null,null,1,null,Om)),uo(59,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,Am)),uo(61,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(62,0,null,null,1,"button",[["class","button btn-social btn-google"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(t()(),Lo(-1,null,["Submit"]))],function(t,e){var n=e.component;t(e,2,0,n.userForm),t(e,14,0,""),t(e,17,0,"name"),t(e,25,0,"company"),t(e,33,0,"phone"),t(e,40,0,""),t(e,43,0,"email"),t(e,47,0,n.formErrors.email),t(e,52,0,""),t(e,55,0,"password"),t(e,59,0,n.formErrors.password),t(e,61,0,n.userForm.valid)},function(t,e){var n=e.component;t(e,0,0,Yi(e,4).ngClassUntouched,Yi(e,4).ngClassTouched,Yi(e,4).ngClassPristine,Yi(e,4).ngClassDirty,Yi(e,4).ngClassValid,Yi(e,4).ngClassInvalid,Yi(e,4).ngClassPending),t(e,12,0,Yi(e,14).required?"":null,Yi(e,19).ngClassUntouched,Yi(e,19).ngClassTouched,Yi(e,19).ngClassPristine,Yi(e,19).ngClassDirty,Yi(e,19).ngClassValid,Yi(e,19).ngClassInvalid,Yi(e,19).ngClassPending),t(e,22,0,Yi(e,27).ngClassUntouched,Yi(e,27).ngClassTouched,Yi(e,27).ngClassPristine,Yi(e,27).ngClassDirty,Yi(e,27).ngClassValid,Yi(e,27).ngClassInvalid,Yi(e,27).ngClassPending),t(e,30,0,Yi(e,35).ngClassUntouched,Yi(e,35).ngClassTouched,Yi(e,35).ngClassPristine,Yi(e,35).ngClassDirty,Yi(e,35).ngClassValid,Yi(e,35).ngClassInvalid,Yi(e,35).ngClassPending),t(e,38,0,Yi(e,40).required?"":null,Yi(e,45).ngClassUntouched,Yi(e,45).ngClassTouched,Yi(e,45).ngClassPristine,Yi(e,45).ngClassDirty,Yi(e,45).ngClassValid,Yi(e,45).ngClassInvalid,Yi(e,45).ngClassPending),t(e,50,0,Yi(e,52).required?"":null,Yi(e,57).ngClassUntouched,Yi(e,57).ngClassTouched,Yi(e,57).ngClassPristine,Yi(e,57).ngClassDirty,Yi(e,57).ngClassValid,Yi(e,57).ngClassInvalid,Yi(e,57).ngClassPending),t(e,62,0,!n.userForm.valid)})}function Rm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.formErrors.email)})}function Pm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","help is-danger"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.formErrors.password)})}function Mm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"a",[["class","help is-info"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.resetPassword()&&r),r},null,null)),(t()(),Lo(1,null,["Reset Password for ","?"]))],null,function(t,e){t(e,1,0,e.component.userForm.value.email)})}function Lm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"p",[["class","help is-info"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Reset requested. Check your email instructions."]))],null,null)}function Fm(t){return Uo(0,[(t()(),_i(0,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0,i=t.component;return"submit"===e&&(r=!1!==Yi(t,2).onSubmit(n)&&r),"reset"===e&&(r=!1!==Yi(t,2).onReset()&&r),"ngSubmit"===e&&(r=!1!==i.login()&&r),r},null,null)),uo(1,16384,null,0,Cm,[],null,null),uo(2,540672,null,0,gm,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),co(2048,null,ld,null,[gm]),uo(4,16384,null,0,em,[[4,ld]],null,null),(t()(),_i(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Existing User Login with email and password below"])),(t()(),_i(7,0,null,null,1,"p",[["class","btn button is-small"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleForm()&&r),r},null,null)),(t()(),Lo(-1,null,["New User? Back to signup"])),(t()(),_i(9,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(10,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Email"])),(t()(),_i(12,0,null,null,7,"input",[["autocomplete","new-password"],["class","input"],["formControlName","email"],["id","email"],["name","email2"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,13)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,13).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,13)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,13)._compositionEnd(n.target.value)&&r),r},null,null)),uo(13,16384,null,0,_d,[pn,dn,[2,bd]],null,null),uo(14,16384,null,0,wm,[],{required:[0,"required"]},null),co(1024,null,hd,function(t){return[t]},[wm]),co(1024,null,yd,function(t){return[t]},[_d]),uo(17,671744,null,0,_m,[[3,ld],[6,hd],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(19,16384,null,0,tm,[[4,Td]],null,null),(t()(),bi(16777216,null,null,1,null,Rm)),uo(21,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(22,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Password"])),(t()(),_i(24,0,null,null,7,"input",[["autocomplete","new-password"],["class","input"],["formControlName","password"],["id","password"],["name","password2"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Yi(t,25)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,25).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,25)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,25)._compositionEnd(n.target.value)&&r),r},null,null)),uo(25,16384,null,0,_d,[pn,dn,[2,bd]],null,null),uo(26,16384,null,0,wm,[],{required:[0,"required"]},null),co(1024,null,hd,function(t){return[t]},[wm]),co(1024,null,yd,function(t){return[t]},[_d]),uo(29,671744,null,0,_m,[[3,ld],[6,hd],[8,null],[6,yd],[2,mm]],{name:[0,"name"]},null),co(2048,null,Td,null,[_m]),uo(31,16384,null,0,tm,[[4,Td]],null,null),(t()(),bi(16777216,null,null,1,null,Pm)),uo(33,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(34,0,null,null,1,"button",[["class","button btn-social btn-google"],["type","submit"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Submit"])),(t()(),bi(16777216,null,null,1,null,Mm)),uo(37,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,Lm)),uo(39,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.userForm),t(e,14,0,""),t(e,17,0,"email"),t(e,21,0,n.formErrors.email),t(e,26,0,""),t(e,29,0,"password"),t(e,33,0,n.formErrors.password),t(e,37,0,!n.passReset&&n.userForm.controls.email.valid),t(e,39,0,n.passReset)},function(t,e){t(e,0,0,Yi(e,4).ngClassUntouched,Yi(e,4).ngClassTouched,Yi(e,4).ngClassPristine,Yi(e,4).ngClassDirty,Yi(e,4).ngClassValid,Yi(e,4).ngClassInvalid,Yi(e,4).ngClassPending),t(e,12,0,Yi(e,14).required?"":null,Yi(e,19).ngClassUntouched,Yi(e,19).ngClassTouched,Yi(e,19).ngClassPristine,Yi(e,19).ngClassDirty,Yi(e,19).ngClassValid,Yi(e,19).ngClassInvalid,Yi(e,19).ngClassPending),t(e,24,0,Yi(e,26).required?"":null,Yi(e,31).ngClassUntouched,Yi(e,31).ngClassTouched,Yi(e,31).ngClassPristine,Yi(e,31).ngClassDirty,Yi(e,31).ngClassValid,Yi(e,31).ngClassInvalid,Yi(e,31).ngClassPending)})}function Vm(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,Nm)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,Fm)),uo(3,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.newUser),t(e,3,0,!n.newUser)},null)}var Um=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},jm=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Bm=function(){function t(t,e){this.auth=t,this.router=e,this.isCollapsed=!0}return t.prototype.signInWithGithub=function(){return Um(this,void 0,void 0,function(){return jm(this,function(t){switch(t.label){case 0:return[4,this.auth.githubLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInWithGoogle=function(){return Um(this,void 0,void 0,function(){return jm(this,function(t){switch(t.label){case 0:return[4,this.auth.googleLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInWithFacebook=function(){return Um(this,void 0,void 0,function(){return jm(this,function(t){switch(t.label){case 0:return[4,this.auth.facebookLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return t.sent(),[2]}})})},t.prototype.signInWithTwitter=function(){return Um(this,void 0,void 0,function(){return jm(this,function(t){switch(t.label){case 0:return[4,this.auth.twitterLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.signInAnonymously=function(){return Um(this,void 0,void 0,function(){return jm(this,function(t){switch(t.label){case 0:return[4,this.auth.anonymousLogin()];case 1:return t.sent(),[4,this.afterSignIn()];case 2:return[2,t.sent()]}})})},t.prototype.afterSignIn=function(){return this.router.navigate(["/"])},t}(),qm=Hr({encapsulation:0,styles:[[""]],data:{}});function Hm(t){return Uo(0,[(t()(),_i(0,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["You can use your existing Google account to register/login"])),(t()(),_i(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["By using your Google account you are considered a private visitor and may not have full access to all features and information on our website. We recommend signing up with your company email below."])),(t()(),_i(5,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),_i(6,0,null,null,2,"button",[["aria-controls","collapseExample"],["class","button btn-social btn-google"]],[[1,"aria-expanded",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=(i.isCollapsed=!i.isCollapsed)&&r),r},null,null)),(t()(),_i(7,0,null,null,0,"i",[["class","fa fa-google fa-lg"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Use Google Account "])),(t()(),_i(9,0,null,null,22,"div",[["id","collapseExample"]],[[2,"collapse",null],[2,"show",null]],null,null,null,null)),uo(10,16384,null,0,ad,[],{collapsed:[0,"collapsed"]},null),(t()(),_i(11,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(t()(),_i(12,0,null,null,19,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),_i(13,0,null,null,18,"div",[["class","notification is-success"]],null,null,null,null,null)),(t()(),_i(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" By registering you will get access to more options and information on the website and TOTECH will borrow and store a copy of your provided contact details. "])),(t()(),_i(16,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" When using your Google account, TOTECH will store the following information ( as it is available from yuor Google profile ) "])),(t()(),_i(18,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" The users name, email, phone number. Purpose is to have contact details of our registered users. "])),(t()(),_i(20,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Lo(-1,null,["OBS! When using your Google account your Google profile photo will also get stored automatically!"])),(t()(),_i(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" In addition to this TOTECH may also add a Userlevel indication ( Admin ). Purpose is to give some users (usually internal users or partners) even more options and information available to them on the TOTECH website. "])),(t()(),_i(24,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" You can at any time ask us to show and/or delete the stored information about you. "])),(t()(),_i(26,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),_i(27,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" By clicking connect you indicate that you have read and agreed to all of the above "])),(t()(),_i(29,0,null,null,2,"button",[["class","button btn-social btn-google"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signInWithGoogle()&&r),r},null,null)),(t()(),_i(30,0,null,null,0,"i",[["class","fa fa-google fa-lg"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Connect Google "])),(t()(),_i(32,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(33,0,null,null,1,"user-form",[],null,null,null,Vm,Dm)),uo(34,114688,null,0,km,[Em,Ql],null,null)],function(t,e){t(e,10,0,e.component.isCollapsed),t(e,34,0)},function(t,e){t(e,6,0,!e.component.isCollapsed),t(e,9,0,!0,!Yi(e,10).collapsed)})}function Wm(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"p",[["class","text-success"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" You are logged in "])),(t()(),_i(2,0,null,null,0,"i",[["class","fa fa-thumbs-up"]],null,null,null,null,null))],null,null)}function zm(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,Hm)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["alreadyLoggedIn",2]],null,0,null,Wm))],function(t,e){var n=e.component;t(e,1,0,!jr(e,1,0,Yi(e,2).transform(n.auth.user)),Yi(e,3))},null)}function Gm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"user-login",[],null,null,null,zm,qm)),uo(1,49152,null,0,Bm,[Ql,Cp],null,null)],null,null)}var Km=Vi("user-login",Bm,Gm,{},{},[]),Qm=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ym=Hr({encapsulation:0,styles:[['.centered-wrapper[_ngcontent-%COMP%]{position:relative;text-align:center}.centered-wrapper[_ngcontent-%COMP%]:before{content:"";position:relative;display:inline-block;width:0;height:100%;vertical-align:middle}.centered-content[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}']],data:{}});function $m(t){return Uo(0,[(t()(),_i(0,0,null,null,19,"div",[["class","centered-wrapper"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,18,"div",[["class","centered-content>"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"a",[["align","center"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(3,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),_i(4,0,null,null,0,"img",[["alt","TOTECH"],["src","assets/totech_logo.jpg"]],null,null,null,null,null)),(t()(),_i(5,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Lo(-1,null,["www.totech.fi"])),(t()(),_i(7,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Email: "])),(t()(),_i(9,0,null,null,1,"a",[["href","mailto:toni.pitkakangas@totech.fi?Subject=Hello%20TOTECH"],["target","_top"]],null,null,null,null,null)),(t()(),Lo(-1,null,["toni.pitkakangas@totech.fi"])),(t()(),_i(11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Phone: +358 407356596"])),(t()(),_i(13,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Email: "])),(t()(),_i(15,0,null,null,1,"a",[["href","mailto:tommy.bystrom@totech.fi?Subject=Hello%20TOTECH"],["target","_top"]],null,null,null,null,null)),(t()(),Lo(-1,null,["tommy.bystrom@totech.fi"])),(t()(),_i(17,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(18,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Register for a user account to get more information."]))],function(t,e){t(e,3,0,"/")},function(t,e){t(e,2,0,Yi(e,3).target,Yi(e,3).href)})}function Xm(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"contact-page",[],null,null,null,$m,Ym)),uo(1,114688,null,0,Qm,[],null,null)],function(t,e){t(e,1,0)},null)}var Jm,Zm=Vi("contact-page",Qm,Xm,{},{},[]),tg=function(){return(tg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},eg=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}({}),ng=[eg.SUNDAY,eg.SATURDAY],rg=7,ig=24,og=60,ag=86400;function sg(t,e){var n=e.startDate,r=e.excluded,i=e.precision,o=void 0===i?"days":i;if(r.length<1)return 0;for(var a=t.getDay,s=t.addDays,u=(0,t.addSeconds)(n,e.seconds-1),l=a(n),c=a(u),h=0,f=n,p=function(){var e=a(f);r.some(function(t){return t===e})&&(h+=function(t,e){var n=e.day,r=e.dayEnd,i=e.startDate,o=e.endDate,a=t.differenceInSeconds,s=t.startOfDay;if("minutes"===e.precision){if(n===e.dayStart)return a((0,t.endOfDay)(i),i)+1;if(n===r)return a(o,s(o))+1}return ag}(t,{dayStart:l,dayEnd:c,day:e,precision:o,startDate:n,endDate:u})),f=s(f,1)};f<u;)p();return h}function ug(t,e){var n=e.periodStart,r=e.periodEnd;return e.events.filter(function(e){return function(t,e){var n=e.event,r=e.periodStart,i=e.periodEnd,o=t.isSameSecond,a=n.start,s=n.end||n.start;return a>r&&a<i||s>r&&s<i||a<r&&s>i||!(!o(a,r)&&!o(a,i))||!(!o(s,r)&&!o(s,i))}(t,{event:e,periodStart:n,periodEnd:r})})}function lg(t,e){var n=e.date,r=e.weekendDays,i=void 0===r?ng:r,o=t.isSameDay,a=t.getDay,s=(0,t.startOfDay)(new Date);return{date:n,isPast:n<s,isToday:o(n,s),isFuture:n>s,isWeekend:i.indexOf(a(n))>-1}}function cg(t,e){for(var n=e.excluded,r=void 0===n?[]:n,i=e.weekendDays,o=e.viewStart,a=void 0===o?t.startOfWeek(e.viewDate,{weekStartsOn:e.weekStartsOn}):o,s=e.viewEnd,u=void 0===s?t.addDays(a,rg):s,l=t.addDays,c=t.getDay,h=[],f=a;f<u;)r.some(function(t){return c(f)===t})||h.push(lg(t,{date:f,weekendDays:i})),f=l(f,1);return h}function hg(t,e,n){return t.filter(function(t){var r=t.top,i=t.top+t.height;return e<i&&i<n||e<r&&r<n||r<=e&&n<=i})}function fg(t,e){var n=e.events,r=void 0===n?[]:n,i=e.viewDate,o=e.hourSegments,a=e.dayStart,s=e.dayEnd,u=e.eventWidth,l=e.segmentHeight;r||(r=[]);var c=t.setMinutes,h=t.setHours,f=t.startOfDay,p=t.startOfMinute,d=t.endOfDay,m=t.differenceInMinutes,g=c(h(f(i),a.hour),a.minute),y=c(h(p(d(i)),s.hour),s.minute),v=[],b=ug(t,{events:r.filter(function(t){return!t.allDay}),periodStart:g,periodEnd:y}),_=b.sort(function(t,e){return t.start.valueOf()-e.start.valueOf()}).map(function(t){var e=t.start,n=t.end||e,r=e<g,i=n>y,a=o*l/og,s=0;e>g&&(s+=m(e,g)),s*=a;var c=m(i?y:n,r?g:e);t.end?c*=a:c=l;for(var h=hg(v,s,s+c),f=0;h.some(function(t){return t.left===f});)f+=u;var p={event:t,height:c,width:u,top:s,left:f,startsBeforeDay:r,endsAfterDay:i};return v.push(p),p}),w=Math.max.apply(Math,_.map(function(t){return t.left+t.width}));return{events:_,width:w,allDayEvents:ug(t,{events:r.filter(function(t){return t.allDay}),periodStart:f(g),periodEnd:d(y)}),period:{events:b,start:g,end:y}}}function pg(t,e){for(var n=e.viewDate,r=e.hourSegments,i=e.dayStart,o=e.dayEnd,a=t.setMinutes,s=t.setHours,u=t.startOfDay,l=t.startOfMinute,c=t.endOfDay,h=t.addMinutes,f=t.addHours,p=[],d=a(s(u(n),i.hour),i.minute),m=a(s(l(c(n)),o.hour),o.minute),g=og/r,y=u(n),v=0;v<ig;v++){for(var b=[],_=0;_<r;_++){var w=h(f(y,v),_*g);w>=d&&w<m&&b.push({date:w,isStart:0===_})}b.length>0&&p.push({segments:b})}return p}!function(t){t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`"}(Jm||(Jm={}));var dg=new(function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect();else{var i=this.offsetParent(t);n=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var i=r?this.offset(t,!1):this.position(t,!1),o=this.getAllStyles(e),a=e.getBoundingClientRect(),s=n.split("-")[0]||"top",u=n.split("-")[1]||"center",l={height:a.height||e.offsetHeight,width:a.width||e.offsetWidth,top:0,bottom:a.height||e.offsetHeight,left:0,right:a.width||e.offsetWidth};switch(s){case"top":l.top=i.top-(e.offsetHeight+parseFloat(o.marginBottom));break;case"bottom":l.top=i.top+i.height;break;case"left":l.left=i.left-(e.offsetWidth+parseFloat(o.marginRight));break;case"right":l.left=i.left+i.width}switch(u){case"top":l.top=i.top;break;case"bottom":l.top=i.top+i.height-e.offsetHeight;break;case"left":l.left=i.left;break;case"right":l.left=i.left+i.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?l.left=i.left+i.width/2-e.offsetWidth/2:l.top=i.top+i.height/2-e.offsetHeight/2}return l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right),l},t.prototype.getAvailablePlacements=function(t,e){var n=[],r=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=document.documentElement,a=window.innerHeight||o.clientHeight,s=window.innerWidth||o.clientWidth,u=r.left+r.width/2,l=r.top+r.height/2;return i.width<r.left&&(l>i.height/2&&a-l>i.height/2&&n.splice(n.length,1,"left"),this.setSecondaryPlacementForLeftRight(r,i,"left",n)),i.height<r.top&&(u>i.width/2&&s-u>i.width/2&&n.splice(n.length,1,"top"),this.setSecondaryPlacementForTopBottom(r,i,"top",n)),s-r.right>i.width&&(l>i.height/2&&a-l>i.height/2&&n.splice(n.length,1,"right"),this.setSecondaryPlacementForLeftRight(r,i,"right",n)),a-r.bottom>i.height&&(u>i.width/2&&s-u>i.width/2&&n.splice(n.length,1,"bottom"),this.setSecondaryPlacementForTopBottom(r,i,"bottom",n)),n},t.prototype.setSecondaryPlacementForLeftRight=function(t,e,n,r){var i=document.documentElement;e.height<=t.bottom&&r.splice(r.length,1,n+"-bottom"),(window.innerHeight||i.clientHeight)-t.top>=e.height&&r.splice(r.length,1,n+"-top")},t.prototype.setSecondaryPlacementForTopBottom=function(t,e,n,r){var i=document.documentElement;(window.innerWidth||i.clientWidth)-t.left>=e.width&&r.splice(r.length,1,n+"-left"),e.width<=t.right&&r.splice(r.length,1,n+"-right")},t}()),mg=function(){return function(){}}(),gg=function(){return function(){}}(),yg="*";function vg(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function bg(t){return{type:6,styles:t,offset:null}}function _g(t){Promise.resolve(null).then(t)}var wg=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;_g(function(){return t._onFinish()})},t.prototype._onStart=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Eg=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var n=0,r=0,i=0,o=this.players.length;0==o?_g(function(){return e._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++n==o&&e._onFinish()}),t.onDestroy(function(){++r==o&&e._onDestroy()}),t.onStart(function(){++i==o&&e._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach(function(t){return t.init()})},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})},t.prototype.pause=function(){this.players.forEach(function(t){return t.pause()})},t.prototype.restart=function(){this.players.forEach(function(t){return t.restart()})},t.prototype.finish=function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})},t.prototype.getPosition=function(){var t=0;return this.players.forEach(function(e){var n=e.getPosition();t=Math.min(n,t)}),t},t.prototype.beforeDestroy=function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),Cg="!",Sg=function(t){return function(t,e){var n=!0;function r(t,r){e(t,r),n=!1}return Array.isArray(t)?(t.forEach(function(t){t.start?t.start instanceof Date||r(Jm.StartPropertyNotDate,t):r(Jm.StartPropertyMissing,t),t.end&&(t.end instanceof Date||r(Jm.EndPropertyNotDate,t),t.start>t.end&&r(Jm.EndsBeforeStart,t))}),n):(e(Jm.NotArray,t),!1)}(t,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return console.warn.apply(console,Object(r.__spread)(["angular-calendar"],t))})};function Tg(t,e){return Math.ceil(t.left)<=Math.ceil(e.left)&&Math.ceil(e.left)<=Math.ceil(t.right)&&Math.ceil(t.left)<=Math.ceil(e.right)&&Math.ceil(e.right)<=Math.ceil(t.right)&&Math.ceil(t.top)<=Math.ceil(e.top)&&Math.ceil(e.top)<=Math.ceil(t.bottom)&&Math.ceil(t.top)<=Math.ceil(e.bottom)&&Math.ceil(e.bottom)<=Math.ceil(t.bottom)}function Ig(t,e){return Math.round(t/e)*e}var kg=function(t,e){return e.id?e.id:e},Dg=function(t,e){return e.date.toISOString()},xg=function(t){return t},Og=function(t,e){return e.date.toISOString()},Ag=function(t,e){return e.segments[0].date.toISOString()},Ng=function(t,e){return e.event.id?e.event.id:e.event},Rg=60;function Pg(t,e,n,r){return Ig(t,r||n)*(Rg/(e*n))}function Mg(t,e){return Rg/(t*e)*30}function Lg(t,e,n){return e.end?e.end:t.addMinutes(e.start,n)}function Fg(t,e,n,r){for(var i=0,o=0,a=n<0?t.subDays:t.addDays,s=e;o<=Math.abs(n);){s=a(e,i);var u=t.getDay(s);-1===r.indexOf(u)&&o++,i++}return s}function Vg(t,e,n){var r=e||t;return n.start<=t&&t<=n.end||n.start<=r&&r<=n.end}function Ug(t,e,n,r){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==r||t.dropData.event.allDay&&!n||!t.dropData.event.allDay&&n)}function jg(t,e,n,r,i){void 0===r&&(r=[]);var o=i?t.startOfDay(e):t.startOfWeek(e,{weekStartsOn:n});if(r.indexOf(t.getDay(o))>-1&&(o=t.subDays(Fg(t,o,1,r),1)),i)return{viewStart:o,viewEnd:a=t.endOfDay(Fg(t,o,i-1,r))};var a=t.endOfWeek(e,{weekStartsOn:n});return r.indexOf(t.getDay(a))>-1&&(a=t.addDays(Fg(t,a,-1,r),1)),{viewStart:o,viewEnd:a}}var Bg=function(){return function(){this.trackByIndex=xg}}(),qg=function(){return function(){}}(),Hg=function(){return function(){}}(),Wg=function(){function t(t,e,n,r,i,o){this.elementRef=t,this.injector=e,this.renderer=n,this.viewContainerRef=i,this.document=o,this.placement="auto",this.tooltipFactory=r.resolveComponentFactory(Hg)}return t.prototype.ngOnDestroy=function(){this.hide()},t.prototype.onMouseOver=function(){this.show()},t.prototype.onMouseOut=function(){this.hide()},t.prototype.show=function(){var t=this;!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(function(){t.positionTooltip()}))},t.prototype.hide=function(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null)},t.prototype.positionTooltip=function(t){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(t,e,n,r){var i=Array.isArray(n)?n:[n],o=i.findIndex(function(t){return"auto"===t});o>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(t){null==i.find(function(e){return-1!==e.search("^"+t)})&&i.splice(o++,1,t)});for(var a,s=0,u=0,l=dg.getAvailablePlacements(t,e),c=function(n,o){if(null!=l.find(function(t){return t===n})||i.length===o+1){a=n;var c=dg.positionElements(t,e,n,r);return s=c.top,u=c.left,"break"}},h=0,f=i.map(function(t,e){return{item:t,index:e}});h<f.length;h++){var p=f[h];if("break"===c(p.item,p.index))break}return e.style.top=s+"px",e.style.left=u+"px",a}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),t!==this.tooltipRef.instance.placement&&this.positionTooltip(this.tooltipRef.instance.placement))},t}(),zg=function(){return function(){}}(),Gg={Month:"month",Week:"week",Day:"day"},Kg=function(){function t(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new je}return t.prototype.onClick=function(){var t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===Gg.Day?Fg(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===Gg.Week&&this.daysInWeek?Fg(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))},t}(),Qg=function(){function t(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new je}return t.prototype.onClick=function(){var t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===Gg.Day?Fg(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===Gg.Week&&this.daysInWeek?Fg(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))},t}(),Yg=function(){function t(t){this.dateAdapter=t,this.viewDateChange=new je}return t.prototype.onClick=function(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))},t}(),$g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e}(function(){function t(t){this.dateAdapter=t}return t.prototype.monthViewColumnHeader=function(t){return lu(t.date,"EEEE",t.locale)},t.prototype.monthViewDayNumber=function(t){return lu(t.date,"d",t.locale)},t.prototype.monthViewTitle=function(t){return lu(t.date,"LLLL y",t.locale)},t.prototype.weekViewColumnHeader=function(t){return lu(t.date,"EEEE",t.locale)},t.prototype.weekViewColumnSubHeader=function(t){return lu(t.date,"MMM d",t.locale)},t.prototype.weekViewTitle=function(t){var e=t.locale,n=jg(this.dateAdapter,t.date,t.weekStartsOn,t.excludeDays,t.daysInWeek),r=n.viewStart,i=n.viewEnd,o=function(t,n){return lu(t,"MMM d"+(n?", yyyy":""),e)};return o(r,r.getUTCFullYear()!==i.getUTCFullYear())+" - "+o(i,!0)},t.prototype.weekViewHour=function(t){return lu(t.date,"h a",t.locale)},t.prototype.dayViewHour=function(t){return lu(t.date,"h a",t.locale)},t.prototype.dayViewTitle=function(t){return lu(t.date,"EEEE, MMMM d, y",t.locale)},t}()),Xg=function(){function t(t,e){this.dateFormatter=t,this.locale=e}return t.prototype.transform=function(t,e,n,r,i,o){return void 0===n&&(n=this.locale),void 0===r&&(r=0),void 0===i&&(i=[]),this.dateFormatter[e]({date:t,locale:n,weekStartsOn:r,excludeDays:i,daysInWeek:o})},t}(),Jg=function(){function t(){}return t.prototype.month=function(t,e){return t.title},t.prototype.monthTooltip=function(t,e){return t.title},t.prototype.week=function(t,e){return t.title},t.prototype.weekTooltip=function(t,e){return t.title},t.prototype.day=function(t,e){return t.title},t.prototype.dayTooltip=function(t,e){return t.title},t}(),Zg=function(){function t(t){this.calendarEventTitle=t}return t.prototype.transform=function(t,e,n){return this.calendarEventTitle[e](n,t)},t}(),ty=new Set,ey=function(){function t(t,e,n){this.renderer=t,this.elm=e,this.document=n,this.click=new je}return t.prototype.ngOnInit=function(){var t=this;ty.add(this.elm.nativeElement);var e="undefined"!=typeof window&&void 0!==window.Hammer?"tap":"click";this.removeListener=this.renderer.listen(this.elm.nativeElement,e,function(e){for(var n=e.target;!ty.has(n)&&n!==t.document.body;)n=n.parentElement;t.elm.nativeElement===n&&t.click.next(e)})},t.prototype.ngOnDestroy=function(){this.removeListener(),ty.delete(this.elm.nativeElement)},t}(),ny=function(){function t(t){this.dateAdapter=t}return t.prototype.getMonthView=function(t){return function(t,e){var n=e.events,r=void 0===n?[]:n,i=e.viewDate,o=e.weekStartsOn,a=e.excluded,s=void 0===a?[]:a,u=e.viewStart,l=void 0===u?t.startOfMonth(i):u,c=e.viewEnd,h=void 0===c?t.endOfMonth(i):c,f=e.weekendDays;r||(r=[]);for(var p,d=t.endOfWeek,m=t.differenceInDays,g=t.startOfDay,y=t.addHours,v=t.endOfDay,b=t.isSameMonth,_=t.getDay,w=t.getMonth,E=(0,t.startOfWeek)(l,{weekStartsOn:o}),C=d(h,{weekStartsOn:o}),S=ug(t,{events:r,periodStart:E,periodEnd:C}),T=[],I=function(e){var n;if(p?(n=g(y(p,ig)),p.getTime()===n.getTime()&&(n=g(y(p,ig+1))),p=n):n=p=E,!s.some(function(t){return _(n)===t})){var r=lg(t,{date:n,weekendDays:f}),o=ug(t,{events:S,periodStart:g(n),periodEnd:v(n)});r.inMonth=b(n,i),r.events=o,r.badgeTotal=o.length,T.push(r)}},k=0;k<m(C,E)+1;k++)I();var D=[],x=rg-s.length;if(x<rg)for(k=0;k<T.length;k+=x){var O=T.slice(k,k+x);O.some(function(t){return w(t.date)===w(i)})&&(D=D.concat(O))}else D=T;var A=Math.floor(D.length/x),N=[];for(k=0;k<A;k++)N.push(k*x);return{rowOffsets:N,totalDaysVisibleInWeek:x,days:D,period:{start:D[0].date,end:v(D[D.length-1].date),events:S}}}(this.dateAdapter,t)},t.prototype.getWeekViewHeader=function(t){return cg(this.dateAdapter,t)},t.prototype.getWeekView=function(t){return function(t,e){var n=e.events,r=void 0===n?[]:n,i=e.viewDate,o=e.weekStartsOn,a=e.excluded,s=void 0===a?[]:a,u=e.precision,l=void 0===u?"days":u,c=e.absolutePositionedEvents,h=void 0!==c&&c,f=e.hourSegments,p=e.dayStart,d=e.dayEnd,m=e.weekendDays,g=e.segmentHeight,y=e.viewStart,v=void 0===y?t.startOfWeek(i,{weekStartsOn:o}):y,b=e.viewEnd,_=void 0===b?t.endOfWeek(i,{weekStartsOn:o}):b;r||(r=[]);var w=t.endOfDay,E=ug(t,{events:r,periodStart:v=(0,t.startOfDay)(v),periodEnd:_=w(_)}),C=cg(t,{viewDate:i,weekStartsOn:o,excluded:s,weekendDays:m,viewStart:v,viewEnd:_});return{allDayEventRows:function(t,e){var n=e.excluded,r=e.precision,i=e.absolutePositionedEvents,o=e.viewStart,a=e.viewEnd,s=e.eventsInPeriod,u=t.differenceInSeconds,l=t.differenceInDays,c=function(t,e){for(var n=e.date2,r=e.excluded,i=e.date1,o=0;i<n;)-1===r.indexOf(t.getDay(i))&&o++,i=t.addDays(i,1);return o}(t,{date1:o,date2:a,excluded:n}),h=l(a,o)+1,f=s.filter(function(t){return t.allDay}).map(function(e){var i=function(t,e){var n=e.event,r=e.startOfWeek,i=e.excluded,o=void 0===i?[]:i,a=e.precision,s=void 0===a?"days":a,u=t.differenceInDays,l=t.startOfDay,c=t.differenceInSeconds;if(n.start<r)return 0;var h=0;switch(s){case"days":h=u(l(n.start),r)*ag;break;case"minutes":h=c(n.start,r)}return h-=sg(t,{startDate:r,seconds:h,excluded:o,precision:s}),Math.abs(h/ag)}(t,{event:e,startOfWeek:o,excluded:n,precision:r});return{event:e,offset:i,span:function(t,e){var n=e.event,r=e.offset,i=e.excluded,o=e.precision,a=void 0===o?"days":o,s=e.totalDaysInView,u=t.differenceInSeconds,l=t.addDays,c=t.endOfDay,h=t.differenceInDays,f=ag,p=(0,t.max)(n.start,e.startOfWeekDate);if(n.end)switch(a){case"minutes":f=u(n.end,p);break;default:f=h(l(c(n.end),1),p)*ag}var d=r*ag,m=s*ag;return d+f>m&&(f=m-d),(f-=sg(t,{startDate:p,seconds:f,excluded:i,precision:a}))/ag}(t,{event:e,offset:i,startOfWeekDate:o,excluded:n,precision:r,totalDaysInView:h})}}).filter(function(t){return t.offset<c}).filter(function(t){return t.span>0}).map(function(t){return{event:t.event,offset:t.offset,span:t.span,startsBeforeWeek:t.event.start<o,endsAfterWeek:(t.event.end||t.event.start)>a}}).sort(function(t,e){var n=u(t.event.start,e.event.start);return 0===n?u(e.event.end||e.event.start,t.event.end||t.event.start):n}),p=[],d=[];return f.forEach(function(t,e){if(-1===d.indexOf(t)){d.push(t);var n=t.span+t.offset,r=f.slice(e+1).filter(function(t){if(t.offset>=n&&n+t.span<=h&&-1===d.indexOf(t)){var e=t.offset-n;return i||(t.offset=e),n+=t.span+e,d.push(t),!0}});p.push({row:[t].concat(r)})}}),p}(t,{events:r,excluded:s,precision:l,absolutePositionedEvents:h,viewStart:v,viewEnd:_,eventsInPeriod:E}),period:{events:E,start:C[0].date,end:w(C[C.length-1].date)},hourColumns:function(t,e){var n=e.events,r=e.viewDate,i=e.hourSegments,o=e.dayStart,a=e.dayEnd,s=e.weekStartsOn,u=e.excluded,l=e.weekendDays,c=e.segmentHeight,h=e.viewStart,f=e.viewEnd,p=pg(t,{viewDate:r,hourSegments:i,dayStart:o,dayEnd:a}),d=cg(t,{viewDate:r,weekStartsOn:s,excluded:u,weekendDays:l,viewStart:h,viewEnd:f}),m=t.setHours,g=t.setMinutes,y=t.getHours,v=t.getMinutes;return d.map(function(e){var r=fg(t,{events:n,viewDate:e.date,hourSegments:i,dayStart:o,dayEnd:a,segmentHeight:c,eventWidth:1});return{hours:p.map(function(t){var n=t.segments.map(function(t){var n=g(m(e.date,y(t.date)),v(t.date));return tg({},t,{date:n})});return tg({},t,{segments:n})}),date:e.date,events:r.events.map(function(t){var e=hg(r.events,t.top,t.top+t.height),n=100/Math.max.apply(Math,e.map(function(t){return t.left+1}));return tg({},t,{left:t.left*n,width:n})})}})}(t,{events:r,viewDate:i,hourSegments:f,dayStart:p,dayEnd:d,weekStartsOn:o,excluded:s,weekendDays:m,segmentHeight:g,viewStart:v,viewEnd:_})}}(this.dateAdapter,t)},t.prototype.getDayView=function(t){return fg(this.dateAdapter,t)},t.prototype.getDayViewHourGrid=function(t){return pg(this.dateAdapter,t)},t}(),ry=function(){function t(){}return t.forRoot=function(e,n){return void 0===n&&(n={}),{ngModule:t,providers:[e,n.eventTitleFormatter||Jg,n.dateFormatter||$g,n.utils||ny]}},t}(),iy=function(){function t(t,e,n,r){this.cdr=t,this.utils=e,this.dateAdapter=r,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.beforeViewRender=new je,this.dayClicked=new je,this.eventClicked=new je,this.eventTimesChanged=new je,this.trackByIndex=xg,this.trackByDate=function(t,e){return e.date.toISOString()},this.locale=n}return t.prototype.ngOnInit=function(){var t=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){t.refreshAll(),t.cdr.markForCheck()}))},t.prototype.ngOnChanges=function(t){(t.viewDate||t.excludeDays||t.weekendDays)&&this.refreshHeader(),t.events&&Sg(this.events),(t.viewDate||t.events||t.excludeDays||t.weekendDays)&&this.refreshBody(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays)&&this.checkActiveDayIsOpen()},t.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},t.prototype.toggleDayHighlight=function(t,e){this.view.days.forEach(function(n){e&&n.events.indexOf(t)>-1?n.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete n.backgroundColor})},t.prototype.eventDropped=function(t,e,n){if(t!==n){var r=this.dateAdapter.getYear(t.date),i=this.dateAdapter.getMonth(t.date),o=this.dateAdapter.getDate(t.date),a=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(e.start,r),i),o),s=void 0;if(e.end){var u=this.dateAdapter.differenceInSeconds(a,e.start);s=this.dateAdapter.addSeconds(e.end,u)}this.eventTimesChanged.emit({event:e,newStart:a,newEnd:s,day:t,type:"drop"})}},t.prototype.refreshHeader=function(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays}),this.emitBeforeViewRender()},t.prototype.refreshBody=function(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays}),this.emitBeforeViewRender()},t.prototype.checkActiveDayIsOpen=function(){var t=this;if(!0===this.activeDayIsOpen){this.openDay=this.view.days.find(function(e){return t.dateAdapter.isSameDay(e.date,t.viewDate)});var e=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(e/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null},t.prototype.refreshAll=function(){this.columnHeaders=null,this.view=null,this.refreshHeader(),this.refreshBody(),this.checkActiveDayIsOpen()},t.prototype.emitBeforeViewRender=function(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})},t}(),oy=function(){return function(){this.trackByWeekDayHeaderDate=Dg}}(),ay=function(){return function(){this.highlightDay=new je,this.unhighlightDay=new je,this.eventClicked=new je,this.trackByEventId=kg}}(),sy=function(){return function(){this.isOpen=!1,this.eventClicked=new je,this.trackByEventId=kg}}(),uy=function(){return function(){}}(),ly=function(){function t(t,e){this.dragContainerElement=t,this.startPosition=e.getBoundingClientRect()}return t.prototype.validateDrag=function(t){var e=t.x,n=t.y,r=t.snapDraggedEvents,i=Math.abs(e)>1||Math.abs(n)>1;if(r){var o=Object.assign({},this.startPosition,{left:this.startPosition.left+e,right:this.startPosition.right+e,top:this.startPosition.top+n,bottom:this.startPosition.bottom+n});return i&&Tg(this.dragContainerElement.getBoundingClientRect(),o)}return i},t}(),cy=function(){function t(t,e){this.resizeContainerElement=t,this.minWidth=e}return t.prototype.validateResize=function(t){var e=t.rectangle;return!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&Tg(this.resizeContainerElement.getBoundingClientRect(),e)},t}(),hy=function(){function t(t,e,n,r){this.cdr=t,this.utils=e,this.dateAdapter=r,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new je,this.eventClicked=new je,this.eventTimesChanged=new je,this.beforeViewRender=new je,this.hourSegmentClicked=new je,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnter=0,this.dragActive=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByIndex=xg,this.trackByWeekDayHeaderDate=Dg,this.trackByHourSegment=Og,this.trackByHour=Ag,this.trackByDayOrWeekEvent=Ng,this.trackByHourColumn=function(t,e){return e.hours[0]?e.hours[0].segments[0].date.toISOString():e},this.locale=n}return t.prototype.ngOnInit=function(){var t=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){t.refreshAll(),t.cdr.markForCheck()}))},t.prototype.ngOnChanges=function(t){(t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek)&&this.refreshHeader(),t.events&&Sg(this.events),(t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek)&&this.refreshBody()},t.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},t.prototype.resizeStarted=function(t,e){this.dayColumnWidth=this.getDayColumnWidth(t);var n=new cy(t,e);this.validateResize=function(t){return n.validateResize({rectangle:t.rectangle})},this.cdr.markForCheck()},t.prototype.timeEventResizeStarted=function(t,e,n){this.timeEventResizes.set(e.event,n),this.resizeStarted(t)},t.prototype.timeEventResizing=function(t,e){var n=this;this.timeEventResizes.set(t.event,e);var i=new Map,o=Object(r.__spread)(this.events);this.timeEventResizes.forEach(function(t,e){var a=n.getTimeEventResizedDates(e,t),s=Object(r.__assign)({},e,a);i.set(s,e);var u=o.indexOf(e);o[u]=s}),this.restoreOriginalEvents(o,i)},t.prototype.timeEventResizeEnded=function(t){this.view=this.getWeekView(this.events);var e=this.timeEventResizes.get(t.event);this.timeEventResizes.delete(t.event);var n=this.getTimeEventResizedDates(t.event,e);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:t.event,type:"resize"})},t.prototype.allDayEventResizeStarted=function(t,e,n){this.allDayEventResizes.set(e,{originalOffset:e.offset,originalSpan:e.span,edge:void 0!==n.edges.left?"left":"right"}),this.resizeStarted(t,this.getDayColumnWidth(t))},t.prototype.allDayEventResizing=function(t,e,n){var r=this.allDayEventResizes.get(t);if(e.edges.left){var i=Math.round(+e.edges.left/n);t.offset=r.originalOffset+i,t.span=r.originalSpan-i}else e.edges.right&&(i=Math.round(+e.edges.right/n),t.span=r.originalSpan+i)},t.prototype.allDayEventResizeEnded=function(t){var e,n=this.allDayEventResizes.get(t),r="left"===n.edge;e=r?t.offset-n.originalOffset:t.span-n.originalSpan,t.offset=n.originalOffset,t.span=n.originalSpan;var i=t.event.start,o=t.event.end||t.event.start;r?i=this.dateAdapter.addDays(i,e):o=this.dateAdapter.addDays(o,e),this.eventTimesChanged.emit({newStart:i,newEnd:o,event:t.event,type:"resize"}),this.allDayEventResizes.delete(t)},t.prototype.getDayColumnWidth=function(t){return Math.floor(t.offsetWidth/this.days.length)},t.prototype.eventDropped=function(t,e,n){Ug(t,0,n,this.calendarId)&&this.eventTimesChanged.emit({type:"drop",event:t.dropData.event,newStart:e,allDay:n})},t.prototype.dragStarted=function(t,e,n){var r=this;this.dayColumnWidth=this.getDayColumnWidth(t);var i=new ly(t,e);this.validateDrag=function(t){return 0===r.allDayEventResizes.size&&0===r.timeEventResizes.size&&i.validateDrag({x:t.x,y:t.y,snapDraggedEvents:r.snapDraggedEvents})},this.dragActive=!0,this.eventDragEnter=0,!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach(function(t){var e=t.events.find(function(t){return t.event===n.event&&t!==n});e&&(e.width=0,e.height=0)}),this.cdr.markForCheck()},t.prototype.dragMove=function(t,e){if(this.snapDraggedEvents){var n=this.getDragMovedEventTimes(t,e,this.dayColumnWidth,!0),i=t.event,o=Object(r.__assign)({},i,n),a=this.events.map(function(t){return t===i?o:t});this.restoreOriginalEvents(a,new Map([[o,i]]))}},t.prototype.dragEnded=function(t,e,n,r){void 0===r&&(r=!1),this.view=this.getWeekView(this.events),this.dragActive=!1;var i=this.getDragMovedEventTimes(t,e,n,r),o=i.start,a=i.end;this.eventDragEnter>0&&Vg(o,a,this.view.period)&&this.eventTimesChanged.emit({newStart:o,newEnd:a,event:t.event,type:"drag",allDay:!r})},t.prototype.refreshHeader=function(){this.days=this.utils.getWeekViewHeader(Object(r.__assign)({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},jg(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek))),this.emitBeforeViewRender()},t.prototype.refreshBody=function(){this.view=this.getWeekView(this.events),this.emitBeforeViewRender()},t.prototype.refreshAll=function(){this.refreshHeader(),this.refreshBody()},t.prototype.emitBeforeViewRender=function(){this.days&&this.view&&this.beforeViewRender.emit(Object(r.__assign)({header:this.days},this.view))},t.prototype.getWeekView=function(t){return this.utils.getWeekView(Object(r.__assign)({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},jg(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))},t.prototype.getDragMovedEventTimes=function(t,e,n,r){var i,o=Ig(e.x,n)/n,a=r?Pg(e.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,s=this.dateAdapter.addMinutes(this.dateAdapter.addDays(t.event.start,o),a);return t.event.end&&(i=this.dateAdapter.addMinutes(this.dateAdapter.addDays(t.event.end,o),a)),{start:s,end:i}},t.prototype.restoreOriginalEvents=function(t,e){this.view=this.getWeekView(t);var n=t.filter(function(t){return e.has(t)});this.view.hourColumns.forEach(function(t){n.forEach(function(n){var r=e.get(n),i=t.events.find(function(t){return t.event===n});i?i.event=r:t.events.push({event:r,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1})})}),e.clear()},t.prototype.getTimeEventResizedDates=function(t,e){var n=Mg(this.hourSegments,this.hourSegmentHeight),i={start:t.start,end:Lg(this.dateAdapter,t,n)},o=Object(r.__rest)(t,["end"]),a={start:this.dateAdapter.addMinutes(i.end,-1*n),end:Lg(this.dateAdapter,o,n)};if(e.edges.left){var s=Math.round(+e.edges.left/this.dayColumnWidth),u=this.dateAdapter.addDays(i.start,s);i.start=u<a.start?u:a.start}else if(e.edges.right){s=Math.round(+e.edges.right/this.dayColumnWidth);var l=this.dateAdapter.addDays(i.end,s);i.end=l>a.end?l:a.end}if(e.edges.top){var c=Pg(e.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize);u=this.dateAdapter.addMinutes(i.start,c),i.start=u<a.start?u:a.start}else e.edges.bottom&&(c=Pg(e.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),l=this.dateAdapter.addMinutes(i.end,c),i.end=l>a.end?l:a.end);return i},t}(),fy=function(){return function(){this.dayHeaderClicked=new je,this.eventDropped=new je,this.trackByWeekDayHeaderDate=Dg}}(),py=function(){return function(){this.eventClicked=new je}}(),dy=function(){return function(){}}(),my=function(){return function(){}}(),gy=function(){function t(t,e,n,r){this.cdr=t,this.utils=e,this.dateAdapter=r,this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.eventWidth=150,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.snapDraggedEvents=!0,this.eventClicked=new je,this.hourSegmentClicked=new je,this.eventTimesChanged=new je,this.beforeViewRender=new je,this.hours=[],this.width=0,this.currentResizes=new Map,this.eventDragEnter=0,this.calendarId=Symbol("angular calendar day view id"),this.trackByEventId=kg,this.trackByHour=Ag,this.trackByHourSegment=Og,this.trackByDayEvent=Ng,this.locale=n}return t.prototype.ngOnInit=function(){var t=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){t.refreshAll(),t.cdr.markForCheck()}))},t.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},t.prototype.ngOnChanges=function(t){(t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments)&&this.refreshHourGrid(),t.events&&Sg(this.events),(t.viewDate||t.events||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.eventWidth)&&this.refreshView()},t.prototype.eventDropped=function(t,e,n){Ug(t,0,n,this.calendarId)&&this.eventTimesChanged.emit({type:"drop",event:t.dropData.event,newStart:e,allDay:n})},t.prototype.resizeStarted=function(t,e,n){this.currentResizes.set(t,{originalTop:t.top,originalHeight:t.height,edge:void 0!==e.edges.top?"top":"bottom"});var r=new cy(n);this.validateResize=function(t){return r.validateResize({rectangle:t.rectangle})},this.cdr.markForCheck()},t.prototype.resizing=function(t,e){var n=this.currentResizes.get(t);e.edges.top?(t.top=n.originalTop+ +e.edges.top,t.height=n.originalHeight-+e.edges.top):e.edges.bottom&&(t.height=n.originalHeight+ +e.edges.bottom)},t.prototype.resizeEnded=function(t){var e,n=this.currentResizes.get(t),r="top"===n.edge;e=r?t.top-n.originalTop:t.height-n.originalHeight,t.top=n.originalTop,t.height=n.originalHeight;var i=Pg(e,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),o=t.event.start,a=Lg(this.dateAdapter,t.event,Mg(this.hourSegments,this.hourSegmentHeight));r?o=this.dateAdapter.addMinutes(o,i):a=this.dateAdapter.addMinutes(a,i),this.eventTimesChanged.emit({newStart:o,newEnd:a,event:t.event,type:"resize"}),this.currentResizes.delete(t)},t.prototype.dragStarted=function(t,e){var n=this,r=new ly(e,t);this.validateDrag=function(t){return 0===n.currentResizes.size&&r.validateDrag({x:t.x,y:t.y,snapDraggedEvents:n.snapDraggedEvents})},this.eventDragEnter=0,this.cdr.markForCheck()},t.prototype.dragEnded=function(t,e){if(this.eventDragEnter>0){var n=Pg(e.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),r=this.dateAdapter.addMinutes(t.event.start,n);e.y<0&&r<this.view.period.start&&(n+=this.dateAdapter.differenceInMinutes(this.view.period.start,r),r=this.view.period.start);var i=void 0;t.event.end&&(i=this.dateAdapter.addMinutes(t.event.end,n)),Vg(r,i,this.view.period)&&this.eventTimesChanged.emit({newStart:r,newEnd:i,event:t.event,type:"drag"})}},t.prototype.refreshHourGrid=function(){this.hours=this.utils.getDayViewHourGrid({viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute}}),this.emitBeforeViewRender()},t.prototype.refreshView=function(){this.view=this.utils.getDayView({events:this.events,viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},eventWidth:this.eventWidth,segmentHeight:this.hourSegmentHeight}),this.emitBeforeViewRender()},t.prototype.refreshAll=function(){this.refreshHourGrid(),this.refreshView()},t.prototype.emitBeforeViewRender=function(){this.hours&&this.view&&this.beforeViewRender.emit({body:{hourGrid:this.hours,allDayEvents:this.view.allDayEvents},period:this.view.period})},t}(),yy=function(){return function(){}}(),vy=function(){return function(){this.eventClicked=new je}}(),by=function(){return function(){}}(),_y=function(){function t(){}return t.forRoot=function(e,n){return void 0===n&&(n={}),{ngModule:t,providers:[e,n.eventTitleFormatter||Jg,n.dateFormatter||$g,n.utils||ny]}},t}();function wy(t,e){return new T(e?function(n){return e.schedule(Ey,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function Ey(t){t.subscriber.error(t.error)}var Cy=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return ks(this.value);case"E":return wy(this.error);case"C":return Ts()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),Sy=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new Ty(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Cy.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Cy.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Cy.createComplete())},e}(b),Ty=function(){return function(t,e){this.notification=t,this.destination=e}}(),Iy=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new ky(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new X;if(this.isStopped||this.hasError?e=g.EMPTY:(this.observers.push(t),e=new J(this,t)),i&&t.add(t=new Sy(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||el).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(tt),ky=function(){return function(t,e){this.time=t,this.value=e}}(),Dy={},xy=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Oy(t,this.resultSelector))},t}(),Oy=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(e,t),e.prototype._next=function(t){this.values.push(Dy),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(V(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===Dy?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(U);function Ay(t){return function(e){return e.lift(new Ny(t))}}var Ny=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Ry(t),r=V(n,this.notifier);return r&&!r.closed?(n.add(r),e.subscribe(n)):n},t}(),Ry=function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(U),Py=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new My(t,this.predicate,this.source))},t}(),My=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.__extends(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(b);function Ly(){return function(t){return t.lift(new Fy)}}var Fy=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Vy(t))},t}(),Vy=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.__extends(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(b);function Uy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&k(t[1])?W(t[0]):oc()(ks.apply(void 0,t))}function jy(t,e){return function(n){return n.lift(new By(t,e))}}var By=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new qy(t,this.compare,this.keySelector))},t}(),qy=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=d(this.keySelector)(t))===f)return this.destination.error(f.e);var n=!1;if(this.hasKey){if((n=d(this.compare)(this.key,e))===f)return this.destination.error(f.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(b),Hy=function(){function t(){this.currentDrag=new tt}return t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Wy=function(){return function(t){this.elementRef=t}}(),zy=function(){function t(t,e,n,r,i,o,a){this.element=t,this.renderer=e,this.draggableHelper=n,this.zone=r,this.vcr=i,this.scrollContainer=o,this.document=a,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.dragPointerDown=new je,this.dragStart=new je,this.ghostElementCreated=new je,this.dragging=new je,this.dragEnd=new je,this.pointerDown$=new tt,this.pointerMove$=new tt,this.pointerUp$=new tt,this.eventListenerSubscriptions={},this.destroy$=new tt}return t.prototype.ngOnInit=function(){var t=this;this.checkEventListeners();var e=this.pointerDown$.pipe(rl(function(){return t.canDrag()}),z(function(e){e.event.stopPropagation&&e.event.stopPropagation();var n=t.renderer.createElement("style");t.renderer.setAttribute(n,"type","text/css"),t.renderer.appendChild(n,t.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),t.document.head.appendChild(n);var i=t.getScrollPosition(),o=new T(function(e){return t.renderer.listen(t.scrollContainer?t.scrollContainer.elementRef.nativeElement:"window","scroll",function(t){return e.next(t)})}).pipe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];k(n)?t.pop():n=null;var r=t.length;return Uy(1!==r||n?r>0?H(t,n):Ts(n):Is(t[0]),e)}}(i),j(function(){return t.getScrollPosition()})),a=new tt,s=new Iy;t.zone.run(function(){t.dragPointerDown.next({x:0,y:0})});var u=$(t.pointerUp$,t.pointerDown$,s,t.destroy$).pipe(ht()),c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return k(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),H(t,r).lift(new xy(n))}(t.pointerMove$,o).pipe(j(function(t){var n=Object(r.__read)(t,2),i=n[0],o=n[1];return{currentDrag$:a,transformX:i.clientX-e.clientX,transformY:i.clientY-e.clientY,clientX:i.clientX,clientY:i.clientY,scrollLeft:o.left,scrollTop:o.top}}),j(function(e){return t.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/t.dragSnapGrid.x)*t.dragSnapGrid.x),t.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/t.dragSnapGrid.y)*t.dragSnapGrid.y),e}),j(function(e){return t.dragAxis.x||(e.transformX=0),t.dragAxis.y||(e.transformY=0),e}),j(function(t){var e=t.scrollLeft-i.left,n=t.scrollTop-i.top;return Object(r.__assign)({},t,{x:t.transformX+e,y:t.transformY+n})}),rl(function(e){return!t.validateDrag||t.validateDrag({x:e.x,y:e.y})}),Ay(u),ht()),h=c.pipe(sl(1),ht()),f=c.pipe(Jl(1),ht());return h.subscribe(function(){if(t.zone.run(function(){t.dragStart.next({cancelDrag$:s})}),t.renderer.addClass(t.element.nativeElement,t.dragActiveClass),t.ghostDragEnabled){var e=t.element.nativeElement.getBoundingClientRect(),n=t.element.nativeElement.cloneNode(!0);if(t.showOriginalElementWhileDragging||t.renderer.setStyle(t.element.nativeElement,"visibility","hidden"),t.ghostElementAppendTo?t.ghostElementAppendTo.appendChild(n):t.element.nativeElement.parentNode.insertBefore(n,t.element.nativeElement.nextSibling),t.ghostElement=n,t.setElementStyles(n,{position:"fixed",top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",cursor:t.dragCursor,margin:"0"}),t.ghostElementTemplate){var r=t.vcr.createEmbeddedView(t.ghostElementTemplate);n.innerHTML="",r.rootNodes.filter(function(t){return t instanceof Node}).forEach(function(t){n.appendChild(t)}),f.subscribe(function(){t.vcr.remove(t.vcr.indexOf(r))})}t.zone.run(function(){t.ghostElementCreated.emit()}),f.subscribe(function(){n.parentElement.removeChild(n),t.ghostElement=null,t.renderer.setStyle(t.element.nativeElement,"visibility","")})}t.draggableHelper.currentDrag.next(a)}),f.pipe(z(function(t){var e=s.pipe(function(t){return t.lift(new Py(void 0,t))},sl(1),j(function(e){return Object(r.__assign)({},t,{dragCancelled:e>0})}));return s.complete(),e})).subscribe(function(e){var n=e.x,r=e.y,i=e.dragCancelled;t.zone.run(function(){t.dragEnd.next({x:n,y:r,dragCancelled:i})}),t.renderer.removeClass(t.element.nativeElement,t.dragActiveClass),a.complete()}),$(u,f).pipe(sl(1)).subscribe(function(){t.document.head.removeChild(n)}),c}),ht());$(e.pipe(sl(1),j(function(t){return[,t]})),e.pipe(Ly())).pipe(rl(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1];return!n||n.x!==i.x||n.y!==i.y}),j(function(t){return Object(r.__read)(t,2)[1]})).subscribe(function(e){var n=e.x,r=e.y,i=e.currentDrag$,o=e.clientX,a=e.clientY,s=e.transformX,u=e.transformY;if(t.zone.run(function(){t.dragging.next({x:n,y:r})}),t.ghostElement){var l="translate("+s+"px, "+u+"px)";t.setElementStyles(t.ghostElement,{transform:l,"-webkit-transform":l,"-ms-transform":l,"-moz-transform":l,"-o-transform":l})}i.next({clientX:o,clientY:a,dropData:t.dropData})})},t.prototype.ngOnChanges=function(t){t.dragAxis&&this.checkEventListeners()},t.prototype.ngOnDestroy=function(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()},t.prototype.checkEventListeners=function(){var t=this,e=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;e&&!n?this.zone.runOutsideAngular(function(){t.eventListenerSubscriptions.mousedown=t.renderer.listen(t.element.nativeElement,"mousedown",function(e){t.onMouseDown(e)}),t.eventListenerSubscriptions.mouseup=t.renderer.listen("document","mouseup",function(e){t.onMouseUp(e)}),t.eventListenerSubscriptions.touchstart=t.renderer.listen(t.element.nativeElement,"touchstart",function(e){t.onTouchStart(e)}),t.eventListenerSubscriptions.touchend=t.renderer.listen("document","touchend",function(e){t.onTouchEnd(e)}),t.eventListenerSubscriptions.touchcancel=t.renderer.listen("document","touchcancel",function(e){t.onTouchEnd(e)}),t.eventListenerSubscriptions.mouseenter=t.renderer.listen(t.element.nativeElement,"mouseenter",function(){t.onMouseEnter()}),t.eventListenerSubscriptions.mouseleave=t.renderer.listen(t.element.nativeElement,"mouseleave",function(){t.onMouseLeave()})}):!e&&n&&this.unsubscribeEventListeners()},t.prototype.onMouseDown=function(t){var e=this;this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",function(t){e.pointerMove$.next({event:t,clientX:t.clientX,clientY:t.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY})},t.prototype.onMouseUp=function(t){this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY})},t.prototype.onTouchStart=function(t){var e=this;this.eventListenerSubscriptions.touchmove||(this.eventListenerSubscriptions.touchmove=this.renderer.listen("document","touchmove",function(t){e.pointerMove$.next({event:t,clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY})})),this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})},t.prototype.onTouchEnd=function(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})},t.prototype.onMouseEnter=function(){this.setCursor(this.dragCursor)},t.prototype.onMouseLeave=function(){this.setCursor("")},t.prototype.canDrag=function(){return this.dragAxis.x||this.dragAxis.y},t.prototype.setCursor=function(t){this.renderer.setStyle(this.element.nativeElement,"cursor",t)},t.prototype.unsubscribeEventListeners=function(){var t=this;Object.keys(this.eventListenerSubscriptions).forEach(function(e){t.eventListenerSubscriptions[e](),delete t.eventListenerSubscriptions[e]})},t.prototype.setElementStyles=function(t,e){var n=this;Object.keys(e).forEach(function(r){n.renderer.setStyle(t,r,e[r])})},t.prototype.getScrollPosition=function(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},t}();function Gy(t,e,n){return t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom}var Ky=function(){function t(t,e,n,r,i){this.element=t,this.draggableHelper=e,this.zone=n,this.renderer=r,this.scrollContainer=i,this.dragEnter=new je,this.dragLeave=new je,this.dragOver=new je,this.drop=new je}return t.prototype.ngOnInit=function(){var t=this;this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(function(e){t.renderer.addClass(t.element.nativeElement,t.dragActiveClass);var n,i,o={updateCache:!0},a=t.renderer.listen(t.scrollContainer?t.scrollContainer.elementRef.nativeElement:"window","scroll",function(){o.updateCache=!0}),s=e.pipe(j(function(e){var r=e.clientX,i=e.clientY;n=e.dropData,o.updateCache&&(o.rect=t.element.nativeElement.getBoundingClientRect(),t.scrollContainer&&(o.scrollContainerRect=t.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),o.updateCache=!1);var a=Gy(r,i,o.rect);return o.scrollContainerRect?a&&Gy(r,i,o.scrollContainerRect):a})),u=s.pipe(jy());u.pipe(rl(function(t){return t})).subscribe(function(){i=!0,t.renderer.addClass(t.element.nativeElement,t.dragOverClass),t.zone.run(function(){t.dragEnter.next({dropData:n})})}),s.pipe(rl(function(t){return t})).subscribe(function(){t.zone.run(function(){t.dragOver.next({dropData:n})})}),u.pipe(Ly(),rl(function(t){var e=Object(r.__read)(t,2);return e[0]&&!e[1]})).subscribe(function(){i=!1,t.renderer.removeClass(t.element.nativeElement,t.dragOverClass),t.zone.run(function(){t.dragLeave.next({dropData:n})})}),e.subscribe({complete:function(){a(),t.renderer.removeClass(t.element.nativeElement,t.dragActiveClass),i&&(t.renderer.removeClass(t.element.nativeElement,t.dragOverClass),t.zone.run(function(){t.drop.next({dropData:n})}))}})})},t.prototype.ngOnDestroy=function(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()},t}(),Qy=function(){return function(){}}(),Yy=new tl(Xu),$y=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Xy(t,this.durationSelector))},t}(),Xy=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.__extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=d(this.durationSelector)(t);if(e===f)this.destination.error(f.e);else{var n=V(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(U);function Jy(t){return!l(t)&&t-parseFloat(t)+1>=0}function Zy(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function tv(t,e,n){return void 0===n&&(n=3),Math.abs(t-e)<n}function ev(t,e,n,r){var i={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return e.top&&(i.top+=r),e.bottom&&(i.bottom+=r),e.left&&(i.left+=n),e.right&&(i.right+=n),i.height=i.bottom-i.top,i.width=i.right-i.left,i}function nv(t){var e=t.clientY,n=t.rect;return e>=n.top&&e<=n.bottom}function rv(t){var e=t.clientX,n=t.rect;return e>=n.left&&e<=n.right}function iv(t){var e=t.clientX,n=t.clientY,r=t.allowedEdges,i=t.cursorPrecision,o=t.elm.nativeElement.getBoundingClientRect(),a={};return r.left&&tv(e,o.left,i)&&nv({clientY:n,rect:o})&&(a.left=!0),r.right&&tv(e,o.right,i)&&nv({clientY:n,rect:o})&&(a.right=!0),r.top&&tv(n,o.top,i)&&rv({clientX:e,rect:o})&&(a.top=!0),r.bottom&&tv(n,o.bottom,i)&&rv({clientX:e,rect:o})&&(a.bottom=!0),a}var ov=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function av(t,e){return t.left&&t.top?e.topLeft:t.right&&t.top?e.topRight:t.left&&t.bottom?e.bottomLeft:t.right&&t.bottom?e.bottomRight:t.left||t.right?e.leftOrRight:t.top||t.bottom?e.topOrBottom:""}function sv(t){var e=t.initialRectangle,n=t.newRectangle,r={};return Object.keys(t.edges).forEach(function(t){r[t]=(n[t]||0)-(e[t]||0)}),r}var uv=function(){function t(t,e,n){this.renderer=t,this.elm=e,this.zone=n,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=ov,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.resizeStart=new je,this.resizing=new je,this.resizeEnd=new je,this.mouseup=new tt,this.mousedown=new tt,this.mousemove=new tt,this.destroy$=new tt,this.pointerEventListeners=lv.getInstance(t,n)}return t.prototype.ngOnInit=function(){var t,e=this;this.pointerEventListeners.pointerDown.pipe(Ay(this.destroy$)).subscribe(function(t){e.mousedown.next({clientX:t.clientX,clientY:t.clientY})}),this.pointerEventListeners.pointerMove.pipe(Ay(this.destroy$)).subscribe(function(t){e.mousemove.next({clientX:t.clientX,clientY:t.clientY,event:t.event})}),this.pointerEventListeners.pointerUp.pipe(Ay(this.destroy$)).subscribe(function(t){e.mouseup.next({clientX:t.clientX,clientY:t.clientY})});var n,i,o=function(){t&&t.clonedNode&&(e.elm.nativeElement.parentElement.removeChild(t.clonedNode),e.renderer.setStyle(e.elm.nativeElement,"visibility","inherit"))},a=this.mousemove.pipe(ht());a.pipe(rl(function(){return!!t})).subscribe(function(t){t.event.preventDefault()}),a.pipe((50,void 0===n&&(n=Yy),i=function(){return function(t,e,n){void 0===t&&(t=0);var r=-1;return Jy(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=Yy),new T(function(e){var i=Jy(t)?t:+t-n.now();return n.schedule(Zy,i,{index:0,period:r,subscriber:e})})}(50,n)},function(t){return t.lift(new $y(i))})).subscribe(function(n){var r=iv({clientX:n.clientX,clientY:n.clientY,elm:e.elm,allowedEdges:e.resizeEdges,cursorPrecision:e.resizeCursorPrecision}),i=Object.assign({},ov,e.resizeCursors);if(t){var o=av(t.edges,i);e.renderer.setStyle(document.body,"cursor",o)}else o=av(r,i),e.renderer.setStyle(e.elm.nativeElement,"cursor",o);e.setElementClass(e.elm,"resize-active",!!t),e.setElementClass(e.elm,"resize-left-hover",!0===r.left),e.setElementClass(e.elm,"resize-right-hover",!0===r.right),e.setElementClass(e.elm,"resize-top-hover",!0===r.top),e.setElementClass(e.elm,"resize-bottom-hover",!0===r.bottom)}),this.mousedown.pipe(z(function(n){function i(t){return{clientX:t.clientX-n.clientX,clientY:t.clientY-n.clientY}}var o=function(){var n={x:1,y:1};return t&&(e.resizeSnapGrid.left&&t.edges.left?n.x=+e.resizeSnapGrid.left:e.resizeSnapGrid.right&&t.edges.right&&(n.x=+e.resizeSnapGrid.right),e.resizeSnapGrid.top&&t.edges.top?n.y=+e.resizeSnapGrid.top:e.resizeSnapGrid.bottom&&t.edges.bottom&&(n.y=+e.resizeSnapGrid.bottom)),n};function s(t,e){return{x:Math.ceil(t.clientX/e.x),y:Math.ceil(t.clientY/e.y)}}return $(a.pipe(sl(1)).pipe(j(function(t){return[,t]})),a.pipe(Ly())).pipe(j(function(t){var e=Object(r.__read)(t,2),n=e[0],o=e[1];return[n?i(n):n,i(o)]})).pipe(rl(function(t){var e=Object(r.__read)(t,2),n=e[0],i=e[1];if(!n)return!0;var a=o(),u=s(n,a),l=s(i,a);return u.x!==l.x||u.y!==l.y})).pipe(j(function(t){var e=Object(r.__read)(t,2)[1],n=o();return{clientX:Math.round(e.clientX/n.x)*n.x,clientY:Math.round(e.clientY/n.y)*n.y}})).pipe(Ay($(e.mouseup,e.mousedown)))})).pipe(rl(function(){return!!t})).pipe(j(function(e){return ev(t.startingRect,t.edges,e.clientX,e.clientY)})).pipe(rl(function(t){return e.allowNegativeResizes||!!(t.height&&t.width&&t.height>0&&t.width>0)})).pipe(rl(function(n){return!e.validateResize||e.validateResize({rectangle:n,edges:sv({edges:t.edges,initialRectangle:t.startingRect,newRectangle:n})})})).subscribe(function(n){t&&t.clonedNode&&(e.renderer.setStyle(t.clonedNode,"height",n.height+"px"),e.renderer.setStyle(t.clonedNode,"width",n.width+"px"),e.renderer.setStyle(t.clonedNode,"top",n.top+"px"),e.renderer.setStyle(t.clonedNode,"left",n.left+"px")),e.zone.run(function(){e.resizing.emit({edges:sv({edges:t.edges,initialRectangle:t.startingRect,newRectangle:n}),rectangle:n})}),t.currentRect=n}),this.mousedown.pipe(j(function(t){return t.edges||iv({clientX:t.clientX,clientY:t.clientY,elm:e.elm,allowedEdges:e.resizeEdges,cursorPrecision:e.resizeCursorPrecision})})).pipe(rl(function(t){return Object.keys(t).length>0})).subscribe(function(n){t&&o();var r=function(t,e){var n=0,r=0,i=t.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(function(t){return i[t]}).find(function(t){return!!t});if(o&&o.includes("translate")&&(n=o.replace(/.*translate\((.*)px, (.*)px\).*/,"$1"),r=o.replace(/.*translate\((.*)px, (.*)px\).*/,"$2")),"absolute"===e)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-r,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-r,left:t.nativeElement.offsetLeft-n,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-n};var a=t.nativeElement.getBoundingClientRect();return{height:a.height,width:a.width,top:a.top-r,bottom:a.bottom-r,left:a.left-n,right:a.right-n,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}(e.elm,e.ghostElementPositioning);if(t={edges:n,startingRect:r,currentRect:r},e.enableGhostResize){t.clonedNode=e.elm.nativeElement.cloneNode(!0);var i=Object.assign({},ov,e.resizeCursors);e.elm.nativeElement.parentElement.appendChild(t.clonedNode),e.renderer.setStyle(e.elm.nativeElement,"visibility","hidden"),e.renderer.setStyle(t.clonedNode,"position",e.ghostElementPositioning),e.renderer.setStyle(t.clonedNode,"left",t.startingRect.left+"px"),e.renderer.setStyle(t.clonedNode,"top",t.startingRect.top+"px"),e.renderer.setStyle(t.clonedNode,"height",t.startingRect.height+"px"),e.renderer.setStyle(t.clonedNode,"width",t.startingRect.width+"px"),e.renderer.setStyle(t.clonedNode,"cursor",av(t.edges,i)),e.renderer.addClass(t.clonedNode,"resize-ghost-element"),t.clonedNode.scrollTop=t.startingRect.scrollTop,t.clonedNode.scrollLeft=t.startingRect.scrollLeft}e.zone.run(function(){e.resizeStart.emit({edges:sv({edges:n,initialRectangle:r,newRectangle:r}),rectangle:ev(r,{},0,0)})})}),this.mouseup.subscribe(function(){t&&(e.renderer.removeClass(e.elm.nativeElement,"resize-active"),e.renderer.setStyle(document.body,"cursor",""),e.renderer.setStyle(e.elm.nativeElement,"cursor",""),e.zone.run(function(){e.resizeEnd.emit({edges:sv({edges:t.edges,initialRectangle:t.startingRect,newRectangle:t.currentRect}),rectangle:t.currentRect})}),o(),t=null)})},t.prototype.ngOnDestroy=function(){this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()},t.prototype.setElementClass=function(t,e,n){n?this.renderer.addClass(t.nativeElement,e):this.renderer.removeClass(t.nativeElement,e)},t}(),lv=function(){function t(t,e){this.pointerDown=new T(function(n){var r,i;return e.runOutsideAngular(function(){r=t.listen("document","mousedown",function(t){n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchstart",function(t){n.next({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,event:t})})}),function(){r(),i()}}).pipe(ht()),this.pointerMove=new T(function(n){var r,i;return e.runOutsideAngular(function(){r=t.listen("document","mousemove",function(t){n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchmove",function(t){n.next({clientX:t.targetTouches[0].clientX,clientY:t.targetTouches[0].clientY,event:t})})}),function(){r(),i()}}).pipe(ht()),this.pointerUp=new T(function(n){var r,i,o;return e.runOutsideAngular(function(){r=t.listen("document","mouseup",function(t){n.next({clientX:t.clientX,clientY:t.clientY,event:t})}),i=t.listen("document","touchend",function(t){n.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})}),o=t.listen("document","touchcancel",function(t){n.next({clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,event:t})})}),function(){r(),i(),o()}}).pipe(ht())}return t.getInstance=function(e,n){return t.instance||(t.instance=new t(e,n)),t.instance},t}(),cv=function(){function t(t,e,n,r){this.renderer=t,this.element=e,this.zone=n,this.resizable=r,this.resizeEdges={},this.eventListeners={}}return t.prototype.ngOnDestroy=function(){this.unsubscribeEventListeners()},t.prototype.onMousedown=function(t,e,n){var r=this;t.preventDefault(),this.zone.runOutsideAngular(function(){r.eventListeners.touchmove||(r.eventListeners.touchmove=r.renderer.listen(r.element.nativeElement,"touchmove",function(t){r.onMousemove(t,t.targetTouches[0].clientX,t.targetTouches[0].clientY)})),r.eventListeners.mousemove||(r.eventListeners.mousemove=r.renderer.listen(r.element.nativeElement,"mousemove",function(t){r.onMousemove(t,t.clientX,t.clientY)})),r.resizable.mousedown.next({clientX:e,clientY:n,edges:r.resizeEdges})})},t.prototype.onMouseup=function(t,e){var n=this;this.zone.runOutsideAngular(function(){n.unsubscribeEventListeners(),n.resizable.mouseup.next({clientX:t,clientY:e,edges:n.resizeEdges})})},t.prototype.onMousemove=function(t,e,n){this.resizable.mousemove.next({clientX:e,clientY:n,edges:this.resizeEdges,event:t})},t.prototype.unsubscribeEventListeners=function(){var t=this;Object.keys(this.eventListeners).forEach(function(e){t.eventListeners[e](),delete t.eventListeners[e]})},t}(),hv=function(){return function(){}}(),fv=Hr({encapsulation:2,styles:[],data:{animation:[{type:7,name:"collapse",definitions:[{type:1,expr:"void => *",animation:[{type:6,styles:{height:0,overflow:"hidden"},offset:null},{type:4,styles:{type:6,styles:{height:"*"},offset:null},timings:"150ms"}],options:null},{type:1,expr:"* => void",animation:[{type:6,styles:{height:"*",overflow:"hidden"},offset:null},{type:4,styles:{type:6,styles:{height:0},offset:null},timings:"150ms"}],options:null}],options:{}}]}});function pv(t){return Uo(0,[(t()(),_i(0,16777216,null,null,12,"div",[["dragActiveClass","cal-drag-active"],["mwlDraggable",""]],[[2,"cal-draggable",null]],null,null,null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{ngClass:[0,"ngClass"]},null),uo(2,737280,null,0,zy,[dn,pn,Hy,Be,En,[2,Wy],Gu],{dropData:[0,"dropData"],dragAxis:[1,"dragAxis"],dragActiveClass:[2,"dragActiveClass"]},null),Po(3,{event:0}),Po(4,{x:0,y:1}),(t()(),_i(5,0,null,null,0,"span",[["class","cal-event"]],[[4,"backgroundColor",null]],null,null,null,null)),(t()(),Lo(-1,null,[" "])),(t()(),_i(7,0,null,null,2,"mwl-calendar-event-title",[["view","month"]],null,[[null,"mwlClick"]],function(t,e,n){var r=!0;return"mwlClick"===e&&(r=!1!==t.parent.parent.context.eventClicked.emit({event:t.context.$implicit})&&r),r},nb,Zv)),uo(8,49152,null,0,qg,[],{event:[0,"event"],customTemplate:[1,"customTemplate"],view:[2,"view"]},null),uo(9,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),(t()(),Lo(-1,null,[" "])),(t()(),_i(11,0,null,null,1,"mwl-calendar-event-actions",[],null,null,null,Jv,Kv)),uo(12,49152,null,0,Bg,[],{event:[0,"event"],customTemplate:[1,"customTemplate"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,null==e.context.$implicit?null:e.context.$implicit.cssClass);var r=t(e,3,0,e.context.$implicit),i=t(e,4,0,e.context.$implicit.draggable,e.context.$implicit.draggable);t(e,2,0,r,i,"cal-drag-active"),t(e,8,0,e.context.$implicit,n.eventTitleTemplate,"month"),t(e,9,0),t(e,12,0,e.context.$implicit,n.eventActionsTemplate)},function(t,e){t(e,0,0,e.context.$implicit.draggable),t(e,5,0,null==e.context.$implicit.color?null:e.context.$implicit.color.primary)})}function dv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-open-day-events"]],[[24,"@collapse",0]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,pv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.parent.context.events,e.component.trackByEventId)},function(t,e){t(e,0,0,void 0)})}function mv(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,dv)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,e.context.isOpen)},null)}function gv(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function yv(t){return Uo(0,[(t()(),bi(0,[["defaultTemplate",2]],null,0,null,mv)),(t()(),bi(16777216,null,null,2,null,gv)),uo(2,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(3,{events:0,eventClicked:1,isOpen:2})],function(t,e){var n=e.component,r=t(e,3,0,n.events,n.eventClicked,n.isOpen);t(e,2,0,r,n.customTemplate||Yi(e,0))},null)}var vv=Hr({encapsulation:2,styles:[],data:{}});function bv(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"mwl-calendar-month-cell",[["class","cal-cell cal-day-cell"],["dragOverClass","cal-drag-over"],["mwlDroppable",""]],[[2,"cal-past",null],[2,"cal-today",null],[2,"cal-future",null],[2,"cal-weekend",null],[2,"cal-in-month",null],[2,"cal-out-month",null],[2,"cal-has-events",null],[2,"cal-open",null],[2,"cal-event-highlight",null],[4,"backgroundColor",null]],[[null,"mwlClick"],[null,"highlightDay"],[null,"unhighlightDay"],[null,"drop"],[null,"eventClicked"]],function(t,e,n){var r=!0,i=t.component;return"mwlClick"===e&&(r=!1!==i.dayClicked.emit({day:t.context.$implicit})&&r),"highlightDay"===e&&(r=!1!==i.toggleDayHighlight(n.event,!0)&&r),"unhighlightDay"===e&&(r=!1!==i.toggleDayHighlight(n.event,!1)&&r),"drop"===e&&(r=!1!==i.eventDropped(t.context.$implicit,n.dropData.event,n.dropData.draggedFrom)&&r),"eventClicked"===e&&(r=!1!==i.eventClicked.emit({event:n.event})&&r),r},mb,lb)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{ngClass:[0,"ngClass"]},null),uo(2,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"]},{drop:"drop"}),uo(3,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),uo(4,49152,null,0,ay,[],{day:[0,"day"],openDay:[1,"openDay"],locale:[2,"locale"],tooltipPlacement:[3,"tooltipPlacement"],tooltipAppendToBody:[4,"tooltipAppendToBody"],customTemplate:[5,"customTemplate"],tooltipTemplate:[6,"tooltipTemplate"]},{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"})],function(t,e){var n=e.component;t(e,1,0,null==e.context.$implicit?null:e.context.$implicit.cssClass),t(e,2,0,"cal-drag-over"),t(e,3,0),t(e,4,0,e.context.$implicit,n.openDay,n.locale,n.tooltipPlacement,n.tooltipAppendToBody,n.cellTemplate,n.tooltipTemplate)},function(t,e){t(e,0,0,Yi(e,4).day.isPast,Yi(e,4).day.isToday,Yi(e,4).day.isFuture,Yi(e,4).day.isWeekend,Yi(e,4).day.inMonth,!Yi(e,4).day.inMonth,Yi(e,4).day.events.length>0,Yi(e,4).day===Yi(e,4).openDay,!!Yi(e,4).day.backgroundColor,Yi(e,4).day.backgroundColor)})}function _v(t){return Uo(0,[(t()(),_i(0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,3,"div",[["class","cal-cell-row"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,bv)),uo(3,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),lo(0,Wu,[]),(t()(),_i(5,0,null,null,2,"mwl-calendar-open-day-events",[["dragOverClass","cal-drag-over"],["mwlDroppable",""]],null,[[null,"eventClicked"],[null,"drop"]],function(t,e,n){var r=!0,i=t.component;return"eventClicked"===e&&(r=!1!==i.eventClicked.emit({event:n.event})&&r),"drop"===e&&(r=!1!==i.eventDropped(i.openDay,n.dropData.event,n.dropData.draggedFrom)&&r),r},yv,fv)),uo(6,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"]},{drop:"drop"}),uo(7,49152,null,0,sy,[],{isOpen:[0,"isOpen"],events:[1,"events"],customTemplate:[2,"customTemplate"],eventTitleTemplate:[3,"eventTitleTemplate"],eventActionsTemplate:[4,"eventActionsTemplate"]},{eventClicked:"eventClicked"})],function(t,e){var n=e.component;t(e,3,0,jr(e,3,0,Yi(e,4).transform(n.view.days,e.context.$implicit,e.context.$implicit+n.view.totalDaysVisibleInWeek)),n.trackByDate),t(e,6,0,"cal-drag-over"),t(e,7,0,n.openRowIndex===e.context.$implicit,null==n.openDay?null:n.openDay.events,n.openDayEventsTemplate,n.eventTitleTemplate,n.eventActionsTemplate)},null)}function wv(t){return Uo(0,[(t()(),_i(0,0,null,null,5,"div",[["class","cal-month-view"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"mwl-calendar-month-view-header",[],null,null,null,_b,gb)),uo(2,49152,null,0,oy,[],{days:[0,"days"],locale:[1,"locale"],customTemplate:[2,"customTemplate"]},null),(t()(),_i(3,0,null,null,2,"div",[["class","cal-days"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,_v)),uo(5,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.columnHeaders,n.locale,n.headerTemplate),t(e,5,0,n.view.rowOffsets)},null)}var Ev=Hr({encapsulation:2,styles:[],data:{}});function Cv(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","cal-day-column"],["dragOverClass","cal-drag-over"],["mwlDroppable",""]],null,[[null,"drop"]],function(t,e,n){var r=!0;return"drop"===e&&(r=!1!==t.component.eventDropped(n,t.context.$implicit.date,!0)&&r),r},null,null)),uo(1,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"]},{drop:"drop"})],function(t,e){t(e,1,0,"cal-drag-over")},null)}function Sv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-resize-handle cal-resize-handle-before-start"],["mwlResizeHandle",""]],null,[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"touchcancel"],[null,"mouseup"]],function(t,e,n){var r=!0;return"touchstart"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)&&r),"mousedown"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.clientX,n.clientY)&&r),"touchend"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"touchcancel"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"mouseup"===e&&(r=!1!==Yi(t,1).onMouseup(n.clientX,n.clientY)&&r),r},null,null)),uo(1,147456,null,0,cv,[pn,dn,Be,uv],{resizeEdges:[0,"resizeEdges"]},null),Po(2,{left:0})],function(t,e){var n=t(e,2,0,!0);t(e,1,0,n)},null)}function Tv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-resize-handle cal-resize-handle-after-end"],["mwlResizeHandle",""]],null,[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"touchcancel"],[null,"mouseup"]],function(t,e,n){var r=!0;return"touchstart"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)&&r),"mousedown"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.clientX,n.clientY)&&r),"touchend"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"touchcancel"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"mouseup"===e&&(r=!1!==Yi(t,1).onMouseup(n.clientX,n.clientY)&&r),r},null,null)),uo(1,147456,null,0,cv,[pn,dn,Be,uv],{resizeEdges:[0,"resizeEdges"]},null),Po(2,{right:0})],function(t,e){var n=t(e,2,0,!0);t(e,1,0,n)},null)}function Iv(t){return Uo(0,[(t()(),_i(0,16777216,[["event",1]],null,13,"div",[["class","cal-event-container"],["dragActiveClass","cal-drag-active"],["mwlDraggable",""],["mwlResizable",""]],[[2,"cal-draggable",null],[2,"cal-starts-within-week",null],[2,"cal-ends-within-week",null],[4,"width","%"],[4,"marginLeft","%"]],[[null,"resizeStart"],[null,"resizing"],[null,"resizeEnd"],[null,"dragPointerDown"],[null,"dragEnd"]],function(t,e,n){var r=!0,i=t.component;return"resizeStart"===e&&(r=!1!==i.allDayEventResizeStarted(Yi(t.parent,0),t.context.$implicit,n)&&r),"resizing"===e&&(r=!1!==i.allDayEventResizing(t.context.$implicit,n,i.dayColumnWidth)&&r),"resizeEnd"===e&&(r=!1!==i.allDayEventResizeEnded(t.context.$implicit)&&r),"dragPointerDown"===e&&(r=!1!==i.dragStarted(Yi(t.parent,0),Yi(t,0))&&r),"dragEnd"===e&&(r=!1!==i.dragEnded(t.context.$implicit,n,i.dayColumnWidth)&&r),r},null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),uo(2,212992,null,0,uv,[pn,dn,Be],{validateResize:[0,"validateResize"],resizeSnapGrid:[1,"resizeSnapGrid"]},{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"}),Po(3,{left:0,right:1}),uo(4,737280,null,0,zy,[dn,pn,Hy,Be,En,[2,Wy],Gu],{dropData:[0,"dropData"],dragAxis:[1,"dragAxis"],dragSnapGrid:[2,"dragSnapGrid"],validateDrag:[3,"validateDrag"],dragActiveClass:[4,"dragActiveClass"]},{dragPointerDown:"dragPointerDown",dragEnd:"dragEnd"}),Po(5,{event:0,calendarId:1}),Po(6,{x:0,y:1}),Po(7,{x:0}),(t()(),bi(16777216,null,null,1,null,Sv)),uo(9,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(10,0,null,null,1,"mwl-calendar-week-view-event",[],null,[[null,"eventClicked"]],function(t,e,n){var r=!0;return"eventClicked"===e&&(r=!1!==t.component.eventClicked.emit({event:t.context.$implicit.event})&&r),r},xb,Ib)),uo(11,49152,null,0,py,[],{weekEvent:[0,"weekEvent"],tooltipPlacement:[1,"tooltipPlacement"],tooltipAppendToBody:[2,"tooltipAppendToBody"],customTemplate:[3,"customTemplate"],eventTitleTemplate:[4,"eventTitleTemplate"],eventActionsTemplate:[5,"eventActionsTemplate"],tooltipTemplate:[6,"tooltipTemplate"]},{eventClicked:"eventClicked"}),(t()(),bi(16777216,null,null,1,null,Tv)),uo(13,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,"cal-event-container",null==e.context.$implicit.event?null:e.context.$implicit.event.cssClass);var r=n.validateResize,i=t(e,3,0,n.dayColumnWidth,n.dayColumnWidth);t(e,2,0,r,i);var o=t(e,5,0,e.context.$implicit.event,n.calendarId),a=t(e,6,0,e.context.$implicit.event.draggable&&0===n.allDayEventResizes.size,!n.snapDraggedEvents&&e.context.$implicit.event.draggable&&0===n.allDayEventResizes.size),s=n.snapDraggedEvents?t(e,7,0,n.dayColumnWidth):vi;t(e,4,0,o,a,s,n.validateDrag,"cal-drag-active"),t(e,9,0,(null==e.context.$implicit.event?null:null==e.context.$implicit.event.resizable?null:e.context.$implicit.event.resizable.beforeStart)&&!e.context.$implicit.startsBeforeWeek),t(e,11,0,e.context.$implicit,n.tooltipPlacement,n.tooltipAppendToBody,n.eventTemplate,n.eventTitleTemplate,n.eventActionsTemplate,n.tooltipTemplate),t(e,13,0,(null==e.context.$implicit.event?null:null==e.context.$implicit.event.resizable?null:e.context.$implicit.event.resizable.afterEnd)&&!e.context.$implicit.endsAfterWeek)},function(t,e){var n=e.component;t(e,0,0,e.context.$implicit.event.draggable&&0===n.allDayEventResizes.size,!e.context.$implicit.startsBeforeWeek,!e.context.$implicit.endsAfterWeek,100/n.days.length*e.context.$implicit.span,100/n.days.length*e.context.$implicit.offset)})}function kv(t){return Uo(0,[(t()(),_i(0,0,[["eventRowContainer",1]],null,2,"div",[["class","cal-events-row"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Iv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.context.$implicit.row,e.component.trackByDayOrWeekEvent)},null)}function Dv(t){return Uo(0,[(t()(),_i(0,0,[["allDayEventsContainer",1]],null,8,"div",[["class","cal-all-day-events"],["mwlDroppable",""]],null,[[null,"dragEnter"],[null,"dragLeave"]],function(t,e,n){var r=!0,i=t.component;return"dragEnter"===e&&(r=!1!==(i.eventDragEnter=i.eventDragEnter+1)&&r),"dragLeave"===e&&(r=!1!==(i.eventDragEnter=i.eventDragEnter-1)&&r),r},null,null)),uo(1,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],null,{dragEnter:"dragEnter",dragLeave:"dragLeave"}),(t()(),_i(2,0,null,null,4,"div",[["class","cal-day-columns"]],null,null,null,null,null)),(t()(),_i(3,16777216,null,null,1,"div",[["class","cal-time-label-column"]],null,null,null,null,null)),uo(4,540672,null,0,Lu,[En],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),bi(16777216,null,null,1,null,Cv)),uo(6,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),bi(16777216,null,null,1,null,kv)),uo(8,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,1,0),t(e,4,0,n.allDayEventsLabelTemplate),t(e,6,0,n.days,n.trackByWeekDayHeaderDate),t(e,8,0,n.view.allDayEventRows,n.trackByIndex)},null)}function xv(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"mwl-calendar-week-view-hour-segment",[],[[4,"height","px"]],null,null,Pb,Ob)),uo(1,49152,null,0,dy,[],{segment:[0,"segment"],segmentHeight:[1,"segmentHeight"],locale:[2,"locale"],isTimeLabel:[3,"isTimeLabel"],customTemplate:[4,"customTemplate"]},null)],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit,n.hourSegmentHeight,n.locale,!0,n.hourSegmentTemplate)},function(t,e){t(e,0,0,e.component.hourSegmentHeight)})}function Ov(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-hour"]],[[2,"cal-hour-odd",null]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,xv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.context.$implicit.segments,e.component.trackByHourSegment)},function(t,e){t(e,0,0,e.context.odd)})}function Av(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-time-label-column"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Ov)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,2,0,n.view.hourColumns[0].hours,n.trackByHour)},null)}function Nv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-resize-handle cal-resize-handle-before-start"],["mwlResizeHandle",""]],null,[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"touchcancel"],[null,"mouseup"]],function(t,e,n){var r=!0;return"touchstart"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)&&r),"mousedown"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.clientX,n.clientY)&&r),"touchend"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"touchcancel"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"mouseup"===e&&(r=!1!==Yi(t,1).onMouseup(n.clientX,n.clientY)&&r),r},null,null)),uo(1,147456,null,0,cv,[pn,dn,Be,uv],{resizeEdges:[0,"resizeEdges"]},null),Po(2,{left:0,top:1})],function(t,e){var n=t(e,2,0,!0,!0);t(e,1,0,n)},null)}function Rv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-resize-handle cal-resize-handle-after-end"],["mwlResizeHandle",""]],null,[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"touchcancel"],[null,"mouseup"]],function(t,e,n){var r=!0;return"touchstart"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)&&r),"mousedown"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.clientX,n.clientY)&&r),"touchend"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"touchcancel"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"mouseup"===e&&(r=!1!==Yi(t,1).onMouseup(n.clientX,n.clientY)&&r),r},null,null)),uo(1,147456,null,0,cv,[pn,dn,Be,uv],{resizeEdges:[0,"resizeEdges"]},null),Po(2,{right:0,bottom:1})],function(t,e){var n=t(e,2,0,!0,!0);t(e,1,0,n)},null)}function Pv(t){return Uo(0,[(t()(),_i(0,16777216,[["event",1]],null,13,"div",[["class","cal-event-container"],["dragActiveClass","cal-drag-active"],["mwlDraggable",""],["mwlResizable",""]],[[2,"cal-draggable",null],[2,"cal-starts-within-day",null],[2,"cal-ends-within-day",null],[8,"hidden",0],[4,"top","px"],[4,"height","px"],[4,"left","%"],[4,"width","%"]],[[null,"resizeStart"],[null,"resizing"],[null,"resizeEnd"],[null,"dragPointerDown"],[null,"dragging"],[null,"dragEnd"]],function(t,e,n){var r=!0,i=t.component;return"resizeStart"===e&&(r=!1!==i.timeEventResizeStarted(Yi(t.parent.parent,9),t.context.$implicit,n)&&r),"resizing"===e&&(r=!1!==i.timeEventResizing(t.context.$implicit,n)&&r),"resizeEnd"===e&&(r=!1!==i.timeEventResizeEnded(t.context.$implicit)&&r),"dragPointerDown"===e&&(r=!1!==i.dragStarted(Yi(t.parent.parent,9),Yi(t,0),t.context.$implicit)&&r),"dragging"===e&&(r=!1!==i.dragMove(t.context.$implicit,n)&&r),"dragEnd"===e&&(r=!1!==i.dragEnded(t.context.$implicit,n,i.dayColumnWidth,!0)&&r),r},null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),uo(2,212992,null,0,uv,[pn,dn,Be],{validateResize:[0,"validateResize"],resizeSnapGrid:[1,"resizeSnapGrid"],allowNegativeResizes:[2,"allowNegativeResizes"]},{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"}),Po(3,{left:0,right:1,top:2,bottom:3}),uo(4,737280,null,0,zy,[dn,pn,Hy,Be,En,[2,Wy],Gu],{dropData:[0,"dropData"],dragAxis:[1,"dragAxis"],dragSnapGrid:[2,"dragSnapGrid"],ghostDragEnabled:[3,"ghostDragEnabled"],validateDrag:[4,"validateDrag"],dragActiveClass:[5,"dragActiveClass"]},{dragPointerDown:"dragPointerDown",dragging:"dragging",dragEnd:"dragEnd"}),Po(5,{event:0,calendarId:1}),Po(6,{x:0,y:1}),Po(7,{x:0,y:1}),(t()(),bi(16777216,null,null,1,null,Nv)),uo(9,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(10,0,null,null,1,"mwl-calendar-week-view-event",[],null,[[null,"eventClicked"]],function(t,e,n){var r=!0;return"eventClicked"===e&&(r=!1!==t.component.eventClicked.emit({event:t.context.$implicit.event})&&r),r},xb,Ib)),uo(11,49152,null,0,py,[],{weekEvent:[0,"weekEvent"],tooltipPlacement:[1,"tooltipPlacement"],tooltipAppendToBody:[2,"tooltipAppendToBody"],tooltipDisabled:[3,"tooltipDisabled"],customTemplate:[4,"customTemplate"],eventTitleTemplate:[5,"eventTitleTemplate"],eventActionsTemplate:[6,"eventActionsTemplate"],tooltipTemplate:[7,"tooltipTemplate"]},{eventClicked:"eventClicked"}),(t()(),bi(16777216,null,null,1,null,Rv)),uo(13,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,"cal-event-container",e.context.$implicit.event.cssClass);var r=n.validateResize,i=t(e,3,0,n.dayColumnWidth,n.dayColumnWidth,n.eventSnapSize||n.hourSegmentHeight,n.eventSnapSize||n.hourSegmentHeight);t(e,2,0,r,i,!0);var o=t(e,5,0,e.context.$implicit.event,n.calendarId),a=t(e,6,0,e.context.$implicit.event.draggable&&0===n.timeEventResizes.size,e.context.$implicit.event.draggable&&0===n.timeEventResizes.size),s=n.snapDraggedEvents?t(e,7,0,n.dayColumnWidth,n.eventSnapSize||n.hourSegmentHeight):vi;t(e,4,0,o,a,s,!n.snapDraggedEvents,n.validateDrag,"cal-drag-active"),t(e,9,0,(null==e.context.$implicit.event?null:null==e.context.$implicit.event.resizable?null:e.context.$implicit.event.resizable.beforeStart)&&!e.context.$implicit.startsBeforeDay),t(e,11,0,e.context.$implicit,n.tooltipPlacement,n.tooltipAppendToBody,n.dragActive||n.timeEventResizes.size>0,n.eventTemplate,n.eventTitleTemplate,n.eventActionsTemplate,n.tooltipTemplate),t(e,13,0,(null==e.context.$implicit.event?null:null==e.context.$implicit.event.resizable?null:e.context.$implicit.event.resizable.afterEnd)&&!e.context.$implicit.endsAfterDay)},function(t,e){t(e,0,0,e.context.$implicit.event.draggable&&0===e.component.timeEventResizes.size,!e.context.$implicit.startsBeforeDay,!e.context.$implicit.endsAfterDay,0===e.context.$implicit.height&&0===e.context.$implicit.width,e.context.$implicit.top,e.context.$implicit.height,e.context.$implicit.left,e.context.$implicit.width)})}function Mv(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"mwl-calendar-week-view-hour-segment",[["dragActiveClass","cal-drag-active"],["mwlDroppable",""]],[[4,"height","px"]],[[null,"mwlClick"],[null,"drop"]],function(t,e,n){var r=!0,i=t.component;return"mwlClick"===e&&(r=!1!==i.hourSegmentClicked.emit({date:t.context.$implicit.date})&&r),"drop"===e&&(r=!1!==i.eventDropped(n,t.context.$implicit.date,!1)&&r),r},Pb,Ob)),uo(1,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"],dragActiveClass:[1,"dragActiveClass"]},{drop:"drop"}),uo(2,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),uo(3,49152,null,0,dy,[],{segment:[0,"segment"],segmentHeight:[1,"segmentHeight"],locale:[2,"locale"],customTemplate:[3,"customTemplate"]},null)],function(t,e){var n=e.component;t(e,1,0,n.dragActive&&n.snapDraggedEvents?null:"cal-drag-over","cal-drag-active"),t(e,2,0),t(e,3,0,e.context.$implicit,n.hourSegmentHeight,n.locale,n.hourSegmentTemplate)},function(t,e){t(e,0,0,e.component.hourSegmentHeight)})}function Lv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-hour"]],[[2,"cal-hour-odd",null]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Mv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.context.$implicit.segments,e.component.trackByHourSegment)},function(t,e){t(e,0,0,e.context.odd)})}function Fv(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[["class","cal-day-column"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Pv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),bi(16777216,null,null,1,null,Lv)),uo(4,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,2,0,e.context.$implicit.events,n.trackByDayOrWeekEvent),t(e,4,0,e.context.$implicit.hours,n.trackByHour)},null)}function Vv(t){return Uo(0,[(t()(),_i(0,0,null,null,11,"div",[["class","cal-week-view"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"mwl-calendar-week-view-header",[],null,[[null,"dayHeaderClicked"],[null,"eventDropped"]],function(t,e,n){var r=!0,i=t.component;return"dayHeaderClicked"===e&&(r=!1!==i.dayHeaderClicked.emit(n)&&r),"eventDropped"===e&&(r=!1!==i.eventDropped({dropData:n},n.newStart,!0)&&r),r},Tb,wb)),uo(2,49152,null,0,fy,[],{days:[0,"days"],locale:[1,"locale"],customTemplate:[2,"customTemplate"]},{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped"}),(t()(),bi(16777216,null,null,1,null,Dv)),uo(4,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(5,0,null,null,6,"div",[["class","cal-time-events"],["mwlDroppable",""]],null,[[null,"dragEnter"],[null,"dragLeave"]],function(t,e,n){var r=!0,i=t.component;return"dragEnter"===e&&(r=!1!==(i.eventDragEnter=i.eventDragEnter+1)&&r),"dragLeave"===e&&(r=!1!==(i.eventDragEnter=i.eventDragEnter-1)&&r),r},null,null)),uo(6,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],null,{dragEnter:"dragEnter",dragLeave:"dragLeave"}),(t()(),bi(16777216,null,null,1,null,Av)),uo(8,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(9,0,[["dayColumns",1]],null,2,"div",[["class","cal-day-columns"]],[[2,"cal-resize-active",null]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Fv)),uo(11,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,2,0,n.days,n.locale,n.headerTemplate),t(e,4,0,n.view.allDayEventRows.length>0),t(e,6,0),t(e,8,0,n.view.hourColumns.length>0),t(e,11,0,n.view.hourColumns,n.trackByHourColumn)},function(t,e){t(e,9,0,e.component.timeEventResizes.size>0)})}var Uv=Hr({encapsulation:2,styles:[],data:{}});function jv(t){return Uo(0,[(t()(),_i(0,16777216,null,null,6,"mwl-calendar-day-view-event",[["dragActiveClass","cal-drag-active"],["mwlDraggable",""]],[[2,"cal-draggable",null]],[[null,"eventClicked"]],function(t,e,n){var r=!0;return"eventClicked"===e&&(r=!1!==t.component.eventClicked.emit({event:t.context.$implicit})&&r),r},qb,Ub)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{ngClass:[0,"ngClass"]},null),uo(2,737280,null,0,zy,[dn,pn,Hy,Be,En,[2,Wy],Gu],{dropData:[0,"dropData"],dragAxis:[1,"dragAxis"],dragActiveClass:[2,"dragActiveClass"]},null),Po(3,{event:0,calendarId:1}),Po(4,{x:0,y:1}),uo(5,49152,null,0,vy,[],{dayEvent:[0,"dayEvent"],tooltipPlacement:[1,"tooltipPlacement"],tooltipAppendToBody:[2,"tooltipAppendToBody"],customTemplate:[3,"customTemplate"],eventTitleTemplate:[4,"eventTitleTemplate"],eventActionsTemplate:[5,"eventActionsTemplate"],tooltipTemplate:[6,"tooltipTemplate"]},{eventClicked:"eventClicked"}),Po(6,{event:0}),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,e.context.$implicit.cssClass);var r=t(e,3,0,e.context.$implicit,n.calendarId),i=t(e,4,0,!n.snapDraggedEvents&&e.context.$implicit.draggable,!n.snapDraggedEvents&&e.context.$implicit.draggable);t(e,2,0,r,i,"cal-drag-active");var o=t(e,6,0,e.context.$implicit);t(e,5,0,o,n.tooltipPlacement,n.tooltipAppendToBody,n.eventTemplate,n.eventTitleTemplate,n.eventActionsTemplate,n.tooltipTemplate)},function(t,e){t(e,0,0,!e.component.snapDraggedEvents&&e.context.$implicit.draggable)})}function Bv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-resize-handle cal-resize-handle-before-start"],["mwlResizeHandle",""]],null,[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"touchcancel"],[null,"mouseup"]],function(t,e,n){var r=!0;return"touchstart"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)&&r),"mousedown"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.clientX,n.clientY)&&r),"touchend"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"touchcancel"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"mouseup"===e&&(r=!1!==Yi(t,1).onMouseup(n.clientX,n.clientY)&&r),r},null,null)),uo(1,147456,null,0,cv,[pn,dn,Be,uv],{resizeEdges:[0,"resizeEdges"]},null),Po(2,{top:0})],function(t,e){var n=t(e,2,0,!0);t(e,1,0,n)},null)}function qv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-resize-handle cal-resize-handle-after-end"],["mwlResizeHandle",""]],null,[[null,"touchstart"],[null,"mousedown"],[null,"touchend"],[null,"touchcancel"],[null,"mouseup"]],function(t,e,n){var r=!0;return"touchstart"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.touches[0].clientX,n.touches[0].clientY)&&r),"mousedown"===e&&(r=!1!==Yi(t,1).onMousedown(n,n.clientX,n.clientY)&&r),"touchend"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"touchcancel"===e&&(r=!1!==Yi(t,1).onMouseup(n.changedTouches[0].clientX,n.changedTouches[0].clientY)&&r),"mouseup"===e&&(r=!1!==Yi(t,1).onMouseup(n.clientX,n.clientY)&&r),r},null,null)),uo(1,147456,null,0,cv,[pn,dn,Be,uv],{resizeEdges:[0,"resizeEdges"]},null),Po(2,{bottom:0})],function(t,e){var n=t(e,2,0,!0);t(e,1,0,n)},null)}function Hv(t){return Uo(0,[(t()(),_i(0,16777216,[["event",1]],null,13,"div",[["class","cal-event-container"],["dragActiveClass","cal-drag-active"],["mwlDraggable",""],["mwlResizable",""]],[[2,"cal-draggable",null],[2,"cal-starts-within-day",null],[2,"cal-ends-within-day",null],[4,"marginTop","px"],[4,"height","px"],[4,"marginLeft","px"],[4,"width","px"]],[[null,"resizeStart"],[null,"resizing"],[null,"resizeEnd"],[null,"dragPointerDown"],[null,"dragEnd"]],function(t,e,n){var r=!0,i=t.component;return"resizeStart"===e&&(r=!1!==i.resizeStarted(t.context.$implicit,n,Yi(t.parent,5))&&r),"resizing"===e&&(r=!1!==i.resizing(t.context.$implicit,n)&&r),"resizeEnd"===e&&(r=!1!==i.resizeEnded(t.context.$implicit)&&r),"dragPointerDown"===e&&(r=!1!==i.dragStarted(Yi(t,0),Yi(t.parent,5))&&r),"dragEnd"===e&&(r=!1!==i.dragEnded(t.context.$implicit,n)&&r),r},null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),uo(2,212992,null,0,uv,[pn,dn,Be],{validateResize:[0,"validateResize"],resizeSnapGrid:[1,"resizeSnapGrid"]},{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"}),Po(3,{top:0,bottom:1}),uo(4,737280,null,0,zy,[dn,pn,Hy,Be,En,[2,Wy],Gu],{dropData:[0,"dropData"],dragAxis:[1,"dragAxis"],dragSnapGrid:[2,"dragSnapGrid"],validateDrag:[3,"validateDrag"],dragActiveClass:[4,"dragActiveClass"]},{dragPointerDown:"dragPointerDown",dragEnd:"dragEnd"}),Po(5,{event:0,calendarId:1}),Po(6,{x:0,y:1}),Po(7,{y:0}),(t()(),bi(16777216,null,null,1,null,Bv)),uo(9,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(10,0,null,null,1,"mwl-calendar-day-view-event",[],null,[[null,"eventClicked"]],function(t,e,n){var r=!0;return"eventClicked"===e&&(r=!1!==t.component.eventClicked.emit({event:t.context.$implicit.event})&&r),r},qb,Ub)),uo(11,49152,null,0,vy,[],{dayEvent:[0,"dayEvent"],tooltipPlacement:[1,"tooltipPlacement"],tooltipAppendToBody:[2,"tooltipAppendToBody"],customTemplate:[3,"customTemplate"],eventTitleTemplate:[4,"eventTitleTemplate"],eventActionsTemplate:[5,"eventActionsTemplate"],tooltipTemplate:[6,"tooltipTemplate"]},{eventClicked:"eventClicked"}),(t()(),bi(16777216,null,null,1,null,qv)),uo(13,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,"cal-event-container",e.context.$implicit.event.cssClass);var r=n.validateResize,i=t(e,3,0,n.eventSnapSize||n.hourSegmentHeight,n.eventSnapSize||n.hourSegmentHeight);t(e,2,0,r,i);var o=t(e,5,0,e.context.$implicit.event,n.calendarId),a=t(e,6,0,!n.snapDraggedEvents&&e.context.$implicit.event.draggable&&0===n.currentResizes.size,e.context.$implicit.event.draggable&&0===n.currentResizes.size),s=n.snapDraggedEvents?t(e,7,0,n.eventSnapSize||n.hourSegmentHeight):vi;t(e,4,0,o,a,s,n.validateDrag,"cal-drag-active"),t(e,9,0,(null==e.context.$implicit.event?null:null==e.context.$implicit.event.resizable?null:e.context.$implicit.event.resizable.beforeStart)&&!e.context.$implicit.startsBeforeDay),t(e,11,0,e.context.$implicit,n.tooltipPlacement,n.tooltipAppendToBody,n.eventTemplate,n.eventTitleTemplate,n.eventActionsTemplate,n.tooltipTemplate),t(e,13,0,(null==e.context.$implicit.event?null:null==e.context.$implicit.event.resizable?null:e.context.$implicit.event.resizable.afterEnd)&&!e.context.$implicit.endsAfterDay)},function(t,e){t(e,0,0,e.context.$implicit.event.draggable,!e.context.$implicit.startsBeforeDay,!e.context.$implicit.endsAfterDay,e.context.$implicit.top,e.context.$implicit.height,e.context.$implicit.left+70,e.context.$implicit.width-1)})}function Wv(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"mwl-calendar-day-view-hour-segment",[["dragActiveClass","cal-drag-active"],["dragOverClass","cal-drag-over"],["mwlDroppable",""]],[[4,"height","px"]],[[null,"mwlClick"],[null,"drop"]],function(t,e,n){var r=!0,i=t.component;return"mwlClick"===e&&(r=!1!==i.hourSegmentClicked.emit({date:t.context.$implicit.date})&&r),"drop"===e&&(r=!1!==i.eventDropped(n,t.context.$implicit.date,!1)&&r),r},Vb,Mb)),uo(1,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"],dragActiveClass:[1,"dragActiveClass"]},{drop:"drop"}),uo(2,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),uo(3,49152,null,0,yy,[],{segment:[0,"segment"],segmentHeight:[1,"segmentHeight"],locale:[2,"locale"],customTemplate:[3,"customTemplate"]},null)],function(t,e){var n=e.component;t(e,1,0,"cal-drag-over","cal-drag-active"),t(e,2,0),t(e,3,0,e.context.$implicit,n.hourSegmentHeight,n.locale,n.hourSegmentTemplate)},function(t,e){t(e,0,0,e.component.hourSegmentHeight)})}function zv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-hour"]],[[4,"minWidth","px"]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Wv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.context.$implicit.segments,e.component.trackByHourSegment)},function(t,e){var n=e.component;t(e,0,0,(null==n.view?null:n.view.width)+70)})}function Gv(t){return Uo(0,[(t()(),_i(0,0,null,null,11,"div",[["class","cal-day-view"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,3,"div",[["class","cal-all-day-events"],["dragActiveClass","cal-drag-active"],["dragOverClass","cal-drag-over"],["mwlDroppable",""]],null,[[null,"drop"]],function(t,e,n){var r=!0,i=t.component;return"drop"===e&&(r=!1!==i.eventDropped(n,i.view.period.start,!0)&&r),r},null,null)),uo(2,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"],dragActiveClass:[1,"dragActiveClass"]},{drop:"drop"}),(t()(),bi(16777216,null,null,1,null,jv)),uo(4,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),_i(5,0,[["dayEventsContainer",1]],null,6,"div",[["class","cal-hour-rows"],["mwlDroppable",""]],null,[[null,"dragEnter"],[null,"dragLeave"]],function(t,e,n){var r=!0,i=t.component;return"dragEnter"===e&&(r=!1!==(i.eventDragEnter=i.eventDragEnter+1)&&r),"dragLeave"===e&&(r=!1!==(i.eventDragEnter=i.eventDragEnter-1)&&r),r},null,null)),uo(6,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],null,{dragEnter:"dragEnter",dragLeave:"dragLeave"}),(t()(),_i(7,0,null,null,2,"div",[["class","cal-events"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Hv)),uo(9,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),bi(16777216,null,null,1,null,zv)),uo(11,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){var n=e.component;t(e,2,0,"cal-drag-over","cal-drag-active"),t(e,4,0,n.view.allDayEvents,n.trackByEventId),t(e,6,0),t(e,9,0,null==n.view?null:n.view.events,n.trackByDayEvent),t(e,11,0,n.hours,n.trackByHour)},null)}var Kv=Hr({encapsulation:2,styles:[],data:{}});function Qv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"a",[["class","cal-event-action"],["href","javascript:;"]],[[8,"innerHTML",1]],[[null,"mwlClick"]],function(t,e,n){var r=!0;return"mwlClick"===e&&(r=!1!==t.context.$implicit.onClick({event:t.parent.parent.context.event})&&r),r},null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),uo(2,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"})],function(t,e){t(e,1,0,"cal-event-action",e.context.$implicit.cssClass),t(e,2,0)},function(t,e){t(e,0,0,e.context.$implicit.label)})}function Yv(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"span",[["class","cal-event-actions"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Qv)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.parent.context.event.actions,e.component.trackByIndex)},null)}function $v(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,Yv)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,e.context.event.actions)},null)}function Xv(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function Jv(t){return Uo(0,[(t()(),bi(0,[["defaultTemplate",2]],null,0,null,$v)),(t()(),bi(16777216,null,null,2,null,Xv)),uo(2,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(3,{event:0})],function(t,e){var n=e.component,r=t(e,3,0,n.event);t(e,2,0,r,n.customTemplate||Yi(e,0))},null)}var Zv=Hr({encapsulation:2,styles:[],data:{}});function tb(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"span",[["class","cal-event-title"]],[[8,"innerHTML",1]],null,null,null,null)),Ro(1,3)],null,function(t,e){var n=jr(e,0,0,t(e,1,0,Yi(e.parent,0),e.context.event.title,e.context.view,e.context.event));t(e,0,0,n)})}function eb(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function nb(t){return Uo(0,[lo(0,Zg,[Jg]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,tb)),(t()(),bi(16777216,null,null,2,null,eb)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{event:0,view:1})],function(t,e){var n=e.component,r=t(e,4,0,n.event,n.view);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var rb=Hr({encapsulation:2,styles:[],data:{}});function ib(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","cal-tooltip"]],null,null,null,null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),_i(2,0,null,null,0,"div",[["class","cal-tooltip-arrow"]],null,null,null,null,null)),(t()(),_i(3,0,null,null,0,"div",[["class","cal-tooltip-inner"]],[[8,"innerHTML",1]],null,null,null,null))],function(t,e){t(e,1,0,"cal-tooltip","cal-tooltip-"+e.context.placement)},function(t,e){t(e,3,0,e.context.contents)})}function ob(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function ab(t){return Uo(0,[(t()(),bi(0,[["defaultTemplate",2]],null,0,null,ib)),(t()(),bi(16777216,null,null,2,null,ob)),uo(2,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(3,{contents:0,placement:1,event:2})],function(t,e){var n=e.component,r=t(e,3,0,n.contents,n.placement,n.event);t(e,2,0,r,n.customTemplate||Yi(e,0))},null)}function sb(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"mwl-calendar-tooltip-window",[],null,null,null,ab,rb)),uo(1,49152,null,0,Hg,[],null,null)],null,null)}var ub=Vi("mwl-calendar-tooltip-window",Hg,sb,{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},{},[]),lb=Hr({encapsulation:2,styles:[],data:{}});function cb(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"span",[["class","cal-day-badge"]],null,null,null,null,null)),(t()(),Lo(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.day.badgeTotal)})}function hb(t){return Uo(0,[(t()(),_i(0,16777216,null,null,7,"div",[["class","cal-event"],["dragActiveClass","cal-drag-active"],["mwlDraggable",""]],[[4,"backgroundColor",null],[2,"cal-draggable",null]],[[null,"mouseenter"],[null,"mouseleave"],[null,"mwlClick"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==Yi(t,5).onMouseOver()&&r),"mouseleave"===e&&(r=!1!==Yi(t,5).onMouseOut()&&r),"mouseenter"===e&&(r=!1!==t.parent.parent.context.highlightDay.emit({event:t.context.$implicit})&&r),"mouseleave"===e&&(r=!1!==t.parent.parent.context.unhighlightDay.emit({event:t.context.$implicit})&&r),"mwlClick"===e&&(r=!1!==t.parent.parent.context.eventClicked.emit({event:t.context.$implicit})&&r),r},null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),uo(2,737280,null,0,zy,[dn,pn,Hy,Be,En,[2,Wy],Gu],{dropData:[0,"dropData"],dragAxis:[1,"dragAxis"],dragActiveClass:[2,"dragActiveClass"]},null),Po(3,{event:0,draggedFrom:1}),Po(4,{x:0,y:1}),uo(5,147456,null,0,Wg,[dn,Ft,pn,Oe,En,Gu],{contents:[0,"contents"],placement:[1,"placement"],customTemplate:[2,"customTemplate"],event:[3,"event"],appendToBody:[4,"appendToBody"]},null),Ro(6,3),uo(7,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,"cal-event",null==e.context.$implicit?null:e.context.$implicit.cssClass);var n=t(e,3,0,e.context.$implicit,e.parent.parent.context.day),r=t(e,4,0,e.context.$implicit.draggable,e.context.$implicit.draggable);t(e,2,0,n,r,"cal-drag-active");var i=jr(e,5,0,t(e,6,0,Yi(e.parent.parent.parent,1),e.context.$implicit.title,"monthTooltip",e.context.$implicit));t(e,5,0,i,e.parent.parent.context.tooltipPlacement,e.parent.parent.context.tooltipTemplate,e.context.$implicit,e.parent.parent.context.tooltipAppendToBody),t(e,7,0)},function(t,e){t(e,0,0,null==e.context.$implicit.color?null:e.context.$implicit.color.primary,e.context.$implicit.draggable)})}function fb(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-events"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,hb)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.parent.context.day.events,e.component.trackByEventId)},null)}function pb(t){return Uo(0,[(t()(),_i(0,0,null,null,5,"div",[["class","cal-cell-top"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,cb)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(3,0,null,null,2,"span",[["class","cal-day-number"]],null,null,null,null,null)),(t()(),Lo(4,null,["",""])),Ro(5,3),(t()(),bi(16777216,null,null,1,null,fb)),uo(7,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,2,0,e.context.day.badgeTotal>0),t(e,7,0,e.context.day.events.length>0)},function(t,e){var n=jr(e,4,0,t(e,5,0,Yi(e.parent,0),e.context.day.date,"monthViewDayNumber",e.context.locale));t(e,4,0,n)})}function db(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function mb(t){return Uo(0,[lo(0,Xg,[$g,Xn]),lo(0,Zg,[Jg]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,pb)),(t()(),bi(16777216,null,null,2,null,db)),uo(4,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(5,{day:0,openDay:1,locale:2,tooltipPlacement:3,highlightDay:4,unhighlightDay:5,eventClicked:6,tooltipTemplate:7,tooltipAppendToBody:8})],function(t,e){var n=e.component,r=t(e,5,0,n.day,n.openDay,n.locale,n.tooltipPlacement,n.highlightDay,n.unhighlightDay,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody);t(e,4,0,r,n.customTemplate||Yi(e,2))},null)}var gb=Hr({encapsulation:2,styles:[],data:{}});function yb(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","cal-cell"]],[[2,"cal-past",null],[2,"cal-today",null],[2,"cal-future",null],[2,"cal-weekend",null]],null,null,null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Lo(2,null,[" "," "])),Ro(3,3)],function(t,e){t(e,1,0,"cal-cell",e.context.$implicit.cssClass)},function(t,e){t(e,0,0,e.context.$implicit.isPast,e.context.$implicit.isToday,e.context.$implicit.isFuture,e.context.$implicit.isWeekend);var n=jr(e,2,0,t(e,3,0,Yi(e.parent.parent,0),e.context.$implicit.date,"monthViewColumnHeader",e.parent.context.locale));t(e,2,0,n)})}function vb(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-cell-row cal-header"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,yb)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.context.days,e.component.trackByWeekDayHeaderDate)},null)}function bb(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function _b(t){return Uo(0,[lo(0,Xg,[$g,Xn]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,vb)),(t()(),bi(16777216,null,null,2,null,bb)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{days:0,locale:1})],function(t,e){var n=e.component,r=t(e,4,0,n.days,n.locale);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var wb=Hr({encapsulation:2,styles:[],data:{}});function Eb(t){return Uo(0,[(t()(),_i(0,0,null,null,10,"div",[["class","cal-header"],["dragOverClass","cal-drag-over"],["mwlDroppable",""]],[[2,"cal-past",null],[2,"cal-today",null],[2,"cal-future",null],[2,"cal-weekend",null]],[[null,"mwlClick"],[null,"drop"]],function(t,e,n){var r=!0;return"mwlClick"===e&&(r=!1!==t.parent.context.dayHeaderClicked.emit({day:t.context.$implicit})&&r),"drop"===e&&(r=!1!==t.parent.context.eventDropped.emit({event:n.dropData.event,newStart:t.context.$implicit.date})&&r),r},null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),uo(2,212992,null,0,Ky,[dn,Hy,Be,pn,[2,Wy]],{dragOverClass:[0,"dragOverClass"]},{drop:"drop"}),uo(3,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),(t()(),_i(4,0,null,null,2,"b",[],null,null,null,null,null)),(t()(),Lo(5,null,["",""])),Ro(6,3),(t()(),_i(7,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_i(8,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Lo(9,null,["",""])),Ro(10,3)],function(t,e){t(e,1,0,"cal-header",e.context.$implicit.cssClass),t(e,2,0,"cal-drag-over"),t(e,3,0)},function(t,e){t(e,0,0,e.context.$implicit.isPast,e.context.$implicit.isToday,e.context.$implicit.isFuture,e.context.$implicit.isWeekend);var n=jr(e,5,0,t(e,6,0,Yi(e.parent.parent,0),e.context.$implicit.date,"weekViewColumnHeader",e.parent.context.locale));t(e,5,0,n);var r=jr(e,9,0,t(e,10,0,Yi(e.parent.parent,0),e.context.$implicit.date,"weekViewColumnSubHeader",e.parent.context.locale));t(e,9,0,r)})}function Cb(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-day-headers"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Eb)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(t,e){t(e,2,0,e.context.days,e.component.trackByWeekDayHeaderDate)},null)}function Sb(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function Tb(t){return Uo(0,[lo(0,Xg,[$g,Xn]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,Cb)),(t()(),bi(16777216,null,null,2,null,Sb)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{days:0,locale:1,dayHeaderClicked:2,eventDropped:3})],function(t,e){var n=e.component,r=t(e,4,0,n.days,n.locale,n.dayHeaderClicked,n.eventDropped);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var Ib=Hr({encapsulation:2,styles:[],data:{}});function kb(t){return Uo(0,[(t()(),_i(0,16777216,null,null,8,"div",[["class","cal-event"]],[[4,"backgroundColor",null],[4,"borderColor",null]],[[null,"mwlClick"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==Yi(t,1).onMouseOver()&&r),"mouseleave"===e&&(r=!1!==Yi(t,1).onMouseOut()&&r),"mwlClick"===e&&(r=!1!==t.context.eventClicked.emit()&&r),r},null,null)),uo(1,147456,null,0,Wg,[dn,Ft,pn,Oe,En,Gu],{contents:[0,"contents"],placement:[1,"placement"],customTemplate:[2,"customTemplate"],event:[3,"event"],appendToBody:[4,"appendToBody"]},null),Ro(2,3),uo(3,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),(t()(),_i(4,0,null,null,1,"mwl-calendar-event-actions",[],null,null,null,Jv,Kv)),uo(5,49152,null,0,Bg,[],{event:[0,"event"],customTemplate:[1,"customTemplate"]},null),(t()(),Lo(-1,null,[" "])),(t()(),_i(7,0,null,null,1,"mwl-calendar-event-title",[["view","week"]],null,null,null,nb,Zv)),uo(8,49152,null,0,qg,[],{event:[0,"event"],customTemplate:[1,"customTemplate"],view:[2,"view"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component,r=e.context.tooltipDisabled?"":jr(e,1,0,t(e,2,0,Yi(e.parent,0),e.context.weekEvent.event.title,"weekTooltip",e.context.weekEvent.event));t(e,1,0,r,e.context.tooltipPlacement,e.context.tooltipTemplate,e.context.weekEvent.event,e.context.tooltipAppendToBody),t(e,3,0),t(e,5,0,e.context.weekEvent.event,n.eventActionsTemplate),t(e,8,0,e.context.weekEvent.event,n.eventTitleTemplate,"week")},function(t,e){t(e,0,0,null==e.context.weekEvent.event.color?null:e.context.weekEvent.event.color.secondary,null==e.context.weekEvent.event.color?null:e.context.weekEvent.event.color.primary)})}function Db(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function xb(t){return Uo(0,[lo(0,Zg,[Jg]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,kb)),(t()(),bi(16777216,null,null,2,null,Db)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{weekEvent:0,tooltipPlacement:1,eventClicked:2,tooltipTemplate:3,tooltipAppendToBody:4,tooltipDisabled:5})],function(t,e){var n=e.component,r=t(e,4,0,n.weekEvent,n.tooltipPlacement,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDisabled);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var Ob=Hr({encapsulation:2,styles:[],data:{}});function Ab(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","cal-time"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "])),Ro(2,3)],null,function(t,e){var n=jr(e,1,0,t(e,2,0,Yi(e.parent.parent,0),e.parent.context.segment.date,"weekViewHour",e.parent.context.locale));t(e,1,0,n)})}function Nb(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","cal-hour-segment"]],[[4,"height","px"],[2,"cal-hour-start",null],[2,"cal-after-hour-start",null]],null,null,null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),bi(16777216,null,null,1,null,Ab)),uo(3,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,"cal-hour-segment",e.context.segment.cssClass),t(e,3,0,e.context.isTimeLabel)},function(t,e){t(e,0,0,e.context.segmentHeight,e.context.segment.isStart,!e.context.segment.isStart)})}function Rb(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function Pb(t){return Uo(0,[lo(0,Xg,[$g,Xn]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,Nb)),(t()(),bi(16777216,null,null,2,null,Rb)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{segment:0,locale:1,segmentHeight:2,isTimeLabel:3})],function(t,e){var n=e.component,r=t(e,4,0,n.segment,n.locale,n.segmentHeight,n.isTimeLabel);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var Mb=Hr({encapsulation:2,styles:[],data:{}});function Lb(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[["class","cal-hour-segment"]],[[4,"height","px"],[2,"cal-hour-start",null],[2,"cal-after-hour-start",null]],null,null,null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),_i(2,0,null,null,2,"div",[["class","cal-time"]],null,null,null,null,null)),(t()(),Lo(3,null,[" "," "])),Ro(4,3)],function(t,e){t(e,1,0,"cal-hour-segment",e.context.segment.cssClass)},function(t,e){t(e,0,0,e.context.segmentHeight,e.context.segment.isStart,!e.context.segment.isStart);var n=jr(e,3,0,t(e,4,0,Yi(e.parent,0),e.context.segment.date,"dayViewHour",e.context.locale));t(e,3,0,n)})}function Fb(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function Vb(t){return Uo(0,[lo(0,Xg,[$g,Xn]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,Lb)),(t()(),bi(16777216,null,null,2,null,Fb)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{segment:0,locale:1,segmentHeight:2})],function(t,e){var n=e.component,r=t(e,4,0,n.segment,n.locale,n.segmentHeight);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var Ub=Hr({encapsulation:2,styles:[],data:{}});function jb(t){return Uo(0,[(t()(),_i(0,16777216,null,null,8,"div",[["class","cal-event"]],[[4,"backgroundColor",null],[4,"borderColor",null]],[[null,"mwlClick"],[null,"mouseenter"],[null,"mouseleave"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==Yi(t,1).onMouseOver()&&r),"mouseleave"===e&&(r=!1!==Yi(t,1).onMouseOut()&&r),"mwlClick"===e&&(r=!1!==t.context.eventClicked.emit()&&r),r},null,null)),uo(1,147456,null,0,Wg,[dn,Ft,pn,Oe,En,Gu],{contents:[0,"contents"],placement:[1,"placement"],customTemplate:[2,"customTemplate"],event:[3,"event"],appendToBody:[4,"appendToBody"]},null),Ro(2,3),uo(3,212992,null,0,ey,[pn,dn,Gu],null,{click:"mwlClick"}),(t()(),_i(4,0,null,null,1,"mwl-calendar-event-actions",[],null,null,null,Jv,Kv)),uo(5,49152,null,0,Bg,[],{event:[0,"event"],customTemplate:[1,"customTemplate"]},null),(t()(),Lo(-1,null,[" "])),(t()(),_i(7,0,null,null,1,"mwl-calendar-event-title",[["view","day"]],null,null,null,nb,Zv)),uo(8,49152,null,0,qg,[],{event:[0,"event"],customTemplate:[1,"customTemplate"],view:[2,"view"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component,r=jr(e,1,0,t(e,2,0,Yi(e.parent,0),e.context.dayEvent.event.title,"dayTooltip",e.context.dayEvent.event));t(e,1,0,r,e.context.tooltipPlacement,e.context.tooltipTemplate,e.context.dayEvent.event,e.context.tooltipAppendToBody),t(e,3,0),t(e,5,0,e.context.dayEvent.event,n.eventActionsTemplate),t(e,8,0,e.context.dayEvent.event,n.eventTitleTemplate,"day")},function(t,e){t(e,0,0,null==e.context.dayEvent.event.color?null:e.context.dayEvent.event.color.secondary,null==e.context.dayEvent.event.color?null:e.context.dayEvent.event.color.primary)})}function Bb(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function qb(t){return Uo(0,[lo(0,Zg,[Jg]),(t()(),bi(0,[["defaultTemplate",2]],null,0,null,jb)),(t()(),bi(16777216,null,null,2,null,Bb)),uo(3,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(4,{dayEvent:0,tooltipPlacement:1,eventClicked:2,tooltipTemplate:3,tooltipAppendToBody:4})],function(t,e){var n=e.component,r=t(e,4,0,n.dayEvent,n.tooltipPlacement,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody);t(e,3,0,r,n.customTemplate||Yi(e,1))},null)}var Hb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.monthViewColumnHeader=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"EEE",n)},e.prototype.monthViewTitle=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"M.y",n)},e.prototype.weekViewColumnHeader=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"d.M",n)},e.prototype.weekViewColumnSubHeader=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"",n)},e.prototype.weekViewTitle=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"",n)},e.prototype.dayViewHour=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"HH:mm",n)},e.prototype.weekViewHour=function(t){var e=t.date,n=t.locale;return new qu(n).transform(e,"HH:mm",n)},e}($g),Wb=n("NAv5");function zb(t){return parseInt(""+t,10)}function Gb(t){return null!=t?""+t:""}function Kb(t){return!isNaN(zb(t))}function Qb(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Yb(t){return null!=t}function $b(t){return Kb(t)?("0"+t).slice(-2):""}var Xb=function(){return function(){this.closeOthers=!1}}(),Jb=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Xb]}},t}(),Zb=function(){return function(){this.dismissible=!0,this.type="warning"}}(),t_=function(){function t(t){this.close=new je,this.dismissible=t.dismissible,this.type=t.type}return t.prototype.closeHandler=function(){this.close.emit(null)},t}(),e_=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Zb]}},t}(),n_=function(){return function(){}}(),r_=(kt(function(){return r_}),function(){function t(t){this._label=t,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"focused",{set:function(t){this._label.focused=t,t||this.onTouched()},enumerable:!0,configurable:!0}),t.prototype.onInputChange=function(t){var e=t.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(e),this.onTouched(),this.writeValue(e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t,this._label.disabled=t},t.prototype.writeValue=function(t){this.checked=t===this.valueChecked,this._label.active=this.checked},t}()),i_=(kt(function(){return o_}),0),o_=function(){function t(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+i_++,this.onChange=function(t){},this.onTouched=function(){}}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this.setDisabledState(t)},enumerable:!0,configurable:!0}),t.prototype.onRadioChange=function(t){this.writeValue(t.value),this.onChange(t.value)},t.prototype.onRadioValueUpdate=function(){this._updateRadiosValue()},t.prototype.register=function(t){this._radios.add(t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._disabled=t,this._updateRadiosDisabled()},t.prototype.unregister=function(t){this._radios.delete(t)},t.prototype.writeValue=function(t){this._value=t,this._updateRadiosValue()},t.prototype._updateRadiosValue=function(){var t=this;this._radios.forEach(function(e){return e.updateValue(t._value)})},t.prototype._updateRadiosDisabled=function(){this._radios.forEach(function(t){return t.updateDisabled()})},t}(),a_=function(){function t(t,e,n,r){this._group=t,this._label=e,this._renderer=n,this._element=r,this._value=null,this._group.register(this)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t;var e=t?t.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",e),this._group.onRadioValueUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._group.disabled||this._disabled},set:function(t){this._disabled=!1!==t,this.updateDisabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focused",{set:function(t){this._label&&(this._label.focused=t),t||this._group.onTouched()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nameAttr",{get:function(){return this.name||this._group.name},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._group.unregister(this)},t.prototype.onChange=function(){this._group.onRadioChange(this)},t.prototype.updateValue=function(t){this._checked=this.value===t,this._label.active=this._checked},t.prototype.updateDisabled=function(){this._label.disabled=this.disabled},t}(),s_=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),u_=function(){return function(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}}(),l_=0,c_=function(){return function(t){this.tplRef=t,this.id="ngb-slide-"+l_++}}(),h_=function(){function t(t){this.slide=new je,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}return t.prototype.ngAfterContentChecked=function(){var t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:null},t.prototype.ngOnInit=function(){this._startTimer()},t.prototype.ngOnChanges=function(t){"interval"in t&&!t.interval.isFirstChange()&&this._restartTimer()},t.prototype.ngOnDestroy=function(){clearInterval(this._slideChangeInterval)},t.prototype.select=function(t){this.cycleToSelected(t,this.getSlideEventDirection(this.activeId,t)),this._restartTimer()},t.prototype.prev=function(){this.cycleToPrev(),this._restartTimer()},t.prototype.next=function(){this.cycleToNext(),this._restartTimer()},t.prototype.pause=function(){this._stopTimer()},t.prototype.cycle=function(){this._startTimer()},t.prototype.cycleToNext=function(){this.cycleToSelected(this._getNextSlide(this.activeId),f_.LEFT)},t.prototype.cycleToPrev=function(){this.cycleToSelected(this._getPrevSlide(this.activeId),f_.RIGHT)},t.prototype.cycleToSelected=function(t,e){var n=this._getSlideById(t);n&&(n.id!==this.activeId&&this.slide.emit({prev:this.activeId,current:n.id,direction:e}),this.activeId=n.id)},t.prototype.getSlideEventDirection=function(t,e){return this._getSlideIdxById(t)>this._getSlideIdxById(e)?f_.RIGHT:f_.LEFT},t.prototype.keyPrev=function(){this.keyboard&&this.prev()},t.prototype.keyNext=function(){this.keyboard&&this.next()},t.prototype.onMouseEnter=function(){this.pauseOnHover&&this.pause()},t.prototype.onMouseLeave=function(){this.pauseOnHover&&this.cycle()},t.prototype._restartTimer=function(){this._stopTimer(),this._startTimer()},t.prototype._startTimer=function(){var t=this;this.interval>0&&(this._slideChangeInterval=setInterval(function(){t.cycleToNext()},this.interval))},t.prototype._stopTimer=function(){clearInterval(this._slideChangeInterval)},t.prototype._getSlideById=function(t){var e=this.slides.filter(function(e){return e.id===t});return e.length?e[0]:null},t.prototype._getSlideIdxById=function(t){return this.slides.toArray().indexOf(this._getSlideById(t))},t.prototype._getNextSlide=function(t){var e=this.slides.toArray(),n=this._getSlideIdxById(t);return n===e.length-1?this.wrap?e[0].id:e[e.length-1].id:e[n+1].id},t.prototype._getPrevSlide=function(t){var e=this.slides.toArray(),n=this._getSlideIdxById(t);return 0===n?this.wrap?e[e.length-1].id:e[0].id:e[n-1].id},t}(),f_=function(t){return t[t.LEFT="left"]="LEFT",t[t.RIGHT="right"]="RIGHT",t}({}),p_=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[u_]}},t}(),d_=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}(),m_=function(){function t(t,e,n){this.year=t,this.month=e,this.day=n}return t.from=function(e){return e?new t(e.year,e.month,e.day?e.day:1):null},t.prototype.equals=function(t){return t&&this.year===t.year&&this.month===t.month&&this.day===t.day},t.prototype.before=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)},t.prototype.after=function(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)},t.prototype.toStruct=function(){return{year:this.year,month:this.month,day:this.day}},t.prototype.toString=function(){return this.year+"-"+this.month+"-"+this.day},t}();function g_(t){return new m_(t.getFullYear(),t.getMonth()+1,t.getDate())}function y_(t){var e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}var v_=function(){return function(){}}(),b_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.getNext=function(t,e,n){void 0===e&&(e="d"),void 0===n&&(n=1);var r=y_(t);switch(e){case"y":return new m_(t.year+n,1,1);case"m":r=new Date(t.year,t.month+n-1,1,12);break;case"d":r.setDate(r.getDate()+n);break;default:return t}return g_(r)},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=y_(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=y_(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return g_(new Date)},e.prototype.isValid=function(t){if(!(t&&Qb(t.year)&&Qb(t.month)&&Qb(t.day)))return!1;var e=y_(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day},e}(v_);function __(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function w_(t,e,n){return t&&e&&t.before(e)?m_.from(e):t&&n&&t.after(n)?m_.from(n):t}function E_(t,e){var n=e.minDate,r=e.maxDate,i=e.disabled,o=e.markDisabled;return!(!Yb(t)||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}var C_=function(){return function(){}}(),S_=function(t){function e(e,n){var r=t.call(this)||this;r._locale=e,r._datePipe=n;var i=Ks(e,Hs.Standalone,Ws.Short);return r._weekdaysShort=i.map(function(t,e){return i[(e+1)%7]}),r._monthsShort=Qs(e,Hs.Standalone,Ws.Abbreviated),r._monthsFull=Qs(e,Hs.Standalone,Ws.Wide),r}return Object(r.__extends)(e,t),e.prototype.getWeekdayShortName=function(t){return this._weekdaysShort[t-1]},e.prototype.getMonthShortName=function(t){return this._monthsShort[t-1]},e.prototype.getMonthFullName=function(t){return this._monthsFull[t-1]},e.prototype.getDayAriaLabel=function(t){var e=new Date(t.year,t.month-1,t.day);return this._datePipe.transform(e,"fullDate",null,this._locale)},e}(C_),T_=function(){function t(t,e){this._calendar=t,this._i18n=e,this._model$=new tt,this._select$=new tt,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}return Object.defineProperty(t.prototype,"model$",{get:function(){return this._model$.pipe(rl(function(t){return t.months.length>0}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select$",{get:function(){return this._select$.pipe(rl(function(t){return null!==t}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{set:function(t){this._state.disabled!==t&&this._nextState({disabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonths",{set:function(t){Qb(t=zb(t))&&t>0&&this._state.displayMonths!==t&&this._nextState({displayMonths:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{set:function(t){Qb(t=zb(t))&&t>=0&&this._state.firstDayOfWeek!==t&&this._nextState({firstDayOfWeek:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusVisible",{set:function(t){this._state.focusVisible===t||this._state.disabled||this._nextState({focusVisible:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDate",{set:function(t){var e=this.toValidDate(t,null);__(this._state.maxDate,e)&&this._nextState({maxDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markDisabled",{set:function(t){this._state.markDisabled!==t&&this._nextState({markDisabled:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDate",{set:function(t){var e=this.toValidDate(t,null);__(this._state.minDate,e)&&this._nextState({minDate:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"navigation",{set:function(t){this._state.navigation!==t&&this._nextState({navigation:t})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outsideDays",{set:function(t){this._state.outsideDays!==t&&this._nextState({outsideDays:t})},enumerable:!0,configurable:!0}),t.prototype.focus=function(t){!this._state.disabled&&this._calendar.isValid(t)&&__(this._state.focusDate,t)&&this._nextState({focusDate:t})},t.prototype.focusMove=function(t,e){this.focus(this._calendar.getNext(this._state.focusDate,t,e))},t.prototype.focusSelect=function(){E_(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})},t.prototype.open=function(t){var e=this.toValidDate(t,this._calendar.getToday());this._state.disabled||this._nextState({firstDate:e})},t.prototype.select=function(t,e){void 0===e&&(e={});var n=this.toValidDate(t,null);this._state.disabled||(__(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&E_(n,this._state)&&this._select$.next(n))},t.prototype.toValidDate=function(t,e){var n=m_.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e},t.prototype._nextState=function(t){var e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)},t.prototype._patchContexts=function(t){var e=t.months,n=t.displayMonths,r=t.selectedDate,i=t.focusDate,o=t.focusVisible,a=t.disabled,s=t.outsideDays;t.months.forEach(function(t){t.weeks.forEach(function(u){u.days.forEach(function(u){i&&(u.context.focused=i.equals(u.date)&&o),u.tabindex=!a&&u.date.equals(i)&&i.month===t.number?0:-1,!0===a&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),t.number!==u.date.month&&(u.hidden="hidden"===s||"collapsed"===s||n>1&&u.date.after(e[0].firstDate)&&u.date.before(e[n-1].lastDate))})})})},t.prototype._updateState=function(t){var e,n,r=Object.assign({},this._state,t),i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error("'maxDate' "+e+" should be greater than 'minDate' "+t)}(r.minDate,r.maxDate),r.focusDate=w_(r.focusDate,r.minDate,r.maxDate),r.firstDate=w_(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusDate"in t&&(r.focusDate=w_(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=w_(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){var o=function(t,e,n,r,i){var o=n.displayMonths,a=n.months,s=a.splice(0,a.length);return Array.from({length:o},function(n,r){var o=t.getNext(e,"m",r);if(a[r]=null,!i){var u=s.findIndex(function(t){return t.firstDate.equals(o)});-1!==u&&(a[r]=s.splice(u,1)[0])}return o}).forEach(function(e,i){null===a[i]&&(a[i]=function(t,e,n,r,i){void 0===i&&(i={});var o=n.minDate,a=n.maxDate,s=n.firstDayOfWeek,u=n.markDisabled,l=n.outsideDays;i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){var r=t.getDaysPerWeek(),i=new m_(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}(t,e,s);for(var c=0;c<t.getWeeksPerMonth();c++){var h=i.weeks[c];h||(h=i.weeks[c]={number:0,days:[],collapsed:!0});for(var f=h.days,p=0;p<t.getDaysPerWeek();p++){0===c&&(i.weekdays[p]=t.getWeekday(e));var d=new m_(e.year,e.month,e.day),m=t.getNext(d),g=r.getDayAriaLabel(d),y=!!(o&&d.before(o)||a&&d.after(a));!y&&u&&(y=u(d,{month:i.number,year:i.year})),null===i.firstDate&&d.month===i.number&&(i.firstDate=d),d.month===i.number&&m.month!==i.number&&(i.lastDate=d);var v=f[p];v||(v=f[p]={}),v.date=d,v.context=Object.assign(v.context||{},{date:{year:d.year,month:d.month,day:d.day},currentMonth:i.number,disabled:y,focused:!1,selected:!1}),v.tabindex=-1,v.ariaLabel=g,v.hidden=!1,e=m}h.number=t.getWeekNumber(f.map(function(t){return m_.from(t.date)}),s),h.collapsed="collapsed"===l&&f[0].date.month!==i.number&&f[f.length-1].date.month!==i.number}return i}(t,e,n,r,s.shift()||{}))}),a}(this._calendar,i,r,this._i18n,"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);r.months=o,r.firstDate=o.length>0?o[0].firstDate:void 0,r.lastDate=o.length>0?o[o.length-1].lastDate:void 0,"selectedDate"in t&&!E_(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(void 0===r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);var a=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,s=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||a)&&(r.selectBoxes.years=function(t,e,n){if(!t)return[];var r=e&&e.year||t.year-10;return Array.from({length:(n&&n.year||t.year+10)-r+1},function(t,e){return r+e})}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||a)&&(r.selectBoxes.months=function(t,e,n,r){if(!e)return[];var i=t.getMonths();if(n&&e.year===n.year){var o=i.findIndex(function(t){return t===n.month});i=i.slice(o)}return r&&e.year===r.year&&(o=i.findIndex(function(t){return t===r.month}),i=i.slice(0,o+1)),i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},"arrows"!==r.navigation&&"select"!==r.navigation||!(s||a||"minDate"in t||"maxDate"in t||"disabled"in t)||(r.prevDisabled=r.disabled||(e=r.minDate,n=this._calendar.getPrev(r.firstDate,"m"),e&&(n.year===e.year&&n.month<e.month||n.year<e.year&&1===e.month)),r.nextDisabled=r.disabled||function(t,e,n){return n&&t.getNext(r.lastDate,"m").after(n)}(this._calendar,0,r.maxDate))}return r},t}(),I_=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({}),k_=function(){function t(t,e){var n=this;this._service=t,this._calendar=e,t.model$.subscribe(function(t){n._minDate=t.minDate,n._maxDate=t.maxDate,n._firstViewDate=t.firstDate,n._lastViewDate=t.lastDate})}return t.prototype.processKey=function(t){if(I_[Gb(t.which)]){switch(t.which){case I_.PageUp:this._service.focusMove(t.shiftKey?"y":"m",-1);break;case I_.PageDown:this._service.focusMove(t.shiftKey?"y":"m",1);break;case I_.End:this._service.focus(t.shiftKey?this._maxDate:this._lastViewDate);break;case I_.Home:this._service.focus(t.shiftKey?this._minDate:this._firstViewDate);break;case I_.ArrowLeft:this._service.focusMove("d",-1);break;case I_.ArrowUp:this._service.focusMove("d",-this._calendar.getDaysPerWeek());break;case I_.ArrowRight:this._service.focusMove("d",1);break;case I_.ArrowDown:this._service.focusMove("d",this._calendar.getDaysPerWeek());break;case I_.Enter:case I_.Space:this._service.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}},t}(),D_=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({}),x_=function(){return function(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}(),O_=function(){return function(){}}(),A_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.fromModel=function(t){return t&&t.year&&t.month&&t.day?{year:t.year,month:t.month,day:t.day}:null},e.prototype.toModel=function(t){return t&&t.year&&t.month&&t.day?{year:t.year,month:t.month,day:t.day}:null},e}(O_),N_=(kt(function(){return N_}),function(){function t(t,e,n,r,i,o,a,s,u){var l=this;this._keyMapService=t,this._service=e,this._calendar=n,this.i18n=r,this._cd=o,this._elementRef=a,this._ngbDateAdapter=s,this._ngZone=u,this.navigate=new je,this.select=new je,this.onChange=function(t){},this.onTouched=function(){},["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(function(t){return l[t]=i[t]}),this._selectSubscription=e.select$.subscribe(function(t){l.select.emit(t.toStruct())}),this._subscription=e.model$.subscribe(function(t){var e=t.firstDate,n=l.model?l.model.firstDate:null,r=t.selectedDate,i=l.model?l.model.selectedDate:null,a=t.focusDate,s=l.model?l.model.focusDate:null;l.model=t,__(r,i)&&(l.onTouched(),l.onChange(l._ngbDateAdapter.toModel(r))),__(a,s)&&s&&t.focusVisible&&l.focus(),e.equals(n)||l.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month}}),o.markForCheck()})}return t.prototype.focus=function(){var t=this;this._ngZone.onStable.asObservable().pipe(sl(1)).subscribe(function(){var e=t._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})},t.prototype.navigateTo=function(t){this._service.open(m_.from(t))},t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe(),this._selectSubscription.unsubscribe()},t.prototype.ngOnInit=function(){var t=this;void 0===this.model&&(["displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(function(e){return t._service[e]=t[e]}),this.navigateTo(this.startDate))},t.prototype.ngOnChanges=function(t){var e=this;["displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(function(e){return e in t}).forEach(function(t){return e._service[t]=e[t]}),"startDate"in t&&this.navigateTo(this.startDate)},t.prototype.onDateSelect=function(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})},t.prototype.onKeyDown=function(t){this._keyMapService.processKey(t)},t.prototype.onNavigateDateSelect=function(t){this._service.open(t)},t.prototype.onNavigateEvent=function(t){switch(t){case D_.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case D_.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._service.disabled=t},t.prototype.showFocus=function(t){this._service.focusVisible=t},t.prototype.writeValue=function(t){this._service.select(m_.from(this._ngbDateAdapter.fromModel(t)))},t}()),R_=function(){function t(t){this.i18n=t,this.select=new je}return t.prototype.doSelect=function(t){t.context.disabled||t.hidden||this.select.emit(m_.from(t.date))},t}(),P_=function(){return function(t){this.i18n=t,this.navigation=D_,this.months=[],this.navigate=new je,this.select=new je}}(),M_=function(){return function(){}}(),L_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.parse=function(t){if(t){var e=t.trim().split("-");if(1===e.length&&Kb(e[0]))return{year:zb(e[0]),month:null,day:null};if(2===e.length&&Kb(e[0])&&Kb(e[1]))return{year:zb(e[0]),month:zb(e[1]),day:null};if(3===e.length&&Kb(e[0])&&Kb(e[1])&&Kb(e[2]))return{year:zb(e[0]),month:zb(e[1]),day:zb(e[2])}}return null},e.prototype.format=function(t){return t?t.year+"-"+(Kb(t.month)?$b(t.month):"")+"-"+(Kb(t.day)?$b(t.day):""):""},e}(M_),F_=new(function(){function t(){}return t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect();else{var i=this.offsetParent(t);n=this.offset(t,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var i=r?this.offset(t,!1):this.position(t,!1),o=this.getAllStyles(e),a=e.getBoundingClientRect(),s=n.split("-")[0]||"top",u=n.split("-")[1]||"center",l={height:a.height||e.offsetHeight,width:a.width||e.offsetWidth,top:0,bottom:a.height||e.offsetHeight,left:0,right:a.width||e.offsetWidth};switch(s){case"top":l.top=i.top-(e.offsetHeight+parseFloat(o.marginBottom));break;case"bottom":l.top=i.top+i.height;break;case"left":l.left=i.left-(e.offsetWidth+parseFloat(o.marginRight));break;case"right":l.left=i.left+i.width}switch(u){case"top":l.top=i.top;break;case"bottom":l.top=i.top+i.height-e.offsetHeight;break;case"left":l.left=i.left;break;case"right":l.left=i.left+i.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?l.left=i.left+i.width/2-e.offsetWidth/2:l.top=i.top+i.height/2-e.offsetHeight/2}return l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right),l},t.prototype.getAvailablePlacements=function(t,e){var n=[],r=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=document.documentElement,a=window.innerHeight||o.clientHeight,s=window.innerWidth||o.clientWidth,u=r.left+r.width/2,l=r.top+r.height/2;return i.width<r.left&&(l>i.height/2&&a-l>i.height/2&&n.splice(n.length,1,"left"),this.setSecondaryPlacementForLeftRight(r,i,"left",n)),i.height<r.top&&(u>i.width/2&&s-u>i.width/2&&n.splice(n.length,1,"top"),this.setSecondaryPlacementForTopBottom(r,i,"top",n)),s-r.right>i.width&&(l>i.height/2&&a-l>i.height/2&&n.splice(n.length,1,"right"),this.setSecondaryPlacementForLeftRight(r,i,"right",n)),a-r.bottom>i.height&&(u>i.width/2&&s-u>i.width/2&&n.splice(n.length,1,"bottom"),this.setSecondaryPlacementForTopBottom(r,i,"bottom",n)),n},t.prototype.setSecondaryPlacementForLeftRight=function(t,e,n,r){var i=document.documentElement;e.height<=t.bottom&&r.splice(r.length,1,n+"-bottom"),(window.innerHeight||i.clientHeight)-t.top>=e.height&&r.splice(r.length,1,n+"-top")},t.prototype.setSecondaryPlacementForTopBottom=function(t,e,n,r){var i=document.documentElement;(window.innerWidth||i.clientWidth)-t.left>=e.width&&r.splice(r.length,1,n+"-left"),e.width<=t.right&&r.splice(r.length,1,n+"-right")},t}());function V_(t,e,n,r){var i=Array.isArray(n)?n:[n],o=i.findIndex(function(t){return"auto"===t});o>=0&&["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].forEach(function(t){null==i.find(function(e){return-1!==e.search("^"+t)})&&i.splice(o++,1,t)});for(var a,s=0,u=0,l=F_.getAvailablePlacements(t,e),c=function(n,o){if(null!=l.find(function(t){return t===n})||i.length===o+1){a=n;var c=F_.positionElements(t,e,n,r);return s=c.top,u=c.left,"break"}},h=0,f=i.map(function(t,e){return{item:t,index:e}});h<f.length;h++){var p=f[h];if("break"===c(p.item,p.index))break}return e.style.top=s+"px",e.style.left=u+"px",a}function U_(t,e,n,r){return i(n)&&(r=n,n=void 0),r?U_(t,e,n).pipe(j(function(t){return l(t)?r.apply(void 0,t):r(t)})):new T(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function j_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new B_(t,n))}}Object;var B_=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new q_(t,this.observables,this.project))},t}(),q_=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(V(i,s,s,a))}return i}return r.__extends(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(U),H_=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", "),W_=function(t,e){var n=U_(t,"focusin").pipe(Ay(e),j(function(t){return t.target}));U_(t,"keydown").pipe(Ay(e),rl(function(t){return t.which===I_.Tab}),j_(n)).subscribe(function(e){var n=e[0],r=e[1],i=function(t){var e=t.querySelectorAll(H_);return[e[0],e[e.length-1]]}(t),o=i[0],a=i[1];r===o&&n.shiftKey&&(a.focus(),n.preventDefault()),r!==a||n.shiftKey||(o.focus(),n.preventDefault())}),U_(t,"click").pipe(Ay(e),j_(n),j(function(t){return t[1]})).subscribe(function(t){return t.focus()})},z_=(kt(function(){return z_}),kt(function(){return z_}),function(){function t(t,e,n,r,i,o,a,s,u,l){var c=this;this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=r,this._cfr=i,this._service=a,this._calendar=s,this._ngbDateAdapter=u,this._document=l,this._closed$=new tt,this._cRef=null,this._disabled=!1,this.autoClose=!0,this.placement="bottom-left",this.dateSelect=new je,this.navigate=new je,this._onChange=function(t){},this._onTouched=function(){},this._validatorChange=function(){},this._zoneSubscription=o.onStable.subscribe(function(){c._cRef&&V_(c._elRef.nativeElement,c._cRef.location.nativeElement,c.placement,"body"===c.container)})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)},enumerable:!0,configurable:!0}),t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.registerOnValidatorChange=function(t){this._validatorChange=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.validate=function(t){var e=t.value;if(null==e)return null;var n=this._fromDateStruct(this._ngbDateAdapter.fromModel(e));return this._calendar.isValid(n)?this.minDate&&n.before(m_.from(this.minDate))?{ngbDate:{requiredBefore:this.minDate}}:this.maxDate&&n.after(m_.from(this.maxDate))?{ngbDate:{requiredAfter:this.maxDate}}:void 0:{ngbDate:{invalid:t.value}}},t.prototype.writeValue=function(t){this._model=this._fromDateStruct(this._ngbDateAdapter.fromModel(t)),this._writeModelValue(this._model)},t.prototype.manualDateChange=function(t,e){void 0===e&&(e=!1),this._model=this._fromDateStruct(this._parserFormatter.parse(t)),this._onChange(this._model?this._ngbDateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)},t.prototype.isOpen=function(){return!!this._cRef},t.prototype.open=function(){var t=this;if(!this.isOpen()){var e=this._cfr.resolveComponentFactory(N_);this._cRef=this._vcRef.createComponent(e),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._ngbDateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(function(e){t.writeValue(e),t._onChange(e)}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),W_(this._cRef.location.nativeElement,this._closed$),this._cRef.instance.focus(),U_(this._document,"keyup").pipe(Ay(this._closed$),rl(function(t){return t.which===I_.Escape})).subscribe(function(){return t.close()})}},t.prototype.close=function(){this.isOpen()&&(this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._closed$.next())},t.prototype.toggle=function(){this.isOpen()?this.close():this.open()},t.prototype.navigateTo=function(t){this.isOpen()&&this._cRef.instance.navigateTo(t)},t.prototype.onBlur=function(){this._onTouched()},t.prototype.ngOnChanges=function(t){(t.minDate||t.maxDate)&&this._validatorChange()},t.prototype.ngOnDestroy=function(){this.close(),this._zoneSubscription.unsubscribe()},t.prototype._applyDatepickerInputs=function(t){var e=this;["dayTemplate","displayMonths","firstDayOfWeek","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(function(n){void 0!==e[n]&&(t[n]=e[n])}),t.startDate=this.startDate||this._model},t.prototype._applyPopupStyling=function(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.setStyle(t,"padding","0"),this._renderer.addClass(t,"show")},t.prototype._subscribeForDatepickerOutputs=function(t){var e=this;t.navigate.subscribe(function(t){return e.navigate.emit(t)}),t.select.subscribe(function(t){e.dateSelect.emit(t),e.autoClose&&e.close()})},t.prototype._writeModelValue=function(t){this._renderer.setProperty(this._elRef.nativeElement,"value",this._parserFormatter.format(t)),this.isOpen()&&(this._cRef.instance.writeValue(this._ngbDateAdapter.toModel(t)),this._onTouched())},t.prototype._fromDateStruct=function(t){var e=t?new m_(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null},t}()),G_=function(){function t(){}return t.prototype.isMuted=function(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)},t}(),K_=function(){function t(t){this.i18n=t,this.select=new je}return t.prototype.changeMonth=function(t){this.select.emit(new m_(this.date.year,zb(t),1))},t.prototype.changeYear=function(t){this.select.emit(new m_(zb(t),this.date.month,1))},t}();function Q_(t){var e=t.getFullYear();return e%4==0&&e%100!=0||e%400==0}function Y_(t,e){return t-e*Math.floor(t/e)}var $_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.fromGregorian=function(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),o=1721424.5+365*(n-1)+Math.floor((n-1)/4)+-Math.floor((n-1)/100)+Math.floor((n-1)/400)+Math.floor((367*(r+1)-362)/12+(r+1<=2?0:Q_(e)?-1:-2)+i),a=(o=Math.floor(o)+.5)-1948439.5,s=Math.floor((30*a+10646)/10631),u=Math.ceil((a-29-this._getYearStart(s))/29.5);u=Math.min(u,11);var l=Math.ceil(a-this._getMonthStart(s,u))+1;return new m_(s,u+1,l)},e.prototype.toGregorian=function(t){var e=t.year,n=t.day+Math.ceil(29.5*(t.month-1))+354*(e-1)+Math.floor((3+11*e)/30)+1948439.5-1,r=Math.floor(n-.5)+.5,i=r-1721425.5,o=Math.floor(i/146097),a=Y_(i,146097),s=Math.floor(a/36524),u=Y_(a,36524),l=Math.floor(u/1461),c=Y_(u,1461),h=Math.floor(c/365),f=400*o+100*s+4*l+h;4!==s&&4!==h&&f++;var p=r-(1721425.5+365*(f-1)+Math.floor((f-1)/4)-Math.floor((f-1)/100)+Math.floor((f-1)/400)),d=r<1721424.5+365*(f-1)+Math.floor((f-1)/4)-Math.floor((f-1)/100)+Math.floor((f-1)/400)+Math.floor(739/12+(Q_(new Date(f,3,1))?-1:-2)+1)?0:Q_(new Date(f,3,1))?1:2,m=Math.floor((12*(p+d)+373)/367),g=1721424.5+365*(f-1)+Math.floor((f-1)/4)-Math.floor((f-1)/100)+Math.floor((f-1)/400)+Math.floor((367*m-362)/12+(m<=2?0:Q_(new Date(f,m-1,1))?-1:-2)+1);return new Date(f,m-1,r-g+1)},e.prototype.getDaysInIslamicMonth=function(t,e){e+=Math.floor(t/13);var n=29+(t=(t-1)%12+1)%2;return 12===t&&this._isIslamicLeapYear(e)&&n++,n},e.prototype.getNext=function(t,e,n){switch(void 0===e&&(e="d"),void 0===n&&(n=1),t=m_.from(t),e){case"y":return(t=this.setYear(t,t.year+n)).month=1,t.day=1,t;case"m":return(t=this.setMonth(t,t.month+n)).day=1,t;case"d":return this.setDay(t,t.day+n);default:return t}},e.prototype.getPrev=function(t,e,n){return void 0===e&&(e="d"),void 0===n&&(n=1),this.getNext(t,e,-n)},e.prototype.getWeekday=function(t){var e=this.toGregorian(t).getDay();return 0===e?7:e},e.prototype.getWeekNumber=function(t,e){7===e&&(e=0);var n=t[(11-e)%7],r=this.toGregorian(n);r.setDate(r.getDate()+4-(r.getDay()||7));var i=r.getTime(),o=this.toGregorian(new m_(n.year,1,1));return Math.floor(Math.round((i-o.getTime())/864e5)/7)+1},e.prototype.getToday=function(){return this.fromGregorian(new Date)},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.getDaysPerWeek=function(){return 7},e.prototype.getMonths=function(){return[1,2,3,4,5,6,7,8,9,10,11,12]},e.prototype.getWeeksPerMonth=function(){return 6},e.prototype.isValid=function(t){return t&&Kb(t.year)&&Kb(t.month)&&Kb(t.day)&&!isNaN(this.toGregorian(t).getTime())},e.prototype.setDay=function(t,e){e=+e;var n=this.getDaysInIslamicMonth(t.month,t.year);if(e<=0)for(;e<=0;)t=this.setMonth(t,t.month-1),e+=n=this.getDaysInIslamicMonth(t.month,t.year);else if(e>n)for(;e>n;)e-=n,t=this.setMonth(t,t.month+1),n=this.getDaysInIslamicMonth(t.month,t.year);return t.day=e,t},e.prototype.setMonth=function(t,e){return e=+e,t.year=t.year+Math.floor((e-1)/12),t.month=Math.floor(((e-1)%12+12)%12)+1,t},e.prototype.setYear=function(t,e){return t.year=+e,t},e.prototype._isIslamicLeapYear=function(t){return(14+11*t)%30<11},e.prototype._getMonthStart=function(t,e){return Math.ceil(29.5*e)+354*(t-1)+Math.floor((3+11*t)/30)},e.prototype._getYearStart=function(t){return 354*(t-1)+Math.floor((3+11*t)/30)},e}(v_));new Date(1882,10,12),new Date(2174,10,25),new $_;var X_=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[{provide:v_,useClass:b_},{provide:C_,useClass:S_},{provide:M_,useClass:L_},{provide:O_,useClass:A_},x_,qu]}},t}(),J_=function(){return function(){this.autoClose=!0,this.placement="bottom-left"}}(),Z_=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[J_]}},t}(),tw=function(){return function(){}}(),ew=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({}),nw=function(){function t(t,e,n){this._elRef=e,this._renderer=n,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new je,this._document=t,W_(this._elRef.nativeElement,this.dismissEvent)}return t.prototype.backdropClick=function(t){!0===this.backdrop&&this._elRef.nativeElement===t.target&&this.dismiss(ew.BACKDROP_CLICK)},t.prototype.escKey=function(t){this.keyboard&&!t.defaultPrevented&&this.dismiss(ew.ESC)},t.prototype.dismiss=function(t){this.dismissEvent.emit(t)},t.prototype.ngOnInit=function(){this._elWithFocus=this._document.activeElement,this._renderer.addClass(this._document.body,"modal-open")},t.prototype.ngAfterViewInit=function(){this._elRef.nativeElement.contains(document.activeElement)||this._elRef.nativeElement.focus.apply(this._elRef.nativeElement,[])},t.prototype.ngOnDestroy=function(){var t,e=this._document.body,n=this._elWithFocus;(t=n&&n.focus&&e.contains(n)?n:e).focus.apply(t,[]),this._elWithFocus=null,this._renderer.removeClass(e,"modal-open")},t}(),rw=function(){return function(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}(),iw=function(){function t(t,e,n,r,i){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=r,this._componentFactoryResolver=i}return t.prototype.open=function(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef},t.prototype.close=function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef=null))},t.prototype._getContentRef=function(t,e){if(t){if(t instanceof wn){var n=this._viewContainerRef.createEmbeddedView(t,e);return new rw([n.rootNodes],n)}return new rw([[this._renderer.createText(""+t)]])}return new rw([])},t}(),ow=function(){function t(){}return t.prototype.close=function(t){},t.prototype.dismiss=function(t){},t}(),aw=function(){function t(t,e,n,r){var i=this;this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(function(t){i.dismiss(t)}),this.result=new Promise(function(t,e){i._resolve=t,i._reject=e}),this.result.then(null,function(){})}return Object.defineProperty(t.prototype,"componentInstance",{get:function(){if(this._contentRef.componentRef)return this._contentRef.componentRef.instance},set:function(t){},enumerable:!0,configurable:!0}),t.prototype.close=function(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())},t.prototype._dismiss=function(t){this._reject(t),this._removeModalElements()},t.prototype.dismiss=function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)},t.prototype._removeModalElements=function(){var t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){var e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null},t}(),sw=function(){function t(t,e,n,r){this._applicationRef=t,this._injector=e,this._componentFactoryResolver=n,this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","size","windowClass"],this._backdropAttributes=["backdropClass"],this._document=r}return t.prototype.open=function(t,e,n,r){var i=Yb(r.container)?this._document.querySelector(r.container):this._document.body;if(!i)throw new Error('The specified modal container "'+(r.container||"body")+'" was not found in the DOM.');var o=new ow,a=this._getContentRef(t,r.injector||e,n,o),s=!1!==r.backdrop?this._attachBackdrop(i):null,u=this._attachWindowComponent(i,a),l=new aw(u,a,s,r.beforeDismiss);return o.close=function(t){l.close(t)},o.dismiss=function(t){l.dismiss(t)},this._applyWindowOptions(u.instance,r),s&&s.instance&&this._applyBackdropOptions(s.instance,r),l},t.prototype._attachBackdrop=function(t){var e=this._componentFactoryResolver.resolveComponentFactory(tw).create(this._injector);return this._applicationRef.attachView(e.hostView),t.appendChild(e.location.nativeElement),e},t.prototype._attachWindowComponent=function(t,e){var n=this._componentFactoryResolver.resolveComponentFactory(nw).create(this._injector,e.nodes);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n},t.prototype._applyWindowOptions=function(t,e){this._windowAttributes.forEach(function(n){Yb(e[n])&&(t[n]=e[n])})},t.prototype._applyBackdropOptions=function(t,e){this._backdropAttributes.forEach(function(n){Yb(e[n])&&(t[n]=e[n])})},t.prototype._getContentRef=function(t,e,n,r){return n?n instanceof wn?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r):new rw([])},t.prototype._createFromTemplateRef=function(t,e){var n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new rw([n.rootNodes],n)},t.prototype._createFromString=function(t){var e=this._document.createTextNode(""+t);return new rw([[e]])},t.prototype._createFromComponent=function(t,e,n,r){var i=t.resolveComponentFactory(n),o=Ft.create([{provide:ow,useValue:r}],e),a=i.create(o);return this._applicationRef.attachView(a.hostView),new rw([[a.location.nativeElement]],a.hostView,a)},t}(),uw=function(){function t(t,e,n){this._moduleCFR=t,this._injector=e,this._modalStack=n}return t.prototype.open=function(t,e){return void 0===e&&(e={}),this._modalStack.open(this._moduleCFR,this._injector,t,e)},t}(),lw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[uw,sw]}},t}(),cw=function(){return function(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}(),hw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[cw]}},t}(),fw=function(){return function(){this.placement="top",this.triggers="click",this.disablePopover=!1}}(),pw=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-popover-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-popover-"+this.placement.toString())},t}(),dw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[fw]}},t}(),mw=function(){return function(){this.max=100,this.animated=!1,this.striped=!1,this.showValue=!1}}(),gw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[mw]}},t}(),yw=function(){return function(){this.max=10,this.readonly=!1,this.resettable=!1}}(),vw=(kt(function(){return vw}),function(){function t(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new je,this.leave=new je,this.rateChange=new je(!0),this.onChange=function(t){},this.onTouched=function(){},this.max=t.max,this.readonly=t.readonly}return t.prototype.ariaValueText=function(){return this.nextRate+" out of "+this.max},t.prototype.enter=function(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)},t.prototype.handleBlur=function(){this.onTouched()},t.prototype.handleClick=function(t){this.update(this.resettable&&this.rate===t?0:t)},t.prototype.handleKeyDown=function(t){if(I_[Gb(t.which)])switch(t.preventDefault(),t.which){case I_.ArrowDown:case I_.ArrowLeft:this.update(this.rate-1);break;case I_.ArrowUp:case I_.ArrowRight:this.update(this.rate+1);break;case I_.Home:this.update(0);break;case I_.End:this.update(this.max)}},t.prototype.ngOnChanges=function(t){t.rate&&this.update(this.rate)},t.prototype.ngOnInit=function(){this.contexts=Array.from({length:this.max},function(t,e){return{fill:0,index:e}}),this._updateState(this.rate)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.reset=function(){this.leave.emit(this.nextRate),this._updateState(this.rate)},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n=function(t,e,n){return void 0===n&&(n=0),Math.max(Math.min(t,e),n)}(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)},t.prototype.writeValue=function(t){this.update(t,!1),this._changeDetectorRef.markForCheck()},t.prototype._getFillValue=function(t){var e=this.nextRate-t;return e>=1?100:e<1&&e>0?Number.parseInt((100*e).toFixed(2)):0},t.prototype._updateState=function(t){var e=this;this.nextRate=t,this.contexts.forEach(function(t,n){return t.fill=e._getFillValue(n)})},t}()),bw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[yw]}},t}(),_w=function(){return function(){this.justify="start",this.orientation="horizontal",this.type="tabs"}}(),ww=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[_w]}},t}(),Ew=function(){function t(t,e,n){this.hour=zb(t),this.minute=zb(e),this.second=zb(n)}return t.prototype.changeHour=function(t){void 0===t&&(t=1),this.updateHour((isNaN(this.hour)?0:this.hour)+t)},t.prototype.updateHour=function(t){this.hour=Kb(t)?(t<0?24+t:t)%24:NaN},t.prototype.changeMinute=function(t){void 0===t&&(t=1),this.updateMinute((isNaN(this.minute)?0:this.minute)+t)},t.prototype.updateMinute=function(t){Kb(t)?(this.minute=t%60<0?60+t%60:t%60,this.changeHour(Math.floor(t/60))):this.minute=NaN},t.prototype.changeSecond=function(t){void 0===t&&(t=1),this.updateSecond((isNaN(this.second)?0:this.second)+t)},t.prototype.updateSecond=function(t){Kb(t)?(this.second=t<0?60+t%60:t%60,this.changeMinute(Math.floor(t/60))):this.second=NaN},t.prototype.isValid=function(t){return void 0===t&&(t=!0),Kb(this.hour)&&Kb(this.minute)&&(!t||Kb(this.second))},t.prototype.toString=function(){return(this.hour||0)+":"+(this.minute||0)+":"+(this.second||0)},t}(),Cw=function(){return function(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}(),Sw=function(){return function(){}}(),Tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.fromModel=function(t){return t&&Qb(t.hour)&&Qb(t.minute)?{hour:t.hour,minute:t.minute,second:Qb(t.second)?t.second:null}:null},e.prototype.toModel=function(t){return t&&Qb(t.hour)&&Qb(t.minute)?{hour:t.hour,minute:t.minute,second:Qb(t.second)?t.second:null}:null},e}(Sw),Iw=(kt(function(){return Iw}),function(){function t(t,e){this._ngbTimeAdapter=e,this.onChange=function(t){},this.onTouched=function(){},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}return t.prototype.writeValue=function(t){var e=this._ngbTimeAdapter.fromModel(t);this.model=e?new Ew(e.hour,e.minute,e.second):new Ew,this.seconds||e&&Kb(e.second)||(this.model.second=0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.changeHour=function(t){this.model.changeHour(t),this.propagateModelChange()},t.prototype.changeMinute=function(t){this.model.changeMinute(t),this.propagateModelChange()},t.prototype.changeSecond=function(t){this.model.changeSecond(t),this.propagateModelChange()},t.prototype.updateHour=function(t){var e=this.model.hour>=12,n=zb(t);this.model.updateHour(this.meridian&&(e&&n<12||!e&&12===n)?n+12:n),this.propagateModelChange()},t.prototype.updateMinute=function(t){this.model.updateMinute(zb(t)),this.propagateModelChange()},t.prototype.updateSecond=function(t){this.model.updateSecond(zb(t)),this.propagateModelChange()},t.prototype.toggleMeridian=function(){this.meridian&&this.changeHour(12)},t.prototype.formatHour=function(t){return Kb(t)?$b(this.meridian?t%12==0?12:t%12:t%24):$b(NaN)},t.prototype.formatMinSec=function(t){return $b(t)},t.prototype.setFormControlSize=function(){return{"form-control-sm":"small"===this.size,"form-control-lg":"large"===this.size}},t.prototype.setButtonSize=function(){return{"btn-sm":"small"===this.size,"btn-lg":"large"===this.size}},t.prototype.ngOnChanges=function(t){t.seconds&&!this.seconds&&this.model&&!Kb(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))},t.prototype.propagateModelChange=function(t){void 0===t&&(t=!0),t&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))},t}()),kw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Cw,{provide:Sw,useClass:Tw}]}},t}(),Dw=function(){return function(){this.placement="top",this.triggers="hover",this.disableTooltip=!1}}(),xw=function(){function t(t,e){this._element=t,this._renderer=e,this.placement="top"}return t.prototype.applyPlacement=function(t){this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.removeClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString()),this.placement=t,this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString().split("-")[0]),this._renderer.addClass(this._element.nativeElement,"bs-tooltip-"+this.placement.toString())},t}(),Ow=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Dw]}},t}(),Aw=function(){function t(){this.highlightClass="ngb-highlight"}return t.prototype.ngOnChanges=function(t){var e,n=Gb(this.result),r=n.toLowerCase(),i=Gb(this.term).toLowerCase(),o=0;this.parts=i.length>0?r.split(new RegExp("("+(e=i,e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"))+")")).map(function(t){var e=n.substr(o,t.length);return o+=t.length,e}):[n]},t}(),Nw=function(){function t(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Gb,this.selectEvent=new je,this.activeChangeEvent=new je}return t.prototype.hasActive=function(){return this.activeIdx>-1&&this.activeIdx<this.results.length},t.prototype.getActive=function(){return this.results[this.activeIdx]},t.prototype.markActive=function(t){this.activeIdx=t,this._activeChanged()},t.prototype.next=function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()},t.prototype.prev=function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()},t.prototype.resetActive=function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()},t.prototype.select=function(t){this.selectEvent.emit(t)},t.prototype.ngOnInit=function(){this.resetActive()},t.prototype._activeChanged=function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)},t}(),Rw=new pt("live announcer delay");function Pw(t,e){void 0===e&&(e=!1);var n=t.body.querySelector("#ngb-live");return null==n&&e&&((n=t.createElement("div")).setAttribute("id","ngb-live"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.classList.add("sr-only"),t.body.appendChild(n)),n}var Mw=function(){function t(t,e){this._document=t,this._delay=e}return t.prototype.ngOnDestroy=function(){var t=Pw(this._document);t&&t.parentElement.removeChild(t)},t.prototype.say=function(t){var e=Pw(this._document,!0),n=this._delay;e.textContent="";var r=function(){return e.textContent=t};null===n?r():setTimeout(r,n)},t}(),Lw=function(){return function(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement="bottom-left"}}(),Fw=(kt(function(){return Vw}),0),Vw=function(){function t(t,e,n,r,i,o,a,s){var u=this;this._elementRef=t,this._viewContainerRef=e,this._renderer=n,this._injector=r,this._live=s,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new je,this.popupId="ngb-typeahead-"+Fw++,this._onTouched=function(){},this._onChange=function(t){},this.container=o.container,this.editable=o.editable,this.focusFirst=o.focusFirst,this.showHint=o.showHint,this.placement=o.placement,this._valueChanges=U_(t.nativeElement,"input").pipe(j(function(t){return t.target.value})),this._resubscribeTypeahead=new $l(null),this._popupService=new iw(Nw,r,e,n,i),this._zoneSubscription=a.onStable.subscribe(function(){u.isPopupOpen()&&V_(u._elementRef.nativeElement,u._windowRef.location.nativeElement,u.placement,"body"===u.container)})}return t.prototype.ngOnInit=function(){var t=this,e=this._valueChanges.pipe(pl(function(e){t._inputValueBackup=e,t.editable&&t._onChange(e)})).pipe(this.ngbTypeahead).pipe(pl(function(){t.editable||t._onChange(void 0)})),n=this._resubscribeTypeahead.pipe(Ds(function(){return e}));this._subscription=this._subscribeToUserInput(n)},t.prototype.ngOnDestroy=function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.writeValue=function(t){this._writeInputValue(this._formatItemForInput(t))},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype.onDocumentClick=function(t){t.target!==this._elementRef.nativeElement&&this.dismissPopup()},t.prototype.dismissPopup=function(){this.isPopupOpen()&&(this._closePopup(),this._writeInputValue(this._inputValueBackup))},t.prototype.isPopupOpen=function(){return null!=this._windowRef},t.prototype.handleBlur=function(){this._resubscribeTypeahead.next(null),this._onTouched()},t.prototype.handleKeyDown=function(t){if(this.isPopupOpen()&&I_[Gb(t.which)])switch(t.which){case I_.ArrowDown:t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case I_.ArrowUp:t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case I_.Enter:case I_.Tab:var e=this._windowRef.instance.getActive();Yb(e)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(e)),this._closePopup();break;case I_.Escape:t.preventDefault(),this._resubscribeTypeahead.next(null),this.dismissPopup()}},t.prototype._openPopup=function(){var t=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(function(e){return t._selectResultClosePopup(e)}),this._windowRef.instance.activeChangeEvent.subscribe(function(e){return t.activeDescendant=e}),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement))},t.prototype._closePopup=function(){this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0},t.prototype._selectResult=function(t){var e=!1;this.selectItem.emit({item:t,preventDefault:function(){e=!0}}),this._resubscribeTypeahead.next(null),e||(this.writeValue(t),this._onChange(t))},t.prototype._selectResultClosePopup=function(t){this._selectResult(t),this._closePopup()},t.prototype._showHint=function(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){var t=this._inputValueBackup.toLowerCase(),e=this._formatItemForInput(this._windowRef.instance.getActive());t===e.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+e.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,e.length])):this.writeValue(this._windowRef.instance.getActive())}},t.prototype._formatItemForInput=function(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):Gb(t)},t.prototype._writeInputValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",Gb(t))},t.prototype._subscribeToUserInput=function(t){var e=this;return t.subscribe(function(t){t&&0!==t.length?(e._openPopup(),e._windowRef.instance.focusFirst=e.focusFirst,e._windowRef.instance.results=t,e._windowRef.instance.term=e._elementRef.nativeElement.value,e.resultFormatter&&(e._windowRef.instance.formatter=e.resultFormatter),e.resultTemplate&&(e._windowRef.instance.resultTemplate=e.resultTemplate),e._windowRef.instance.resetActive(),e._windowRef.changeDetectorRef.detectChanges(),e._showHint()):e._closePopup();var n=t.length;e._live.say(0===n?"No results available":n+" result"+(1===n?"":"s")+" available")})},t.prototype._unsubscribeFromUserInput=function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null},t}(),Uw=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Mw,Lw,{provide:Rw,useValue:100}]}},t}(),jw=function(){return function(){}}(),Bw=function(){function t(){}return t.forRoot=function(){return{ngModule:jw}},t}(),qw={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}},Hw=function(){function t(t,e,n,r){var i=this;this.auth=t,this.modal=e,this.cdr=n,this.datePipe=r,this.view="week",this.CalendarView=Gg,this.excludeDays=[0],this.weekStartsOn=eg.MONDAY,this.locale="en",this.activeDayIsOpen=!1,this.viewDate=new Date,this.actions=[{label:'<i class="fa fa-fw fa-times"></i>',onClick:function(t){var e=t.event;i.events=i.events.filter(function(t){return t!==e})}}],this.events=[]}return t.prototype.dayClicked=function(t){var e=t.date,n=t.events;Object(Wb.isSameMonth)(e,this.viewDate)&&(Object(Wb.isSameDay)(this.viewDate,e)&&!0===this.activeDayIsOpen||0===n.length?(this.activeDayIsOpen=!1,this.viewDate=e,this.view="week"):(this.viewDate=e,this.activeDayIsOpen=!0))},t.prototype.hourclicked=function(t){console.log(t),this.events.push({title:"Touko Testaaja (ABC-123): "+new qu("en-EN").transform(t,"HH:mm"),start:new Date(Object(Wb.getTime)(t)),color:qw.blue,actions:this.actions,draggable:!1,resizable:{beforeStart:!1,afterEnd:!1}}),this.refresh()},t.prototype.refresh=function(){this.events=this.events.slice(),this.cdr.detectChanges()},t}(),Ww=Hr({encapsulation:0,styles:[["h3[_ngcontent-%COMP%]{margin:0 0 10px}pre[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:15px}"]],data:{}});function zw(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Gw(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["GUEST"])),(t()(),_i(2,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be registered, logged in and admin to manage users"])),(t()(),_i(4,0,null,null,1,"button",[["class","button"],["routerLink","/login"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Login/Register"]))],null,null)}function Kw(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"mwl-calendar-month-view",[],null,[[null,"dayClicked"]],function(t,e,n){var r=!0;return"dayClicked"===e&&(r=!1!==t.component.dayClicked(n.day)&&r),r},wv,vv)),uo(1,770048,null,0,iy,[Cn,ny,Xn,zg],{viewDate:[0,"viewDate"],events:[1,"events"],excludeDays:[2,"excludeDays"],activeDayIsOpen:[3,"activeDayIsOpen"],weekStartsOn:[4,"weekStartsOn"]},{dayClicked:"dayClicked"})],function(t,e){var n=e.component;t(e,1,0,n.viewDate,n.events,n.excludeDays,n.activeDayIsOpen,n.weekStartsOn)},null)}function Qw(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"mwl-calendar-week-view",[],null,[[null,"hourSegmentClicked"]],function(t,e,n){var r=!0;return"hourSegmentClicked"===e&&(r=!1!==t.component.hourclicked(n.date)&&r),r},Vv,Ev)),uo(1,770048,null,0,hy,[Cn,ny,Xn,zg],{viewDate:[0,"viewDate"],events:[1,"events"],excludeDays:[2,"excludeDays"],locale:[3,"locale"],weekStartsOn:[4,"weekStartsOn"],hourSegments:[5,"hourSegments"],dayStartHour:[6,"dayStartHour"],dayEndHour:[7,"dayEndHour"]},{hourSegmentClicked:"hourSegmentClicked"})],function(t,e){var n=e.component;t(e,1,0,n.viewDate,n.events,n.excludeDays,n.locale,n.weekStartsOn,12,8,15)},null)}function Yw(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"mwl-calendar-day-view",[],null,[[null,"hourSegmentClicked"]],function(t,e,n){var r=!0;return"hourSegmentClicked"===e&&(r=!1!==t.component.hourclicked(n.date)&&r),r},Gv,Uv)),uo(1,770048,null,0,gy,[Cn,ny,Xn,zg],{viewDate:[0,"viewDate"],events:[1,"events"],hourSegments:[2,"hourSegments"],dayStartHour:[3,"dayStartHour"],dayEndHour:[4,"dayEndHour"],locale:[5,"locale"]},{hourSegmentClicked:"hourSegmentClicked"})],function(t,e){var n=e.component;t(e,1,0,n.viewDate,n.events,12,8,16,n.locale)},null)}function $w(t){return Uo(0,[(t()(),_i(0,0,null,null,35,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,25,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,15,"div",[["class","col-md-6"]],null,null,null,null,null)),(t()(),_i(3,0,null,null,14,"div",[["class","btn-group"]],null,null,null,null,null)),(t()(),_i(4,0,null,null,2,"div",[["class","btn btn-primary"],["mwlCalendarPreviousView",""]],null,[[null,"viewDateChange"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Yi(t,5).onClick()&&r),"viewDateChange"===e&&(r=!1!==(i.viewDate=n)&&r),"viewDateChange"===e&&(r=0!=(i.activeDayIsOpen=!1)&&r),r},null,null)),uo(5,16384,null,0,Kg,[zg],{view:[0,"view"],viewDate:[1,"viewDate"],excludeDays:[2,"excludeDays"]},{viewDateChange:"viewDateChange"}),(t()(),_i(6,0,null,null,0,"i",[["class","fa fa-angle-left"]],null,null,null,null,null)),(t()(),_i(7,0,null,null,2,"div",[["class","btn btn-outline-secondary"],["mwlCalendarToday",""]],null,[[null,"viewDateChange"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Yi(t,8).onClick()&&r),"viewDateChange"===e&&(r=!1!==(i.viewDate=n)&&r),r},null,null)),uo(8,16384,null,0,Yg,[zg],{viewDate:[0,"viewDate"]},{viewDateChange:"viewDateChange"}),(t()(),_i(9,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(t()(),_i(10,0,null,null,2,"div",[["class","btn btn-primary"],["mwlCalendarNextView",""]],null,[[null,"viewDateChange"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==Yi(t,11).onClick()&&r),"viewDateChange"===e&&(r=!1!==(i.viewDate=n)&&r),"viewDateChange"===e&&(r=0!=(i.activeDayIsOpen=!1)&&r),r},null,null)),uo(11,16384,null,0,Qg,[zg],{view:[0,"view"],viewDate:[1,"viewDate"],excludeDays:[2,"excludeDays"]},{viewDateChange:"viewDateChange"}),(t()(),_i(12,0,null,null,0,"i",[["class","fa fa-angle-right"]],null,null,null,null,null)),(t()(),_i(13,0,null,null,4,"div",[["class","btn"]],null,null,null,null,null)),(t()(),_i(14,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),_i(15,0,null,null,2,"b",[],null,null,null,null,null)),(t()(),Lo(16,null,["",""])),Ro(17,3),(t()(),_i(18,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(t()(),_i(19,0,null,null,7,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),_i(20,0,null,null,6,"div",[["class","btn-group"]],null,null,null,null,null)),(t()(),_i(21,0,null,null,1,"div",[["class","btn btn-primary"]],[[2,"active",null]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i.view=i.CalendarView.Month)&&r),r},null,null)),(t()(),Lo(-1,null,[" M "])),(t()(),_i(23,0,null,null,1,"div",[["class","btn btn-primary"]],[[2,"active",null]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i.view=i.CalendarView.Week)&&r),r},null,null)),(t()(),Lo(-1,null,[" V "])),(t()(),_i(25,0,null,null,1,"div",[["class","btn btn-primary"]],[[2,"active",null]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==(i.view=i.CalendarView.Day)&&r),r},null,null)),(t()(),Lo(-1,null,[" D "])),(t()(),_i(27,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_i(28,0,null,null,7,"div",[],null,null,null,null,null)),uo(29,16384,null,0,Pu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),bi(16777216,null,null,1,null,Kw)),uo(31,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),bi(16777216,null,null,1,null,Qw)),uo(33,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),bi(16777216,null,null,1,null,Yw)),uo(35,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(t,e){var n=e.component;t(e,5,0,n.view,n.viewDate,n.excludeDays),t(e,8,0,n.viewDate),t(e,11,0,n.view,n.viewDate,n.excludeDays),t(e,29,0,n.view),t(e,31,0,"month"),t(e,33,0,"week"),t(e,35,0,"day")},function(t,e){var n=e.component,r=jr(e,16,0,t(e,17,0,Yi(e.parent.parent.parent,0),n.viewDate,n.view+"ViewTitle","en"));t(e,16,0,r),t(e,21,0,n.view===n.CalendarView.Month),t(e,23,0,n.view===n.CalendarView.Week),t(e,25,0,n.view===n.CalendarView.Day)})}function Xw(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,$w)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(t,e){t(e,2,0,e.context.ngIf.isAdmin,Yi(e.parent.parent,7))},null)}function Jw(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,Xw)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)))},null)}function Zw(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"h3",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be admin to manage users."])),(t()(),_i(3,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Contact your administrator to get admin status."]))],null,null)}function tE(t){return Uo(2,[lo(0,Xg,[$g,Xn]),(t()(),_i(1,0,null,null,3,"div",[["class","box"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,zw)),uo(3,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["guest",2]],null,0,null,Gw)),(t()(),bi(0,[["authenticated",2]],null,0,null,Jw)),(t()(),bi(0,[["noadmin",2]],null,0,null,Zw))],function(t,e){var n=e.component;t(e,3,0,jr(e,3,0,Yi(e,4).transform(n.auth.user)),Yi(e,6),Yi(e,5))},null)}function eE(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"masterview",[],null,null,null,tE,Ww)),co(4608,null,$g,Hb,[zg]),co(512,null,qu,qu,[Xn]),uo(3,49152,null,0,Hw,[Ql,uw,Cn,qu],null,null)],null,null)}var nE=Vi("masterview",Hw,eE,{},{},[]),rE=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),iE=Hr({encapsulation:0,styles:[['.centered-wrapper[_ngcontent-%COMP%]{position:relative;text-align:center}.centered-wrapper[_ngcontent-%COMP%]:before{content:"";position:relative;display:inline-block;width:0;height:100%;vertical-align:middle}.centered-content[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}']],data:{}});function oE(t){return Uo(0,[(t()(),_i(0,0,null,null,22,"div",[["class","centered-wrapper"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,21,"div",[["class","centered-content>"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"a",[["align","center"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(3,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),_i(4,0,null,null,0,"img",[["alt","TOTECH"],["src","assets/totech_logo.jpg"]],null,null,null,null,null)),(t()(),_i(5,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" TOTECH is a new company providing professional help with automation projects and also other consulting or services in the area of Industrial Automation, Industry 4.0 and IIoT. Our speciality is connecting the automation ( machines, processes or whole factory ) to the IT side of the customers organization or we can connect it to our cloud and custom made webapplications to provide the full realtime monitoring system for our customers.\n"])),(t()(),_i(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" We have our own, well tested, stable solution to get correct data reliably and automatically ( with no need for operators interactions ) from PLC's to PC ( LAN TCP/IP ) and further up to databases or cloud and finally to the enduser applications. In the enduser application the monitored realtime data from the machines, processes or whole factory can be combined with other data ( business side orders, product inventory etc. ) to make powerfull solutions that fully assists our customers in whatever industry they operate.\n"])),(t()(),_i(10,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Industry 4.0 and IIoT,\n"])),(t()(),_i(12,0,null,null,1,"a",[["href","https://www-forbes-com.cdn.ampproject.org/c/s/www.forbes.com/sites/willemsundbladeurope/2018/07/30/whats-at-stake-in-the-race-to-industry-4-0/amp/"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),Lo(-1,null,["here "])),(t()(),Lo(-1,null,["is a story that summarize what it is all about."])),(t()(),_i(15,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(16,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),_i(17,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["If you have an automation project or you are otherwise interested in our solutions, "])),(t()(),_i(19,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["do not hesitate to contact us "])),(t()(),_i(21,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["or register for a user account so we can contact you."]))],function(t,e){t(e,3,0,"/")},function(t,e){t(e,2,0,Yi(e,3).target,Yi(e,3).href)})}function aE(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"about-page",[],null,null,null,oE,iE)),uo(1,114688,null,0,rE,[],null,null)],function(t,e){t(e,1,0)},null)}var sE=Vi("about-page",rE,aE,{},{},[]),uE=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},lE=function(){function t(t){this.afs=t,this.notesCollection=this.afs.collection("notes",function(t){return t.orderBy("time","desc").limit(5)})}return t.prototype.getData=function(){return this.notesCollection.snapshotChanges().pipe(j(function(t){return t.map(function(t){var e=t.payload.doc.data();return uE({id:t.payload.doc.id},e)})}))},t.prototype.getNote=function(t){return this.afs.doc("notes/"+t)},t.prototype.createNote=function(t){var e={content:t,hearts:0,time:(new Date).getTime()};return this.notesCollection.add(e)},t.prototype.updateNote=function(t,e){return this.getNote(t).update(e)},t.prototype.deleteNote=function(t){return this.getNote(t).delete()},t}(),cE=function(){function t(t,e){this.notesService=t,this.auth=e}return t.prototype.addHeartToNote=function(t){this.note.id?this.notesService.updateNote(this.note.id,{hearts:t+1}):console.error("Note missing ID!")},t.prototype.deleteNote=function(t){this.notesService.deleteNote(t)},t}(),hE=Hr({encapsulation:0,styles:[[".basic-note[_ngcontent-%COMP%]{visibility:visible}"]],data:{}});function fE(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function pE(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["GUEST"]))],null,null)}function dE(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"span",[["class","button is-small is-danger"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.deleteNote(null==i.note?null:i.note.id)&&r),r},null,null)),(t()(),Lo(-1,null,["Delete"]))],null,null)}function mE(t){return Uo(0,[(t()(),_i(0,0,null,null,10,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,9,"div",[["class","basic-note"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(3,null,["",""])),(t()(),_i(4,0,null,null,2,"span",[["class","button is-small is-info"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.addHeartToNote(i.note.hearts)&&r),r},null,null)),(t()(),Lo(-1,null,[" Like "])),(t()(),_i(6,0,null,null,0,"i",[["class","fa fa-heart"],["style","margin-left: 5px;"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,dE)),uo(8,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(10,null,["Liked: "," times."]))],function(t,e){t(e,8,0,e.context.ngIf.isAdmin)},function(t,e){var n=e.component;t(e,3,0,n.note.content),t(e,10,0,n.note.hearts||0)})}function gE(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,mE)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)))},null)}function yE(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,fE)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["guest",2]],null,0,null,pE)),(t()(),bi(0,[["authenticated",2]],null,0,null,gE))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)),Yi(e,4),Yi(e,3))},null)}var vE=function(){function t(t){this.notesService=t}return t.prototype.ngOnInit=function(){this.notes=this.notesService.getData()},t.prototype.clickHandler=function(){this.notesService.createNote(this.content),this.content=""},t}(),bE=Hr({encapsulation:0,styles:[[""]],data:{}});function _E(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"note-detail",[],null,null,null,yE,hE)),uo(2,49152,null,0,cE,[lE,Ql],{note:[0,"note"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},null)}function wE(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Lo(-1,null,["TOTECH Comments"])),(t()(),_i(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" Leave a comment or like a comment below:\n"])),(t()(),_i(4,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(5,0,null,null,5,"input",[["class","input"],["name","note"],["placeholder","Add your own comment"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yi(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,6)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.content=n)&&r),r},null,null)),uo(6,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(8,671744,null,0,dm,[[8,null],[8,null],[8,null],[6,yd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),co(2048,null,Td,null,[dm]),uo(10,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(11,0,null,null,1,"button",[["class","button is-success"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.clickHandler()&&r),r},null,null)),(t()(),Lo(-1,null,[" Add Comment\n"])),(t()(),_i(13,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,_E)),uo(15,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n=e.component;t(e,8,0,"note",n.content),t(e,15,0,jr(e,15,0,Yi(e,16).transform(n.notes)))},function(t,e){var n=e.component;t(e,5,0,Yi(e,10).ngClassUntouched,Yi(e,10).ngClassTouched,Yi(e,10).ngClassPristine,Yi(e,10).ngClassDirty,Yi(e,10).ngClassValid,Yi(e,10).ngClassInvalid,Yi(e,10).ngClassPending),t(e,11,0,(null==n.content?null:n.content.length)<2||(null==n.content?null:n.content.length)>200)})}function EE(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"notes-list",[],null,null,null,wE,bE)),uo(1,114688,null,0,vE,[lE],null,null)],function(t,e){t(e,1,0)},null)}var CE=Vi("notes-list",vE,EE,{},{},[]),SE=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],TE=["Bytes","Kilobytes","Megabytes","Gigabytes","Pettabytes","Exabytes","Zettabytes","Yottabytes"],IE=function(){function t(){}return t.prototype.transform=function(t,e){var n=e?TE:SE,r=Math.round(Math.log(t)/Math.log(1024));r=Math.min(r,n.length-1);var i=t/Math.pow(1024,r),o=Math.round(100*i)/100;return i?o+" "+n[r]:"0"},t}(),kE=function(){function t(){this.dropped=new je,this.hovered=new je}return t.prototype.onDrop=function(t){t.preventDefault(),this.dropped.emit(t.dataTransfer.files),this.hovered.emit(!1)},t.prototype.onDragOver=function(t){t.preventDefault(),this.hovered.emit(!0)},t.prototype.onDragLeave=function(t){t.preventDefault(),this.hovered.emit(!1)},t}();function DE(t){var e=function(t){return new T(function(e){return t.on("state_changed",function(t){return e.next(t)},function(t){return e.error(t)},function(){return e.complete()}),function(){return t.cancel()}})}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(j(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function xE(t,e){return{getDownloadURL:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular(W(t.getDownloadURL())))},getMetadata:function(){return e.keepUnstableUntilFirst(e.runOutsideAngular(W(t.getMetadata())))},delete:function(){return W(t.delete())},child:function(n){return xE(t.child(n),e)},updateMetatdata:function(e){return W(t.updateMetadata(e))},put:function(e,n){return DE(t.put(e,n))},putString:function(e,n,r){return DE(t.putString(e,n,r))}}}var OE=new pt("angularfire2.storageBucket"),AE=function(){function t(t,e,n,r,i){this.scheduler=new El(i,r),this.storage=i.runOutsideAngular(function(){return Sl(t,e).storage(n||void 0)})}return t.prototype.ref=function(t){return xE(this.storage.ref(t),this.scheduler)},t.prototype.upload=function(t,e,n){return xE(this.storage.ref(t),this.scheduler).put(e,n)},t}(),NE="https://firebasestorage.googleapis.com",RE="https://firebasestorage.googleapis.com",PE="/v0",ME="/v0",LE=12e4,FE=6e4,VE=-9007199254740991,UE=function(){function t(t,e){this.code_=BE(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return BE(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),jE={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function BE(t){return"storage/"+t}function qE(){return new UE(jE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function HE(){return new UE(jE.CANCELED,"User canceled the upload/download.")}function WE(){return new UE(jE.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zE(t,e,n){return new UE(jE.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function GE(){return new UE(jE.APP_DELETED,"The Firebase app was deleted.")}function KE(t,e){return new UE(jE.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function QE(t){throw new UE(jE.INTERNAL_ERROR,"Internal error: "+t)}var YE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function $E(t){switch(t){case YE.RAW:case YE.BASE64:case YE.BASE64URL:case YE.DATA_URL:return;default:throw"Expected one of the event types: ["+YE.RAW+", "+YE.BASE64+", "+YE.BASE64URL+", "+YE.DATA_URL+"]."}}var XE=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function JE(t,e){switch(t){case YE.RAW:return new XE(ZE(e));case YE.BASE64:case YE.BASE64URL:return new XE(tC(t,e));case YE.DATA_URL:return new XE(function(t){var e=new eC(t);return e.base64?tC(YE.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw KE(YE.DATA_URL,"Malformed data URL.")}return ZE(e)}(e.rest)}(e),function(t){return new eC(t).contentType}(e))}throw qE()}function ZE(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function tC(t,e){switch(t){case YE.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw KE(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case YE.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw KE(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(l){throw KE(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var eC=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw KE(YE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),nC={STATE_CHANGED:"state_changed"},rC={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},iC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function oC(t){switch(t){case rC.RUNNING:case rC.PAUSING:case rC.CANCELING:return iC.RUNNING;case rC.PAUSED:return iC.PAUSED;case rC.SUCCESS:return iC.SUCCESS;case rC.CANCELED:return iC.CANCELED;case rC.ERROR:default:return iC.ERROR}}function aC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sC(t,e){for(var n in t)aC(t,n)&&e(n,t[n])}function uC(t){if(null==t)return{};var e={};return sC(t,function(t,n){e[t]=n}),e}function lC(t){return new Promise(t)}function cC(t){return Promise.resolve(t)}function hC(t){return null!=t}function fC(t){return void 0!==t}function pC(t){return"function"==typeof t}function dC(t){return"object"==typeof t}function mC(t){return dC(t)&&null!==t}function gC(t){return"string"==typeof t||t instanceof String}function yC(t){return vC()&&t instanceof Blob}function vC(){return"undefined"!=typeof Blob}var bC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),_C=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bC.NO_ERROR,this.sendPromise_=lC(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=bC.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=bC.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw QE("cannot .send() more than once");return this.sent_=!0,this.xhr_.open(e,t,!0),hC(r)&&sC(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())}),hC(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw QE("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw QE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw QE("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){hC(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){hC(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),wC=function(){function t(){}return t.prototype.createXhrIo=function(){return new _C},t}();function EC(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return dC(n=e)&&!Array.isArray(n)?e:null}var CC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new UE(jE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],i=0;i<r.length;i++){var o=r[i],a=o.regex.exec(e);if(a){var s=a[o.indices.path];s||(s=""),n=new t(a[o.indices.bucket],s),o.postModify(n);break}}if(null==n)throw function(t){return new UE(jE.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function SC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function TC(t){return NE+PE+t}function IC(t){return NE+ME+t}function kC(t){var e=encodeURIComponent,n="?";return sC(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function DC(t,e){return e}var xC=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||DC}}(),OC=null;function AC(t,e,n){var r=EC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new CC(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function NC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function RC(t){if(!t||!dC(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!dC(n))throw"Expected object for 'customMetadata' mapping."}else if(mC(n))throw"Mapping for '"+e+"' cannot be an object."}}function PC(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var a,s,u,l;if(!(r<=n.length&&n.length<=i))throw(a=r)===(s=i)?(u=a,l=1===a?"argument":"arguments"):(u="between "+a+" and "+s,l="arguments"),new UE(jE.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+u+" "+l+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(c){throw c instanceof Error?zE(o,t,c.message):zE(o,t,c)}}var MC=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!fC(e)||t(e)},this.optional=!!e}}();function LC(t,e){function n(t){if(!gC(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new MC(r,e)}function FC(t){return new MC(RC,t)}function VC(){return new MC(function(t){if(!(function(t){return"number"==typeof t||t instanceof Number}(t)&&t>=0))throw"Expected a number 0 or greater."})}function UC(t,e){return new MC(function(e){if(!(null===e||hC(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)},e)}function jC(t){return new MC(function(t){if(null!==t&&!pC(t))throw"Expected a Function."},t)}function BC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var qC=function(){function t(t,e){var n=0,r="";yC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(yC(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(vC()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=BC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(vC())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}).apply(null,r))}var i=e.map(function(t){return gC(t)?JE(YE.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function HC(t,e){return-1!==t.indexOf(e)}var WC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function zC(t){if(!t)throw qE()}function GC(t,e){return function(n,r){var i=AC(t,r,e);return zC(null!==i),i}}function KC(t){return function(e,n){var r;return(r=401===e.getStatus()?new UE(jE.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new UE(jE.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new UE(jE.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function QC(t){var e=KC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new UE(jE.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function YC(t,e,n){var r=TC(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new WC(r,"GET",GC(t,n),i);return o.errorHandler=QC(e),o}function $C(t,e,n){var r=uC(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var XC=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function JC(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){zC(!1)}return zC(HC(e||["active"],n)),n}var ZC=function(){return function(t,e,n){if(pC(t)||hC(e)||hC(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),tS=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function eS(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];cC(!0).then(function(){t.apply(null,e)})}}var nS=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=rC.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(jE.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(rC.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(jE.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(rC.ERROR))},this.promise_=lC(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===rC.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case rC.RUNNING:t(n);break;case rC.CANCELING:e.transition_(rC.CANCELED);break;case rC.PAUSING:e.transition_(rC.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=$C(e,r,i),s={name:a.fullPath},u=IC(o),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=NC(a,n),h=t.maxUploadRetryTime(),f=new WC(u,"POST",function(t,e){var n;JC(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(r){zC(!1)}return zC(gC(n)),n},h);return f.urlParams=s,f.headers=l,f.body=c,f.errorHandler=KC(e),f}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,n,r,i){var o=t.authWrapper_.maxUploadRetryTime(),a=new WC(r,"POST",function(t,e){var n,r=JC(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){zC(!1)}var o=parseInt(n,10);return zC(!isNaN(o)),new XC(o,i.size(),"final"===r)},o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=KC(n),a}(0,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new XC(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new XC(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new UE(jE.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,f={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,h+c);if(null===p)throw WE();var d=e.maxUploadRetryTime(),m=new WC(n,"POST",function(t,n){var i,a=JC(t,["active","final"]),s=u.current+c,l=r.size();return i="final"===a?GC(e,o)(t,n):null,new XC(s,l,"final"===a,i)},d);return m.headers=f,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=KC(t),m}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(rC.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(rC.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=YC(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(rC.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=$C(e,r,i),l=NC(u,n),c=qC.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw WE();var h={name:u.fullPath},f=IC(o),p=t.maxUploadRetryTime(),d=new WC(f,"POST",GC(t,n),p);return d.urlParams=h,d.headers=a,d.body=c.uploadData(),d.errorHandler=KC(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(rC.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case rC.CANCELING:case rC.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case rC.RUNNING:var e=this.state_===rC.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case rC.PAUSED:this.state_=t,this.notifyObservers_();break;case rC.CANCELED:this.error_=HE(),this.state_=t,this.notifyObservers_();break;case rC.ERROR:case rC.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case rC.PAUSING:this.transition_(rC.PAUSED);break;case rC.CANCELING:this.transition_(rC.CANCELED);break;case rC.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=oC(this.state_);return new tS(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=jC(!0).validator,a=UC(null,!0).validator;function s(t){try{return void o(t)}catch(e){}try{if(a(t),!(fC(t.next)||fC(t.error)||fC(t.complete)))throw"";return}catch(e){throw i}}PC("on",[LC(function(e){if(t!==nC.STATE_CHANGED)throw"Expected one of the event types: ["+nC.STATE_CHANGED+"]."}),UC(s,!0),jC(!0),jC(!0)],arguments);var u=this;function l(t){return function(e,n,i){null!==t&&PC("on",t,arguments);var o=new ZC(e,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var c=[UC(function(t){if(null===t)throw i;s(t)}),jC(!0),jC(!0)];return fC(e)||fC(n)||fC(r)?l(null)(e,n,r):l(c)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e,n;-1!==(n=(e=this.observers_).indexOf(t))&&e.splice(n,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Array.prototype.slice.call(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(oC(this.state_)){case iC.SUCCESS:eS(this.resolve_.bind(null,this.snapshot))();break;case iC.CANCELED:case iC.ERROR:eS(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(oC(this.state_)){case iC.RUNNING:case iC.PAUSED:null!==t.next&&eS(t.next.bind(t,this.snapshot))();break;case iC.SUCCESS:null!==t.complete&&eS(t.complete.bind(t))();break;case iC.CANCELED:case iC.ERROR:null!==t.error&&eS(t.error.bind(t,this.error_))();break;default:null!==t.error&&eS(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){PC("resume",[],arguments);var t=this.state_===rC.PAUSED||this.state_===rC.PAUSING;return t&&this.transition_(rC.RUNNING),t},t.prototype.pause=function(){PC("pause",[],arguments);var t=this.state_===rC.RUNNING;return t&&this.transition_(rC.PAUSING),t},t.prototype.cancel=function(){PC("cancel",[],arguments);var t=this.state_===rC.RUNNING||this.state_===rC.PAUSING;return t&&this.transition_(rC.CANCELING),t},t}(),rS=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof CC?e:CC.makeFromUrl(e)}return t.prototype.toString=function(){return PC("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(OC)return OC;var t=[];t.push(new xC("bucket")),t.push(new xC("generation")),t.push(new xC("metageneration")),t.push(new xC("name","fullPath",!0));var e=new xC("name");e.xform=function(t,e){return function(t){return!gC(t)||t.length<2?t:SC(t=t)}(e)},t.push(e);var n=new xC("size");return n.xform=function(t,e){return hC(e)?+e:e},t.push(n),t.push(new xC("timeCreated")),t.push(new xC("updated")),t.push(new xC("md5Hash",null,!0)),t.push(new xC("cacheControl",null,!0)),t.push(new xC("contentDisposition",null,!0)),t.push(new xC("contentEncoding",null,!0)),t.push(new xC("contentLanguage",null,!0)),t.push(new xC("contentType",null,!0)),t.push(new xC("metadata","customMetadata",!0)),OC=t}()},t.prototype.child=function(t){PC("child",[LC()],arguments);var e=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new CC(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new CC(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new CC(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return SC(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),PC("put",[new MC(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||vC()&&t instanceof Blob))throw"Expected Blob or File."}),FC(!0)],arguments),this.throwIfRoot_("put"),new nS(this,this.authWrapper,this.location,this.mappings(),new qC(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=YE.RAW),PC("putString",[LC(),LC($E,!0),FC(!0)],arguments),this.throwIfRoot_("putString");var r=JE(e,t),i=uC(n);return!hC(i.contentType)&&hC(r.contentType)&&(i.contentType=r.contentType),new nS(this,this.authWrapper,this.location,this.mappings(),new qC(r.data,!0),i)},t.prototype.delete=function(){PC("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e){var n=TC(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new WC(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=QC(e),i}(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){PC("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=YC(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){PC("updateMetadata",[FC()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(t,e,n,r){var i=TC(e.fullServerUrl()),o=NC(n,r),a=t.maxOperationRetryTime(),s=new WC(i,"PATCH",GC(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=QC(e),s}(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){PC("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=function(t,e,n){var r=TC(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new WC(r,"GET",function(t,e){return function(n,r){var i=AC(t,r,e);return zC(null!==i),function(t,e){var n=EC(r);if(null===n)return null;if(!gC(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var n,r=t.fullPath;return n="/b/"+o(t.bucket)+"/o/"+o(r),RE+PE+n+kC({alt:"media",token:e})})[0]}(i)}}(t,n),i);return o.errorHandler=QC(e),o}(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new UE(jE.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new UE(jE.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),iS=function(){function t(t){this.promise_=function(t){return Promise.reject(t)}(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),oS=function(){function t(){this.map_={},this.id_=VE}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function r(){delete n.map_[e]}t.getPromise().then(r,r)},t.prototype.clear=function(){sC(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),aS=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;hC(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=LE,this.maxUploadRetryTime_=FE,this.requestMap_=new oS}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:CC.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&hC(this.app_.INTERNAL)&&hC(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):cC(null)},t.prototype.bucket=function(){if(this.deleted_)throw GE();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new iS(GE());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),sS=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=l,this.timeout_=u,this.pool_=c;var h=this;this.promise_=lC(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());fC(s)?i(s):i()}catch(u){o(u)}else null!==a?((r=qE()).setServerResponseProp(a.getResponseText()),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?GE():HE():new UE(jE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new uS(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function l(){u||(u=!0,e.apply(null,arguments))}function c(e){i=setTimeout(function(){i=null,t(h,s())},e)}function h(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?l.apply(null,arguments):s()||o?l.apply(null,arguments):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),c(e)))}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(a=2),clearTimeout(i),c(0)):t||(a=1)))}return c(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(e,n){if(n)e(!1,new uS(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===bC.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=HC(t.successCodes_,o);e(!0,new uS(a,n))}else{var s=n.getErrorCode()===bC.ABORT;e(!1,new uS(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=HC([408,429],t),r=HC(this.additionalRetryCodes_,t);return e||n||r},t}(),uS=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function lS(t,e,n){var r=kC(t.urlParams),i=t.url+r,o=uC(t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Cs.a?Cs.a.SDK_VERSION:"AppManager")}(o),new sS(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var cS=function(){function t(t,e,n){if(this.bucket_=null,this.authWrapper_=new aS(t,function(t,e){return new rS(t,e)},lS,this,e),this.app_=t,null!=n)this.bucket_=CC.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new CC(r,""))}this.internals_=new hS(this)}return t.prototype.ref=function(t){if(PC("ref",[LC(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new rS(this.authWrapper_,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){return PC("refFromURL",[LC(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{CC.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new rS(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){PC("setMaxUploadRetryTime",[VC()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){PC("setMaxOperationRetryTime",[VC()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),hS=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),cC(void 0)},t}();Cs.a.INTERNAL.registerService("storage",function(t,e,n){return new cS(t,new wC,n)},{TaskState:iC,TaskEvent:nC,StringFormat:YE,Storage:cS,Reference:rS},void 0,!0);var fS=function(){return function(){}}(),pS=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new dS(t,this.callback))},t}(),dS=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new g(n)),r}return r.__extends(e,t),e}(b),mS=function(){function t(t,e){this.storage=t,this.db=e}return t.prototype.toggleHover=function(t){this.isHovering=t},t.prototype.startUpload=function(t){var e=this,n=t.item(0);if("image"===n.type.split("/")[0]){var r,i="test/"+(new Date).getTime()+"_"+n.name;this.task=this.storage.upload(i,n,{customMetadata:{app:"My AngularFire-powered PWA!"}}),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(pl(function(t){t.bytesTransferred===t.totalBytes&&e.db.collection("photos").add({path:i,size:t.totalBytes})}),(r=function(){return e.downloadURL=e.storage.ref(i).getDownloadURL()},function(t){return t.lift(new pS(r))}))}else console.error("unsupported file type :( ")},t.prototype.isActive=function(t){return"running"===t.state&&t.bytesTransferred<t.totalBytes},t}(),gS=Hr({encapsulation:0,styles:[[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;font-weight:200;height:300px;border:2px dashed #f16624;border-radius:5px;background:#fff;margin:10px 0}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #f16624;color:#dadada!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{transition:width .1s ease}img[_ngcontent-%COMP%]{width:250px}"]],data:{}});function yS(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,0,"progress",[["class","progress is-info"],["max","100"]],[[8,"value",0]],null,null,null,null)),(t()(),Lo(2,null,[" ","% "])),Ro(3,1)],null,function(t,e){t(e,1,0,e.context.ngIf);var n=jr(e,2,0,t(e,3,0,Yi(e.parent,0),e.context.ngIf));t(e,2,0,n)})}function vS(t){return Uo(0,[(t()(),_i(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Results!"])),(t()(),_i(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),_i(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_i(5,0,null,null,1,"a",[["rel","noopener"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(t()(),Lo(-1,null,["Download Me!"]))],null,function(t,e){t(e,3,0,e.context.ngIf),t(e,5,0,e.context.ngIf)})}function bS(t){return Uo(0,[(t()(),_i(0,0,null,null,13,"div",[],null,null,null,null,null)),(t()(),Lo(1,null,[" "," of "," "])),Ro(2,1),Ro(3,1),(t()(),bi(16777216,null,null,2,null,vS)),uo(5,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),_i(7,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(8,0,null,null,1,"button",[["class","button is-warning"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.task.pause()&&r),r},null,null)),(t()(),Lo(-1,null,["Pause"])),(t()(),_i(10,0,null,null,1,"button",[["class","button is-danger"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.task.cancel()&&r),r},null,null)),(t()(),Lo(-1,null,["Cancel"])),(t()(),_i(12,0,null,null,1,"button",[["class","button is-info"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.task.resume()&&r),r},null,null)),(t()(),Lo(-1,null,["Resume"]))],function(t,e){var n=e.component;t(e,5,0,jr(e,5,0,Yi(e,6).transform(n.downloadURL)))},function(t,e){var n=e.component,r=jr(e,1,0,t(e,2,0,Yi(e.parent,1),e.context.ngIf.bytesTransferred)),i=jr(e,1,1,t(e,3,0,Yi(e.parent,1),e.context.ngIf.totalBytes));t(e,1,0,r,i),t(e,8,0,!n.isActive(e.context.ngIf)),t(e,10,0,!n.isActive(e.context.ngIf)),t(e,12,0,!("paused"===(null==e.context.ngIf?null:e.context.ngIf.state)))})}function _S(t){return Uo(0,[lo(0,Hu,[Xn]),lo(0,IE,[]),(t()(),_i(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Firebase Storage Demo"])),(t()(),_i(4,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" Learn how to build an "])),(t()(),_i(6,0,null,null,1,"a",[["href","https://angularfirebase.com/lessons/firebase-storage-with-angularfire-dropzone-file-uploader/"]],null,null,null,null,null)),(t()(),Lo(-1,null,["AngularFirebase dropzone uploader"])),(t()(),_i(8,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(9,0,null,null,13,"div",[["class","dropzone"],["dropZone",""]],[[2,"hovering",null]],[[null,"hovered"],[null,"dropped"],[null,"drop"],[null,"dragover"],[null,"dragleave"]],function(t,e,n){var r=!0,i=t.component;return"drop"===e&&(r=!1!==Yi(t,10).onDrop(n)&&r),"dragover"===e&&(r=!1!==Yi(t,10).onDragOver(n)&&r),"dragleave"===e&&(r=!1!==Yi(t,10).onDragLeave(n)&&r),"hovered"===e&&(r=!1!==i.toggleHover(n)&&r),"dropped"===e&&(r=!1!==i.startUpload(n)&&r),r},null,null)),uo(10,16384,null,0,kE,[],null,{dropped:"dropped",hovered:"hovered"}),(t()(),_i(11,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["AngularFire Drop Zone"])),(t()(),_i(13,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Drag and Drop a File"])),(t()(),_i(15,0,null,null,7,"div",[["class","file"]],null,null,null,null,null)),(t()(),_i(16,0,null,null,6,"label",[["class","file-label"]],null,null,null,null,null)),(t()(),_i(17,0,null,null,0,"input",[["class","file-input"],["type","file"]],null,[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.startUpload(n.target.files)&&r),r},null,null)),(t()(),_i(18,0,null,null,4,"span",[["class","file-cta"]],null,null,null,null,null)),(t()(),_i(19,0,null,null,1,"span",[["class","file-icon"]],null,null,null,null,null)),(t()(),_i(20,0,null,null,0,"i",[["class","fa fa-upload"]],null,null,null,null,null)),(t()(),_i(21,0,null,null,1,"span",[["class","file-label"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" or choose a file\u2026 "])),(t()(),bi(16777216,null,null,2,null,yS)),uo(24,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(16777216,null,null,2,null,bS)),uo(27,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n=e.component;t(e,24,0,jr(e,24,0,Yi(e,25).transform(n.percentage))),t(e,27,0,jr(e,27,0,Yi(e,28).transform(n.snapshot)))},function(t,e){t(e,9,0,e.component.isHovering)})}function wS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"upload-page",[],null,null,null,_S,gS)),uo(1,49152,null,0,mS,[AE,Hl],null,null)],null,null)}var ES=Vi("upload-page",mS,wS,{},{},[]),CS=function(){function t(t){this.usersService=t}return t.prototype.modifyUser=function(){this.usr.id?this.usersService.updateUser(this.usr.id,{}):console.error("Note missing ID!")},t.prototype.toggleAdmin=function(t){this.usr.id?this.usersService.updateUser(this.usr.id,{isAdmin:!this.usr.isAdmin}):console.error("User missing ID!")},t.prototype.deleteUser=function(t){this.usersService.deleteUser(t)},t}(),SS=Hr({encapsulation:0,styles:[["hr.dbline[_ngcontent-%COMP%]{border-top:3px double #8c8b8b}"]],data:{}});function TS(t){return Uo(0,[(t()(),_i(0,0,null,null,11,"div",[["class","basic-note"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(2,null,["","/",""])),(t()(),_i(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(4,null,["",""])),(t()(),_i(5,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),_i(6,0,null,null,1,"a",[["target","_top"]],[[8,"href",4]],null,null,null,null)),(t()(),Lo(7,null,["",""])),(t()(),_i(8,0,null,null,2,"span",[["class","button is-small is-info"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.toggleAdmin(null==i.usr?null:i.usr.isAdmin)&&r),r},null,null)),(t()(),Lo(9,null,[" Admin: ",""])),(t()(),_i(10,0,null,null,0,"i",[["class","fa fa-user"],["style","margin-left: 5px;"]],null,null,null,null,null)),(t()(),_i(11,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,2,0,n.usr.displayName,n.usr.company),t(e,4,0,n.usr.phone),t(e,6,0,gi(1,"mailto:",n.usr.email,"")),t(e,7,0,n.usr.email),t(e,9,0,n.usr.isAdmin)})}var IS=function(){function t(t,e){this.usrsService=t,this.auth=e}return t.prototype.ngOnInit=function(){this.users=this.usrsService.getData()},t}(),kS=Hr({encapsulation:0,styles:[[""]],data:{}});function DS(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function xS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["GUEST"])),(t()(),_i(2,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be registered, logged in and admin to manage users"])),(t()(),_i(4,0,null,null,1,"button",[["class","button"],["routerLink","/login"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Login/Register"]))],null,null)}function OS(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"user-details",[],null,null,null,TS,SS)),uo(2,49152,null,0,CS,[Kl],{usr:[0,"usr"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},null)}function AS(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,OS)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n=e.component;t(e,2,0,jr(e,2,0,Yi(e,3).transform(n.users)))},null)}function NS(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,AS)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(t,e){t(e,2,0,e.context.ngIf.isAdmin,Yi(e.parent.parent,6))},null)}function RS(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,NS)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)))},null)}function PS(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"h3",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be admin to manage users."])),(t()(),_i(3,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Contact your administrator to get admin status."]))],null,null)}function MS(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","box"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,DS)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["guest",2]],null,0,null,xS)),(t()(),bi(0,[["authenticated",2]],null,0,null,RS)),(t()(),bi(0,[["noadmin",2]],null,0,null,PS))],function(t,e){var n=e.component;t(e,2,0,jr(e,2,0,Yi(e,3).transform(n.auth.user)),Yi(e,5),Yi(e,4))},null)}function LS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"user-list",[],null,null,null,MS,kS)),uo(1,114688,null,0,IS,[Kl,Ql],null,null)],function(t,e){t(e,1,0)},null)}var FS=Vi("user-list",IS,LS,{},{},[]),VS=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},US=function(){function t(t){this.afs=t,this.machinesCollection=this.afs.collection("machines",function(t){return t.orderBy("name","desc")})}return t.prototype.getData=function(){return this.machinesCollection.snapshotChanges().pipe(j(function(t){return t.map(function(t){var e=t.payload.doc.data();return VS({id:t.payload.doc.id},e)})}))},t.prototype.getMachine=function(t){return this.afs.doc("machines/"+t)},t.prototype.createMachine=function(t,e,n){return this.machinesCollection.add({name:t,ip:e,enabled:n})},t.prototype.updateMachine=function(t,e){return this.getMachine(t).update(e)},t.prototype.deleteMachine=function(t){return this.getMachine(t).delete()},t}(),jS=function(){function t(t){this.machinesService=t,this.tabId="machineinfo"}return t.prototype.updateMachine=function(t){this.machine.id?this.machinesService.updateMachine(t,{name:this.newname||this.machine.name,ip:this.newip||this.machine.ip,enabled:this.machine.enabled}):console.error("Machine missing ID!")},t.prototype.toggleEnabled=function(t){this.machine.id?this.machinesService.updateMachine(this.machine.id,{enabled:!this.machine.enabled}):console.error("User missing ID!")},t.prototype.deleteMachine=function(t){this.machinesService.deleteMachine(t)},t.prototype.showTab=function(t){this.tabId=t},t}(),BS=Hr({encapsulation:0,styles:[["hr.dbline[_ngcontent-%COMP%]{border-top:3px double #8c8b8b}"]],data:{}});function qS(t){return Uo(0,[(t()(),_i(0,0,null,null,18,"div",[["class","tab"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,17,"div",[["class","basic-note"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),_i(3,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Lo(4,null,["Machine Name: ",""])),(t()(),_i(5,0,null,null,5,"input",[["class","input"],["name","newname"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yi(t,6)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,6).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,6)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,6)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.newname=n)&&r),r},null,null)),uo(6,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(8,671744,null,0,dm,[[8,null],[8,null],[8,null],[6,yd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),co(2048,null,Td,null,[dm]),uo(10,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(12,null,["Machine IP: ",""])),(t()(),_i(13,0,null,null,5,"input",[["class","input"],["name","newip"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yi(t,14)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,14).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,14)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,14)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.newip=n)&&r),r},null,null)),uo(14,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(16,671744,null,0,dm,[[8,null],[8,null],[8,null],[6,yd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),co(2048,null,Td,null,[dm]),uo(18,16384,null,0,tm,[[4,Td]],null,null)],function(t,e){var n=e.component;t(e,8,0,"newname",n.newname),t(e,16,0,"newip",n.newip)},function(t,e){var n=e.component;t(e,4,0,n.machine.name),t(e,5,0,gi(1,"",n.machine.name,""),Yi(e,10).ngClassUntouched,Yi(e,10).ngClassTouched,Yi(e,10).ngClassPristine,Yi(e,10).ngClassDirty,Yi(e,10).ngClassValid,Yi(e,10).ngClassInvalid,Yi(e,10).ngClassPending),t(e,12,0,n.machine.ip),t(e,13,0,gi(1,"",n.machine.ip,""),Yi(e,18).ngClassUntouched,Yi(e,18).ngClassTouched,Yi(e,18).ngClassPristine,Yi(e,18).ngClassDirty,Yi(e,18).ngClassValid,Yi(e,18).ngClassInvalid,Yi(e,18).ngClassPending)})}function HS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Names of Digital inputs can be set here "]))],null,null)}function WS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Names of Analog inputs can be set here "]))],null,null)}function zS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Names of counters can be set here "]))],null,null)}function GS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Names of duration measurements can be set here "]))],null,null)}function KS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Names of error codes can be set here "]))],null,null)}function QS(t){return Uo(0,[(t()(),_i(0,0,null,null,12,"div",[["class","tab-buttons"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("machineinfo")&&r),r},null,null)),(t()(),Lo(-1,null,[" Machine Info "])),(t()(),_i(3,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("dinames")&&r),r},null,null)),(t()(),Lo(-1,null,[" DI Names "])),(t()(),_i(5,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("ainames")&&r),r},null,null)),(t()(),Lo(-1,null,[" AI Names "])),(t()(),_i(7,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("counters")&&r),r},null,null)),(t()(),Lo(-1,null,[" Counters "])),(t()(),_i(9,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("durations")&&r),r},null,null)),(t()(),Lo(-1,null,[" Durations "])),(t()(),_i(11,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("errorcodes")&&r),r},null,null)),(t()(),Lo(-1,null,[" Error Codes "])),(t()(),_i(13,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null)),(t()(),_i(14,0,null,null,12,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,qS)),uo(16,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,HS)),uo(18,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,WS)),uo(20,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,zS)),uo(22,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,GS)),uo(24,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,KS)),uo(26,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(27,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null)),(t()(),_i(28,0,null,null,1,"span",[["class","button is-small is-info"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.updateMachine(null==i.machine?null:i.machine.id)&&r),r},null,null)),(t()(),Lo(-1,null,[" Save changes "])),(t()(),_i(30,0,null,null,1,"span",[["class","button is-small is-info"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.toggleEnabled(null==i.machine?null:i.machine.enabled)&&r),r},null,null)),(t()(),Lo(31,null,["\nEnabled: ","\n"])),(t()(),_i(32,0,null,null,1,"span",[["class","button is-small is-danger"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.deleteMachine(null==i.machine?null:i.machine.id)&&r),r},null,null)),(t()(),Lo(-1,null,["Delete"])),(t()(),_i(34,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null)),(t()(),_i(35,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,16,0,"machineinfo"===n.tabId),t(e,18,0,"dinames"===n.tabId),t(e,20,0,"ainames"===n.tabId),t(e,22,0,"counters"===n.tabId),t(e,24,0,"durations"===n.tabId),t(e,26,0,"errorcodes"===n.tabId)},function(t,e){t(e,31,0,e.component.machine.enabled)})}var YS=function(){function t(t,e){this.machinesService=t,this.auth=e,this.enabled=!0}return t.prototype.ngOnInit=function(){this.machines=this.machinesService.getData()},t.prototype.clickHandler=function(){this.machinesService.createMachine(this.name,this.ip,this.enabled),this.name="",this.ip=""},t}(),$S=Hr({encapsulation:0,styles:[[""]],data:{}});function XS(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function JS(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["GUEST"])),(t()(),_i(2,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be registered, logged in and admin to manage machines"])),(t()(),_i(4,0,null,null,1,"button",[["class","button"],["routerLink","/login"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Login/Register"]))],null,null)}function ZS(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"machine-details",[],null,null,null,QS,BS)),uo(2,49152,null,0,jS,[US],{machine:[0,"machine"]},null)],function(t,e){t(e,2,0,e.context.$implicit)},null)}function tT(t){return Uo(0,[(t()(),_i(0,0,null,null,21,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Add new machine or edit machines below: "])),(t()(),_i(4,0,null,null,5,"input",[["class","input"],["name","machinename"],["placeholder","Machine name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yi(t,5)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,5).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,5)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,5)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.name=n)&&r),r},null,null)),uo(5,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(7,671744,null,0,dm,[[8,null],[8,null],[8,null],[6,yd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),co(2048,null,Td,null,[dm]),uo(9,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(10,0,null,null,5,"input",[["class","input"],["name","machineip"],["placeholder","Machine ip address"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==Yi(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Yi(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==Yi(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Yi(t,11)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.ip=n)&&r),r},null,null)),uo(11,16384,null,0,_d,[pn,dn,[2,bd]],null,null),co(1024,null,yd,function(t){return[t]},[_d]),uo(13,671744,null,0,dm,[[8,null],[8,null],[8,null],[6,yd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),co(2048,null,Td,null,[dm]),uo(15,16384,null,0,tm,[[4,Td]],null,null),(t()(),_i(16,0,null,null,1,"button",[["class","button is-success"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.clickHandler()&&r),r},null,null)),(t()(),Lo(-1,null,[" Add Machine "])),(t()(),_i(18,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,ZS)),uo(20,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n=e.component;t(e,7,0,"machinename",n.name),t(e,13,0,"machineip",n.ip),t(e,20,0,jr(e,20,0,Yi(e,21).transform(n.machines)))},function(t,e){var n=e.component;t(e,4,0,Yi(e,9).ngClassUntouched,Yi(e,9).ngClassTouched,Yi(e,9).ngClassPristine,Yi(e,9).ngClassDirty,Yi(e,9).ngClassValid,Yi(e,9).ngClassInvalid,Yi(e,9).ngClassPending),t(e,10,0,Yi(e,15).ngClassUntouched,Yi(e,15).ngClassTouched,Yi(e,15).ngClassPristine,Yi(e,15).ngClassDirty,Yi(e,15).ngClassValid,Yi(e,15).ngClassInvalid,Yi(e,15).ngClassPending),t(e,16,0,(null==n.name?null:n.name.length)<2||(null==n.name?null:n.name.length)>200||(null==n.ip?null:n.ip.length)<7||(null==n.ip?null:n.ip.length)>15)})}function eT(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,tT)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(t,e){t(e,2,0,e.context.ngIf.isAdmin,Yi(e.parent.parent,6))},null)}function nT(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,eT)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)))},null)}function rT(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"h3",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be admin to manage machines."])),(t()(),_i(3,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Contact your administrator to get admin status."]))],null,null)}function iT(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","box"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,XS)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["guest",2]],null,0,null,JS)),(t()(),bi(0,[["authenticated",2]],null,0,null,nT)),(t()(),bi(0,[["noadmin",2]],null,0,null,rT))],function(t,e){var n=e.component;t(e,2,0,jr(e,2,0,Yi(e,3).transform(n.auth.user)),Yi(e,5),Yi(e,4))},null)}function oT(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"machines-list",[],null,null,null,iT,$S)),uo(1,114688,null,0,YS,[US,Ql],null,null)],function(t,e){t(e,1,0)},null)}var aT=Vi("machines-list",YS,oT,{},{},[]);function sT(t,e){return void 0===e&&(e=0),isNaN(parseFloat(t))||isNaN(Number(t))?e:Number(t)}function uT(t){return t+"px"}var lT={MIN:0,MAX:100,TYPE:"arch",THICK:4,FOREGROUND_COLOR:"rgba(0, 150, 136, 1)",BACKGROUND_COLOR:"rgba(0, 0, 0, 0.1)",CAP:"butt",SIZE:200},cT=function(){function t(t,e){this._elementRef=t,this._renderer=e,this._size=lT.SIZE,this._min=lT.MIN,this._max=lT.MAX,this._initialized=!1,this._animationRequestID=0,this.max=lT.MAX,this.type=lT.TYPE,this.cap=lT.CAP,this.thick=lT.THICK,this.foregroundColor=lT.FOREGROUND_COLOR,this.backgroundColor=lT.BACKGROUND_COLOR,this.thresholds=Object.create(null),this._value=0,this.duration=1200}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=sT(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._min=sT(t,lT.MIN)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=sT(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){var e=t.label||t.append||t.prepend;if(this._initialized)if(t.value||t.min||t.max){var n=void 0,r=void 0;t.value&&(n=t.value.currentValue,r=t.value.previousValue),this._update(n,r)}else e||(this._destroy(),this._init())},t.prototype._updateSize=function(){this._renderer.setElementStyle(this._elementRef.nativeElement,"width",uT(this._size)),this._renderer.setElementStyle(this._elementRef.nativeElement,"height",uT(this._size))},t.prototype.ngAfterViewInit=function(){this._canvas&&this._init()},t.prototype.ngOnDestroy=function(){this._destroy()},t.prototype._getBounds=function(t){var e,n;return"semi"==t?(e=Math.PI,n=2*Math.PI):"full"==t?(e=1.5*Math.PI,n=3.5*Math.PI):"arch"===t&&(e=.8*Math.PI,n=2.2*Math.PI),{head:e,tail:n}},t.prototype._drawShell=function(t,e,n,r){var i=this._getCenter(),o=this._getRadius();e=Math.max(e,t),e=Math.min(e,n),this._clear(),this._context.beginPath(),this._context.strokeStyle=this.backgroundColor,this._context.arc(i.x,i.y,o,e,n,!1),this._context.stroke(),this._context.beginPath(),this._context.strokeStyle=r,this._context.arc(i.x,i.y,o,t,e,!1),this._context.stroke()},t.prototype._clear=function(){this._context.clearRect(0,0,this._getWidth(),this._getHeight())},t.prototype._getWidth=function(){return this.size},t.prototype._getHeight=function(){return this.size},t.prototype._getRadius=function(){return this._getCenter().x-this.thick},t.prototype._getCenter=function(){return{x:this._getWidth()/2,y:this._getHeight()/2}},t.prototype._init=function(){this._context=this._canvas.nativeElement.getContext("2d"),this._initialized=!0,this._updateSize(),this._setupStyles(),this._create()},t.prototype._destroy=function(){this._animationRequestID&&(window.cancelAnimationFrame(this._animationRequestID),this._animationRequestID=0),this._clear(),this._context=null},t.prototype._setupStyles=function(){this._context.canvas.width=this.size,this._context.canvas.height=this.size,this._context.lineCap=this.cap,this._context.lineWidth=this.thick},t.prototype._getForegroundColorByRange=function(t){var e=Object.keys(this.thresholds).filter(function(e){return function(t){return null!=t&&!isNaN(parseFloat(t))&&!isNaN(Number(t))}(e)&&Number(e)<=t}).sort(function(t,e){return Number(t)-Number(e)}).reverse()[0];return void 0!==e&&this.thresholds[e].color||this.foregroundColor},t.prototype._create=function(t,e){var n,r=this,i=this._getBounds(this.type),o=this.duration,a=this.min,s=this.max,u=function(t,e,n){return Math.max(e,Math.min(n,t))}(this.value,this.min,this.max),l=i.head,c=(i.tail-i.head)/(s-a),h=c*(u-a),f=i.tail,p=this._getForegroundColorByRange(u);null!=t&&null!=e&&(h=c*t-c*e),r._animationRequestID=window.requestAnimationFrame(function(t){n=t||(new Date).getTime(),function t(i){var a=(i=i||(new Date).getTime())-n,s=Math.min(a/o,1);r._drawShell(l,l+(e?e*c:0)+h*s,f,p),r._animationRequestID&&a<o?r._animationRequestID=window.requestAnimationFrame(function(e){return t(e)}):window.cancelAnimationFrame(r._animationRequestID)}(t)})},t.prototype._update=function(t,e){this._clear(),this._create(t,e)},t}(),hT=function(){return function(){}}(),fT=Hr({encapsulation:2,styles:["\n      .ngx-gauge-meter {\n          display: inline-block;\n          text-align: center;\n          position: relative;\n      }\n\n      .reading-block {\n          position: absolute;\n          width: 100%;\n          font-weight: normal;\n          white-space: nowrap;\n          text-align: center;\n          overflow: hidden;\n          text-overflow: ellipsis;\n      }\n\n      .reading-label {\n          font-family: inherit;\n          width: 100%;\n          display: inline-block;\n          position: absolute;\n          text-align: center;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          font-weight: normal;\n      }\n\n      .reading-affix {\n          text-decoration: none;\n          font-size: 0.6em;\n          opacity: 0.8;\n          font-weight: 200;\n          padding: 0 0.18em;\n      }\n\n      .reading-affix:first-child {\n          padding-left: 0;\n      }\n\n      .reading-affix:last-child {\n          padding-right: 0;\n      }\n    "],data:{}});function pT(t){return Uo(0,[Ao(null,0),(t()(),bi(0,null,null,0))],null,null)}function dT(t){return Uo(0,[(t()(),_i(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Lo(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.prepend)})}function mT(t){return Uo(0,[Ao(null,1),(t()(),bi(0,null,null,0))],null,null)}function gT(t){return Uo(0,[(t()(),_i(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Lo(1,null,["",""])),Ro(2,1)],null,function(t,e){var n=e.component,r=jr(e,1,0,t(e,2,0,Yi(e.parent,0),n.value));t(e,1,0,r)})}function yT(t){return Uo(0,[Ao(null,2),(t()(),bi(0,null,null,0))],null,null)}function vT(t){return Uo(0,[(t()(),_i(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Lo(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.append)})}function bT(t){return Uo(0,[Ao(null,3),(t()(),bi(0,null,null,0))],null,null)}function _T(t){return Uo(0,[(t()(),_i(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Lo(1,null,["",""]))],null,function(t,e){t(e,1,0,e.component.label)})}function wT(t){return Uo(0,[lo(0,Hu,[Xn]),Io(402653184,1,{_canvas:0}),(t()(),_i(2,0,[["reading",1]],null,18,"div",[["class","reading-block"]],[[4,"fontSize",null],[4,"lineHeight",null]],null,null,null,null)),(t()(),_i(3,0,null,null,5,"u",[["class","reading-affix"]],null,null,null,null,null)),uo(4,16384,null,0,Pu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),bi(16777216,null,null,1,null,pT)),uo(6,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),bi(16777216,null,null,1,null,dT)),uo(8,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),_i(9,0,null,null,5,null,null,null,null,null,null,null)),uo(10,16384,null,0,Pu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),bi(16777216,null,null,1,null,mT)),uo(12,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),bi(16777216,null,null,1,null,gT)),uo(14,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),_i(15,0,null,null,5,"u",[["class","reading-affix"]],null,null,null,null,null)),uo(16,16384,null,0,Pu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),bi(16777216,null,null,1,null,yT)),uo(18,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),bi(16777216,null,null,1,null,vT)),uo(20,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),_i(21,0,null,null,5,"div",[["class","reading-label"]],[[4,"fontSize",null],[4,"lineHeight",null]],null,null,null,null)),uo(22,16384,null,0,Pu,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),bi(16777216,null,null,1,null,bT)),uo(24,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),bi(16777216,null,null,1,null,_T)),uo(26,278528,null,0,Mu,[En,wn,Pu],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),_i(27,0,[[1,0],["canvas",1]],null,0,"canvas",[],[[8,"width",0],[8,"height",0]],null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,null!=n._prependChild),t(e,6,0,!0),t(e,8,0,!1),t(e,10,0,null!=n._valueDisplayChild),t(e,12,0,!0),t(e,14,0,!1),t(e,16,0,null!=n._appendChild),t(e,18,0,!0),t(e,20,0,!1),t(e,22,0,null!=n._labelChild),t(e,24,0,!0),t(e,26,0,!1)},function(t,e){var n=e.component;t(e,2,0,.22*n.size+"px",n.size+"px"),t(e,21,0,n.size/13+"px",5*n.size/13+n.size+"px"),t(e,27,0,n.size,n.size)})}var ET=function(){function t(){}return t.prototype.transform=function(t){if(t)return t.reverse()},t}();function CT(t){return null==t}function ST(t){return"function"==typeof t.set}function TT(t,e){return ST(e)?e:t.ref(e)}function IT(t,e){if("string"==typeof t)return e.stringCase();if(ST(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}var kT=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new DT(t,this.delay,this.scheduler))},t}(),DT=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.__extends(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new xT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(Cy.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(Cy.createComplete())},e}(b),xT=function(){return function(t,e){this.time=t,this.notification=e}}();function OT(t,e,n){return void 0===n&&(n="on"),new T(function(r){var i=t[n](e,function(t,e){r.next({snapshot:t,prevKey:e}),"once"==n&&r.complete()},r.error.bind(r));return"on"==n?{unsubscribe:function(){t.off(e,i)}}:{unsubscribe:function(){}}}).pipe(j(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),function(t,e){void 0===e&&(e=Yy);var n=0 instanceof Date&&!isNaN(0)?0-e.now():Math.abs(0);return function(t){return t.lift(new kT(n,e))}}(),ht())}function AT(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function NT(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=AT(t,i),a=function(t,e){if(CT(e))return 0;var n=AT(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var s=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:s,key:e.key};return s=e.key,t=t.concat([n]),!1})}return t;case"child_added":if(o>-1){var u=t[o-1];(u&&u.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(a,0,e)}else{if(null==r)return[e].concat(t);(t=t.slice()).splice(a,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(o>-1){var l=t.splice(o,1)[0];return(t=t.slice()).splice(a,0,l),t}return t;default:return t}}function RT(t){return(CT(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function PT(t,e){return function(t,e){return OT(t,"value","once").pipe(Ds(function(n){var r=[ks(n)];return e.forEach(function(e){return r.push(OT(t,e))}),$.apply(void 0,r).pipe(Rl(NT,[]))}),jy())}(t,e=RT(e))}function MT(t,e){var n=(e=RT(e)).map(function(e){return OT(t,e)});return $.apply(void 0,n)}var LT=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new FT(t,this.predicate))},t}(),FT=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.__extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(b);function VT(t,e){return function(n,r){return IT(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function UT(t){return function(){return OT(t,"value")}}var jT=function(){function t(t,e,n,r,i){this.scheduler=new El(i,r),this.database=i.runOutsideAngular(function(){return Sl(t,e).database(n||void 0)})}return t.prototype.list=function(t,e){var n=TT(this.database,t),r=n;return e&&(r=e(n)),function(t,e){return{query:t,update:VT(t.ref,"update"),set:VT(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?IT(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){var r=PT(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},stateChanges:function(n){var r=MT(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},auditTrail:function(n){var r=function(t,e){return function(t,e){return function(t){return OT(t,"value").pipe(j(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t).pipe(j_(e),j(function(t){var e=t[1],n=t[0].lastKeyToLoad,r=e.map(function(t){return t.key});return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(n=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new LT(n))}),j(function(t){return t.actions}));var n}(t,MT(t,e).pipe(Rl(function(t,e){return t.concat([e])},[])))}(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r))},valueChanges:function(n){var r=PT(t,n);return e.scheduler.keepUnstableUntilFirst(e.scheduler.runOutsideAngular(r)).pipe(j(function(t){return t.map(function(t){return t.payload.val()})}))}};var n}(r,this)},t.prototype.object=function(t){var e,n,r=TT(this.database,t);return n=this,{query:e=r,snapshotChanges:function(){var t=UT(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t))},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){var t=UT(e)();return n.scheduler.keepUnstableUntilFirst(n.scheduler.runOutsideAngular(t)).pipe(j(function(t){return t.payload.exists()?t.payload.val():null}))}}},t.prototype.createPushId=function(){return this.database.ref().push().key},t}(),BT=(n("NSPt"),function(){return function(){}}()),qT=function(){function t(t){this.db=t}return t.prototype.getAll=function(t){return this.db.list("/events/"+t)},t}(),HT=function(){function t(t){this.db=t}return t.prototype.getAll=function(t){return this.db.list("/livedata/"+t)},t}(),WT=function(){function t(t){this.db=t}return t.prototype.getTemp=function(t){return this.db.object("/livedata/"+t+"/Temperature").valueChanges()},t}();T.prototype.map=function(t,e){return j(t,e)(this)};var zT=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},GT=function(){function t(t,e,n){this.eventsservice=t,this.livedataservice=e,this.temperatureservice=n,this.options={type:"semi",cap:"round",size:300,thick:20,label:"Temp.",append:"C",min:20,max:100,duration:1600,foregroundColor:"#009688",backgroundColor:"#ebebeb"},this.thresholdConfig={0:{color:"blue"},40:{color:"orangered"},75:{color:"red"}},this.tabId="main"}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t&&t.trim()||"",this.events$=this.eventsservice.getAll(this._name).snapshotChanges().map(function(t){return t.map(function(t){return zT({key:t.key},t.payload.val())})}),this.livedata$=this.livedataservice.getAll(this._name).snapshotChanges().map(function(t){return t.map(function(t){return zT({key:t.key},t.payload.val())})}),this.temperature=this.temperatureservice.getTemp(this._name)},enumerable:!0,configurable:!0}),t.prototype.showTab=function(t){this.tabId=t},t}(),KT=Hr({encapsulation:0,styles:[["hr.dbline[_ngcontent-%COMP%]{border-top:3px double #8c8b8b}.IndicatorOff[_ngcontent-%COMP%]{color:#ff4500}.IndicatorOn[_ngcontent-%COMP%]{color:#fff;background-color:#ff4500}"]],data:{}});function QT(t){return Uo(0,[(t()(),_i(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,5,"ngx-gauge",[["role","meter"]],[[2,"ngx-gauge-meter",null],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0]],null,null,wT,fT)),uo(2,4898816,null,4,cT,[dn,cn],{size:[0,"size"],type:[1,"type"],cap:[2,"cap"],thick:[3,"thick"],label:[4,"label"],append:[5,"append"],prepend:[6,"prepend"],foregroundColor:[7,"foregroundColor"],backgroundColor:[8,"backgroundColor"],thresholds:[9,"thresholds"],value:[10,"value"],duration:[11,"duration"]},null),Io(335544320,1,{_labelChild:0}),Io(335544320,2,{_prependChild:0}),Io(335544320,3,{_appendChild:0}),Io(335544320,4,{_valueDisplayChild:0})],function(t,e){var n=e.component;t(e,2,1,[n.options.size,n.options.type,n.options.cap,n.options.thick,n.options.label,n.options.append,n.options.prepend,n.options.foregroundColor,n.options.backgroundColor,n.thresholdConfig,e.context.$implicit,n.options.duration])},function(t,e){t(e,1,0,!0,Yi(e,2).min,Yi(e,2).max,Yi(e,2).value)})}function YT(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","IndicatorOn"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),Lo(3,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.parent.context.$implicit.Val),t(e,3,0," "+e.parent.parent.context.$implicit.Description)})}function $T(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","IndicatorOff"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),Lo(3,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.parent.context.$implicit.Val),t(e,3,0," "+e.parent.parent.context.$implicit.Description)})}function XT(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,YT)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,$T)),uo(4,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,"1"===e.parent.context.$implicit.Val),t(e,4,0,"0"===e.parent.context.$implicit.Val)},null)}function JT(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","IndicatorOn"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),Lo(3,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.parent.context.$implicit.Val),t(e,3,0," "+e.parent.parent.context.$implicit.Description)})}function ZT(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","IndicatorOff"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),Lo(3,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.parent.context.$implicit.Val),t(e,3,0," "+e.parent.parent.context.$implicit.Description)})}function tI(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,JT)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,ZT)),uo(4,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,"1"===e.parent.context.$implicit.Val),t(e,4,0,"0"===e.parent.context.$implicit.Val)},null)}function eI(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","IndicatorOn"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),Lo(3,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.parent.context.$implicit.Val),t(e,3,0," "+e.parent.parent.context.$implicit.Description)})}function nI(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["class","IndicatorOff"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),Lo(3,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.parent.context.$implicit.Val),t(e,3,0," "+e.parent.parent.context.$implicit.Description)})}function rI(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,eI)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,nI)),uo(4,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,"1"===e.parent.context.$implicit.Val),t(e,4,0,"0"===e.parent.context.$implicit.Val)},null)}function iI(t){return Uo(0,[(t()(),_i(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,XT)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,tI)),uo(4,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,rI)),uo(6,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,"Heater"===e.context.$implicit.Description),t(e,4,0,"Circulation Pump"===e.context.$implicit.Description),t(e,6,0,"Boiler Mix"===e.context.$implicit.Description)},null)}function oI(t){return Uo(0,[(t()(),_i(0,0,null,null,22,"div",[["class","tab"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,21,"div",[["class","columns"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,12,"aside",[["class","column is-4"]],null,null,null,null,null)),(t()(),_i(3,0,null,null,11,"div",[["class","basic-note"]],null,null,null,null,null)),(t()(),_i(4,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),_i(5,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Lo(6,null,["Machine Name: ",""])),(t()(),_i(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(8,null,["Description: ",""])),(t()(),_i(9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(10,null,["Type: ",""])),(t()(),_i(11,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(12,null,["IP address: ",""])),(t()(),_i(13,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(14,null,["Enabled: ",""])),(t()(),_i(15,0,null,null,3,"aside",[["class","column is-4"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,QT)),uo(17,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),_i(19,0,null,null,3,"main",[["class","column is-4"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,iI)),uo(21,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n,r=e.component;t(e,17,0,null==(n=jr(e,17,0,Yi(e,18).transform(r.temperature)))?null:n.Val),t(e,21,0,jr(e,21,0,Yi(e,22).transform(r.livedata$)))},function(t,e){var n=e.component;t(e,6,0,n.machine.name),t(e,8,0,n.machine.description),t(e,10,0,n.machine.type),t(e,12,0,n.machine.ip),t(e,14,0,n.machine.enabled)})}function aI(t){return Uo(0,[(t()(),_i(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),_i(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(4,null,["",""])),(t()(),_i(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(6,null,["",""])),(t()(),_i(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(8,null,["",""])),(t()(),_i(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(10,null,["",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.ID),t(e,4,0,e.context.$implicit.Datum),t(e,6,0,e.context.$implicit.Time),t(e,8,0,e.context.$implicit.Description),t(e,10,0,e.context.$implicit.Val)})}function sI(t){return Uo(0,[(t()(),_i(0,0,null,null,17,"div",[["class","tab"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,16,"table",[["class","table"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),_i(3,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),_i(4,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["ID"])),(t()(),_i(6,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Date"])),(t()(),_i(8,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Time"])),(t()(),_i(10,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Description"])),(t()(),_i(12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Value"])),(t()(),_i(14,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,aI)),uo(16,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n=e.component;t(e,16,0,jr(e,16,0,Yi(e,17).transform(n.livedata$)))},null)}function uI(t){return Uo(0,[(t()(),_i(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),_i(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(4,null,["",""])),(t()(),_i(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(6,null,["",""])),(t()(),_i(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(8,null,["",""])),(t()(),_i(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Lo(10,null,["",""]))],null,function(t,e){t(e,2,0,e.context.$implicit.ID),t(e,4,0,e.context.$implicit.Datum),t(e,6,0,e.context.$implicit.Time),t(e,8,0,e.context.$implicit.Description),t(e,10,0,e.context.$implicit.Val)})}function lI(t){return Uo(0,[(t()(),_i(0,0,null,null,18,"div",[["class","tab"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,17,"table",[["class","table"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),_i(3,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),_i(4,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["ID"])),(t()(),_i(6,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Date"])),(t()(),_i(8,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Time"])),(t()(),_i(10,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Description"])),(t()(),_i(12,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Value"])),(t()(),_i(14,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,3,null,uI)),uo(16,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn]),Ro(18,1)],function(t,e){var n=e.component,r=jr(e,16,0,t(e,18,0,Yi(e.parent,0),jr(e,16,0,Yi(e,17).transform(n.events$))));t(e,16,0,r)},null)}function cI(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(t()(),Lo(-1,null,[" Error codes here "]))],null,null)}function hI(t){return Uo(0,[lo(0,ET,[]),(t()(),_i(1,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,8,"div",[["class","tab-buttons"]],null,null,null,null,null)),(t()(),_i(3,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("main")&&r),r},null,null)),(t()(),Lo(-1,null,[" Main "])),(t()(),_i(5,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("data")&&r),r},null,null)),(t()(),Lo(-1,null,[" Data "])),(t()(),_i(7,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("events")&&r),r},null,null)),(t()(),Lo(-1,null,[" Events "])),(t()(),_i(9,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.showTab("errorcodes")&&r),r},null,null)),(t()(),Lo(-1,null,[" Errors "])),(t()(),_i(11,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(12,0,null,null,8,"div",[["class","tab-content"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,oI)),uo(14,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,sI)),uo(16,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,lI)),uo(18,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,cI)),uo(20,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(21,0,null,null,0,"hr",[["class","dbline"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,14,0,"main"===n.tabId),t(e,16,0,"data"===n.tabId),t(e,18,0,"events"===n.tabId),t(e,20,0,"errorcodes"===n.tabId)},null)}var fI=function(){function t(t){this.machinesService=t,this.selectedmachine="",this.selectedmachinename=""}return t.prototype.ngOnInit=function(){this.machines=this.machinesService.getData()},t}(),pI=Hr({encapsulation:0,styles:[[""]],data:{}});function dI(t){return Uo(0,[(t()(),_i(0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,4,"label",[["class","btn-primary"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),uo(2,16384,null,0,n_,[],null,null),(t()(),_i(3,0,null,null,1,"input",[["ngbButton",""],["type","radio"]],[[8,"checked",0],[8,"disabled",0],[8,"name",0]],[[null,"change"],[null,"focus"],[null,"blur"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==Yi(t,4).onChange()&&r),"focus"===e&&(r=0!=(Yi(t,4).focused=!0)&&r),"blur"===e&&(r=0!=(Yi(t,4).focused=!1)&&r),r},null,null)),uo(4,147456,null,0,a_,[o_,n_,pn,dn],{value:[0,"value"]},null),(t()(),Lo(5,null,[" "," "]))],function(t,e){t(e,4,0,e.context.$implicit)},function(t,e){t(e,1,0,!0,Yi(e,2).active,Yi(e,2).disabled,Yi(e,2).focused),t(e,3,0,Yi(e,4).checked,Yi(e,4).disabled,Yi(e,4).nameAttr),t(e,5,0,e.context.$implicit.name)})}function mI(t){return Uo(0,[(t()(),_i(0,0,null,null,8,"div",[["class","btn-group btn-group-toggle"],["name","radioBasic"],["ngbRadioGroup",""],["role","group"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(t,e,n){var r=!0;return"ngModelChange"===e&&(r=!1!==(t.component.selectedmachine=n)&&r),r},null,null)),uo(1,16384,null,0,o_,[],{name:[0,"name"]},null),co(1024,null,yd,function(t){return[t]},[o_]),uo(3,671744,null,0,dm,[[8,null],[8,null],[8,null],[6,yd]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),co(2048,null,Td,null,[dm]),uo(5,16384,null,0,tm,[[4,Td]],null,null),(t()(),bi(16777216,null,null,2,null,dI)),uo(7,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),lo(131072,Bu,[Cn]),(t()(),_i(9,0,null,null,1,"monitoring-detail",[],null,null,null,hI,KT)),uo(10,49152,null,0,GT,[qT,HT,WT],{machine:[0,"machine"],name:[1,"name"]},null)],function(t,e){var n=e.component;t(e,1,0,"radioBasic"),t(e,3,0,"radioBasic",n.selectedmachine),t(e,7,0,jr(e,7,0,Yi(e,8).transform(n.machines))),t(e,10,0,n.selectedmachine,gi(1,"",n.selectedmachine.name,""))},function(t,e){t(e,0,0,Yi(e,5).ngClassUntouched,Yi(e,5).ngClassTouched,Yi(e,5).ngClassPristine,Yi(e,5).ngClassDirty,Yi(e,5).ngClassValid,Yi(e,5).ngClassInvalid,Yi(e,5).ngClassPending)})}function gI(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"monitoring-list",[],null,null,null,mI,pI)),uo(1,114688,null,0,fI,[US],null,null)],function(t,e){t(e,1,0)},null)}var yI=Vi("monitoring-list",fI,gI,{},{},[]),vI=Hr({encapsulation:2,styles:[],data:{}});function bI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"li",[],[[8,"id",0],[2,"active",null]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.cycleToSelected(t.context.$implicit.id,i.getSlideEventDirection(i.activeId,t.context.$implicit.id))&&r),r},null,null))],null,function(t,e){t(e,0,0,e.context.$implicit.id,e.context.$implicit.id===e.component.activeId)})}function _I(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"ol",[["class","carousel-indicators"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,bI)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.slides)},null)}function wI(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function EI(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","carousel-item"]],[[2,"active",null]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,wI)),uo(2,540672,null,0,Lu,[En],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(t,e){t(e,2,0,e.context.$implicit.tplRef)},function(t,e){t(e,0,0,e.context.$implicit.id===e.component.activeId)})}function CI(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"a",[["class","carousel-control-prev"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cycleToPrev()&&r),r},null,null)),(t()(),_i(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Previous"]))],null,null)}function SI(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"a",[["class","carousel-control-next"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cycleToNext()&&r),r},null,null)),(t()(),_i(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Next"]))],null,null)}function TI(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,_I)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(2,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,EI)),uo(4,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),(t()(),bi(16777216,null,null,1,null,CI)),uo(6,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,SI)),uo(8,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.showNavigationIndicators),t(e,4,0,n.slides),t(e,6,0,n.showNavigationArrows),t(e,8,0,n.showNavigationArrows)},null)}var II=function(){function t(){this.images=["./assets/en/Slide1.PNG","./assets/en/Slide2.PNG","./assets/en/Slide3.PNG","./assets/en/Slide4.PNG","./assets/en/Slide5.PNG","./assets/en/Slide6.PNG","./assets/en/Slide7.PNG","./assets/en/Slide8.PNG","./assets/en/Slide9.PNG","./assets/en/Slide10.PNG","./assets/en/Slide11.PNG","./assets/en/Slide12.PNG","./assets/en/Slide13.PNG","./assets/en/Slide14.PNG"]}return t.prototype.ngOnInit=function(){},t}(),kI=Hr({encapsulation:0,styles:[[""]],data:{}});function DI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[0])})}function xI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[1])})}function OI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[2])})}function AI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[3])})}function NI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[4])})}function RI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[5])})}function PI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[6])})}function MI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[7])})}function LI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[8])})}function FI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[9])})}function VI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[10])})}function UI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[11])})}function jI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[12])})}function BI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[13])})}function qI(t){return Uo(0,[(t()(),_i(0,0,null,null,30,"ngb-carousel",[["class","carousel slide"],["tabIndex","0"]],[[4,"display",null]],[[null,"mouseenter"],[null,"mouseleave"],[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==Yi(t,1).onMouseEnter()&&r),"mouseleave"===e&&(r=!1!==Yi(t,1).onMouseLeave()&&r),"keydown.arrowLeft"===e&&(r=!1!==Yi(t,1).keyPrev()&&r),"keydown.arrowRight"===e&&(r=!1!==Yi(t,1).keyNext()&&r),r},TI,vI)),uo(1,2867200,null,1,h_,[u_],null,null),Io(603979776,1,{slides:1}),(t()(),bi(0,null,null,1,null,DI)),uo(4,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,xI)),uo(6,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,OI)),uo(8,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,AI)),uo(10,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,NI)),uo(12,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,RI)),uo(14,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,PI)),uo(16,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,MI)),uo(18,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,LI)),uo(20,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,FI)),uo(22,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,VI)),uo(24,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,UI)),uo(26,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,jI)),uo(28,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,BI)),uo(30,16384,[[1,4]],0,c_,[wn],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"block")})}function HI(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,qI)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.images)},null)}function WI(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"en",[],null,null,null,HI,kI)),uo(1,114688,null,0,II,[],null,null)],function(t,e){t(e,1,0)},null)}var zI=Vi("en",II,WI,{},{},[]),GI=function(){function t(){this.images=["./assets/fi/Slide1.PNG","./assets/fi/Slide2.PNG","./assets/fi/Slide3.PNG","./assets/fi/Slide4.PNG","./assets/fi/Slide5.PNG","./assets/fi/Slide6.PNG","./assets/fi/Slide7.PNG","./assets/fi/Slide8.PNG","./assets/fi/Slide9.PNG","./assets/fi/Slide10.PNG","./assets/fi/Slide11.PNG","./assets/fi/Slide12.PNG","./assets/fi/Slide13.PNG","./assets/fi/Slide14.PNG"]}return t.prototype.ngOnInit=function(){},t}(),KI=Hr({encapsulation:0,styles:[[""]],data:{}});function QI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[0])})}function YI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[1])})}function $I(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[2])})}function XI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[3])})}function JI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[4])})}function ZI(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[5])})}function tk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[6])})}function ek(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[7])})}function nk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[8])})}function rk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[9])})}function ik(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[10])})}function ok(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[11])})}function ak(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[12])})}function sk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[13])})}function uk(t){return Uo(0,[(t()(),_i(0,0,null,null,30,"ngb-carousel",[["class","carousel slide"],["tabIndex","0"]],[[4,"display",null]],[[null,"mouseenter"],[null,"mouseleave"],[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==Yi(t,1).onMouseEnter()&&r),"mouseleave"===e&&(r=!1!==Yi(t,1).onMouseLeave()&&r),"keydown.arrowLeft"===e&&(r=!1!==Yi(t,1).keyPrev()&&r),"keydown.arrowRight"===e&&(r=!1!==Yi(t,1).keyNext()&&r),r},TI,vI)),uo(1,2867200,null,1,h_,[u_],null,null),Io(603979776,1,{slides:1}),(t()(),bi(0,null,null,1,null,QI)),uo(4,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,YI)),uo(6,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,$I)),uo(8,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,XI)),uo(10,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,JI)),uo(12,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,ZI)),uo(14,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,tk)),uo(16,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,ek)),uo(18,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,nk)),uo(20,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,rk)),uo(22,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,ik)),uo(24,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,ok)),uo(26,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,ak)),uo(28,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,sk)),uo(30,16384,[[1,4]],0,c_,[wn],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"block")})}function lk(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,uk)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,1,0,e.component.images)},null)}function ck(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"fi",[],null,null,null,lk,KI)),uo(1,114688,null,0,GI,[],null,null)],function(t,e){t(e,1,0)},null)}var hk=Vi("fi",GI,ck,{},{},[]),fk=function(){function t(t){this.auth=t,this.images=["./assets/engelfq2_en/Slide1.PNG","./assets/engelfq2_en/Slide2.PNG","./assets/engelfq2_en/Slide3.PNG","./assets/engelfq2_en/Slide4.PNG","./assets/engelfq2_en/Slide5.PNG","./assets/engelfq2_en/Slide6.PNG","./assets/engelfq2_en/Slide7.PNG","./assets/engelfq2_en/Slide8.PNG","./assets/engelfq2_en/Slide9.PNG","./assets/engelfq2_en/Slide10.PNG","./assets/engelfq2_en/Slide11.PNG","./assets/engelfq2_en/Slide12.PNG","./assets/engelfq2_en/Slide13.PNG","./assets/engelfq2_en/Slide14.PNG","./assets/engelfq2_en/Slide15.PNG","./assets/engelfq2_en/Slide16.PNG","./assets/engelfq2_en/Slide17.PNG","./assets/engelfq2_en/Slide18.PNG","./assets/engelfq2_en/Slide19.PNG","./assets/engelfq2_en/Slide20.PNG","./assets/engelfq2_en/Slide21.PNG","./assets/engelfq2_en/Slide22.PNG","./assets/engelfq2_en/Slide23.PNG","./assets/engelfq2_en/Slide24.PNG","./assets/engelfq2_en/Slide25.PNG","./assets/engelfq2_en/Slide26.PNG","./assets/engelfq2_en/Slide27.PNG"]}return t.prototype.ngOnInit=function(){},t}(),pk=Hr({encapsulation:0,styles:[[""]],data:{}});function dk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function mk(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["GUEST"])),(t()(),_i(2,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must be registered, logged in and admin to manage machines"])),(t()(),_i(4,0,null,null,1,"button",[["class","button"],["routerLink","/login"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Login/Register"]))],null,null)}function gk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[0])})}function yk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[1])})}function vk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[2])})}function bk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[3])})}function _k(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[4])})}function wk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[5])})}function Ek(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[6])})}function Ck(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[7])})}function Sk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[8])})}function Tk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[9])})}function Ik(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[10])})}function kk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[11])})}function Dk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[12])})}function xk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[13])})}function Ok(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[14])})}function Ak(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[15])})}function Nk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[16])})}function Rk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[17])})}function Pk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[18])})}function Mk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[19])})}function Lk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[20])})}function Fk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[21])})}function Vk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[22])})}function Uk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[23])})}function jk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[24])})}function Bk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[25])})}function qk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"img",[["alt","slide"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(1,0,null,null,0,"div",[["class","carousel-caption"]],null,null,null,null,null))],null,function(t,e){t(e,0,0,e.component.images[26])})}function Hk(t){return Uo(0,[(t()(),_i(0,0,null,null,56,"ngb-carousel",[["class","carousel slide"],["tabIndex","0"]],[[4,"display",null]],[[null,"mouseenter"],[null,"mouseleave"],[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"]],function(t,e,n){var r=!0;return"mouseenter"===e&&(r=!1!==Yi(t,1).onMouseEnter()&&r),"mouseleave"===e&&(r=!1!==Yi(t,1).onMouseLeave()&&r),"keydown.arrowLeft"===e&&(r=!1!==Yi(t,1).keyPrev()&&r),"keydown.arrowRight"===e&&(r=!1!==Yi(t,1).keyNext()&&r),r},TI,vI)),uo(1,2867200,null,1,h_,[u_],null,null),Io(603979776,1,{slides:1}),(t()(),bi(0,null,null,1,null,gk)),uo(4,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,yk)),uo(6,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,vk)),uo(8,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,bk)),uo(10,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,_k)),uo(12,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,wk)),uo(14,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Ek)),uo(16,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Ck)),uo(18,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Sk)),uo(20,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Tk)),uo(22,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Ik)),uo(24,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,kk)),uo(26,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Dk)),uo(28,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,xk)),uo(30,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Ok)),uo(32,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Ak)),uo(34,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Nk)),uo(36,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Rk)),uo(38,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Pk)),uo(40,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Mk)),uo(42,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Lk)),uo(44,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Fk)),uo(46,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Vk)),uo(48,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Uk)),uo(50,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,jk)),uo(52,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,Bk)),uo(54,16384,[[1,4]],0,c_,[wn],null,null),(t()(),bi(0,null,null,1,null,qk)),uo(56,16384,[[1,4]],0,c_,[wn],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"block")})}function Wk(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Hk)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.images)},null)}function zk(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,Wk)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(t,e){t(e,2,0,e.context.ngIf.isEngel,Yi(e.parent.parent,6))},null)}function Gk(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,zk)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)))},null)}function Kk(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"h3",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["You must have Engel status to view this content."])),(t()(),_i(3,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Contact your administrator to get Engel status."]))],null,null)}function Qk(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","box"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,dk)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["guest",2]],null,0,null,mk)),(t()(),bi(0,[["authenticated",2]],null,0,null,Gk)),(t()(),bi(0,[["noengel",2]],null,0,null,Kk))],function(t,e){var n=e.component;t(e,2,0,jr(e,2,0,Yi(e,3).transform(n.auth.user)),Yi(e,5),Yi(e,4))},null)}function Yk(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"engelfq2-en",[],null,null,null,Qk,pk)),uo(1,114688,null,0,fk,[Ql],null,null)],function(t,e){t(e,1,0)},null)}var $k=Vi("engelfq2-en",fk,Yk,{},{},[]),Xk=function(){function t(t,e,n,r){this.afs=t,this.meta=e,this.titleService=n,this.state=r}return t.prototype.ngOnInit=function(){var t=this;this.setMetaTags();var e=this.afs.collection("animals").valueChanges(),n=this.state.get("animals",[]);n.length?this.animals=n:e.pipe(pl(function(e){t.state.set("animals",e),t.animals=e})).subscribe()},t.prototype.setMetaTags=function(){this.titleService.setTitle("Angular Firebase Animals"),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.meta.updateTag({name:"twitter:site",content:"@angularfirebase"}),this.meta.updateTag({name:"twitter:title",content:"Angular Firebase Animals"}),this.meta.updateTag({name:"twitter:description",content:"A server-rendered list of animals from Cloud Firestore in Angular"}),this.meta.updateTag({name:"twitter:image",content:"https://goo.gl/MzskMe"})},t}(),Jk=Hr({encapsulation:0,styles:[[""]],data:{}});function Zk(t){return Uo(0,[(t()(),_i(0,0,null,null,11,"div",[["class","box"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,10,"article",[["class","media"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"div",[["class","media-left"]],null,null,null,null,null)),(t()(),_i(3,0,null,null,1,"figure",[["class","image is-128x128"]],null,null,null,null,null)),(t()(),_i(4,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),_i(5,0,null,null,6,"div",[["class","media-content"]],null,null,null,null,null)),(t()(),_i(6,0,null,null,5,"div",[["class","content"]],null,null,null,null,null)),(t()(),_i(7,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),_i(8,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Lo(9,null,["",""])),(t()(),_i(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Lo(11,null,[" "," "]))],null,function(t,e){t(e,4,0,e.context.$implicit.imgURL,gi(1,"",e.context.$implicit.bio,"")),t(e,9,0,e.context.$implicit.name),t(e,11,0,e.context.$implicit.bio)})}function tD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Angular Universal Server Rendered Page"])),(t()(),_i(2,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" This page is prerendered with Angular Universal and is 100% search engine and linkbot friedly - and highly performant. Give this URL a whirl in the "])),(t()(),_i(4,0,null,null,1,"a",[["href","https://cards-dev.twitter.com/validator"]],null,null,null,null,null)),(t()(),Lo(-1,null,["twitter-card validator"])),(t()(),_i(6,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Learn all about "])),(t()(),_i(8,0,null,null,1,"a",[["href","https://angularfirebase.com/tag/ssr/"]],null,null,null,null,null)),(t()(),Lo(-1,null,["server-side rendering strategies in Angular"])),(t()(),_i(10,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Dynamic Firebase Data"])),(t()(),_i(12,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["Need SSR with dynamic Firebase data? No problem. Here are some animals I retrieved from Cloud Firestore."])),(t()(),bi(16777216,null,null,1,null,Zk)),uo(15,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,15,0,e.component.animals)},null)}function eD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ssr-page",[],null,null,null,tD,Jk)),uo(1,114688,null,0,Xk,[Hl,vc,Cc,yh],null,null)],function(t,e){t(e,1,0)},null)}var nD=Vi("ssr-page",Xk,eD,{},{},[]),rD=Hr({encapsulation:2,styles:[],data:{}});function iD(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.closeHandler()&&r),r},null,null)),(t()(),_i(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),Lo(-1,null,["\xd7"]))],null,null)}function oD(t){return Uo(2,[(t()(),_i(0,0,null,null,3,"div",[["role","alert"]],[[8,"className",0]],null,null,null,null)),(t()(),bi(16777216,null,null,1,null,iD)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),Ao(null,0)],function(t,e){t(e,2,0,e.component.dismissible)},function(t,e){var n=e.component;t(e,0,0,"alert alert-"+n.type+(n.dismissible?" alert-dismissible":""))})}function aD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-alert",[],null,null,null,oD,rD)),uo(1,49152,null,0,t_,[Zb],null,null)],null,null)}var sD=Vi("ngb-alert",t_,aD,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),uD=Hr({encapsulation:0,styles:[".bs-tooltip-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: calc(50% - 0.4rem);\n    }\n\n    .bs-tooltip-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 1em;\n    }\n\n    .bs-tooltip-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 0.8rem;\n    }\n\n    .bs-tooltip-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: calc(50% - 0.4rem);\n    }\n\n    .bs-tooltip-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.4rem;\n    }\n\n    .bs-tooltip-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-tooltip-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.4rem;\n    }"],data:{}});function lD(t){return Uo(2,[(t()(),_i(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),Ao(null,0)],null,null)}function cD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,lD,uD)),uo(1,49152,null,0,xw,[dn,pn],null,null)],null,function(t,e){t(e,0,0,"tooltip show bs-tooltip-"+Yi(e,1).placement.split("-")[0]+" bs-tooltip-"+Yi(e,1).placement,Yi(e,1).id)})}var hD=Vi("ngb-tooltip-window",xw,cD,{placement:"placement",id:"id"},{},["*"]),fD=Hr({encapsulation:0,styles:[".ngb-highlight[_ngcontent-%COMP%] {\n      font-weight: bold;\n    }"],data:{}});function pD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),Lo(1,null,["",""]))],null,function(t,e){t(e,0,0,gi(1,"",e.component.highlightClass,"")),t(e,1,0,e.parent.context.$implicit)})}function dD(t){return Uo(0,[(t()(),Lo(0,null,["",""]))],null,function(t,e){t(e,0,0,e.parent.context.$implicit)})}function mD(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,pD)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,dD)),uo(3,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,e.context.odd),t(e,3,0,!e.context.odd)},null)}function gD(t){return Uo(2,[(t()(),bi(16777216,null,null,1,null,mD)),uo(1,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,1,0,e.component.parts)},null)}var yD=Hr({encapsulation:2,styles:[],data:{}});function vD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-highlight",[],null,null,null,gD,fD)),uo(1,573440,null,0,Aw,[],{result:[0,"result"],term:[1,"term"]},null)],function(t,e){var n=e.context.formatter(e.context.result);t(e,1,0,n,e.context.term)},null)}function bD(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function _D(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"mouseenter"===e&&(r=!1!==i.markActive(t.context.index)&&r),"click"===e&&(r=!1!==i.select(t.context.$implicit)&&r),r},null,null)),(t()(),bi(16777216,null,null,2,null,bD)),uo(2,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Po(3,{result:0,term:1,formatter:2})],function(t,e){var n=e.component,r=t(e,3,0,e.context.$implicit,n.term,n.formatter);t(e,2,0,r,n.resultTemplate||Yi(e.parent,0))},function(t,e){var n=e.component;t(e,0,0,n.id+"-"+e.context.index,e.context.index===n.activeIdx)})}function wD(t){return Uo(0,[(t()(),bi(0,[["rt",2]],null,0,null,vD)),(t()(),bi(16777216,null,null,1,null,_D)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.results)},null)}function ED(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],null,null,wD,yD)),uo(1,114688,null,0,Nw,[],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,Yi(e,1).id)})}var CD=Vi("ngb-typeahead-window",Nw,ED,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),SD=Hr({encapsulation:0,styles:["[_nghost-%COMP%] {\n      text-align: center;\n      width: 2rem;\n      height: 2rem;\n      line-height: 2rem;\n      border-radius: 0.25rem;\n      background: transparent;\n    }\n    .outside[_nghost-%COMP%] {\n      opacity: 0.5;\n    }"],data:{}});function TD(t){return Uo(2,[(t()(),Lo(0,null,["",""]))],null,function(t,e){t(e,0,0,e.component.date.day)})}var ID=Hr({encapsulation:0,styles:["[_nghost-%COMP%] > select[_ngcontent-%COMP%] {\n      display: flex;\n      display: -ms-flexbox;\n      -ms-flex: 1 1 auto;\n      width: 100%;\n      padding: 0 0.5rem;\n      font-size: 0.875rem;\n      height: 1.85rem;\n    }"],data:{}});function kD(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),uo(1,147456,null,0,Md,[dn,pn,[8,null]],{value:[0,"value"]},null),uo(2,147456,null,0,Vd,[dn,pn,[8,null]],{value:[0,"value"]},null),(t()(),Lo(3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){var n=e.component;t(e,0,0,n.i18n.getMonthFullName(e.context.$implicit)),t(e,3,0,n.i18n.getMonthShortName(e.context.$implicit))})}function DD(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"option",[],null,null,null,null,null)),uo(1,147456,null,0,Md,[dn,pn,[8,null]],{value:[0,"value"]},null),uo(2,147456,null,0,Vd,[dn,pn,[8,null]],{value:[0,"value"]},null),(t()(),Lo(3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit),t(e,2,0,e.context.$implicit)},function(t,e){t(e,3,0,e.context.$implicit)})}function xD(t){return Uo(2,[(t()(),_i(0,0,null,null,2,"select",[["class","custom-select"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeMonth(n.target.value)&&r),r},null,null)),(t()(),bi(16777216,null,null,1,null,kD)),uo(2,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),(t()(),_i(3,0,null,null,2,"select",[["class","custom-select"]],[[8,"disabled",0],[8,"value",0]],[[null,"change"]],function(t,e,n){var r=!0;return"change"===e&&(r=!1!==t.component.changeYear(n.target.value)&&r),r},null,null)),(t()(),bi(16777216,null,null,1,null,DD)),uo(5,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.months),t(e,5,0,n.years)},function(t,e){var n=e.component;t(e,0,0,n.disabled,null==n.date?null:n.date.month),t(e,3,0,n.disabled,null==n.date?null:n.date.year)})}var OD=Hr({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n      align-items: center;\n    }\n    .ngb-dp-navigation-chevron[_ngcontent-%COMP%] {\n      border-style: solid;\n      border-width: 0.2em 0.2em 0 0;\n      display: inline-block;\n      width: 0.75em;\n      height: 0.75em;\n      margin-left: 0.25em;\n      margin-right: 0.15em;\n      transform: rotate(-135deg);\n      -ms-transform: rotate(-135deg);\n    }\n    .right[_ngcontent-%COMP%]   .ngb-dp-navigation-chevron[_ngcontent-%COMP%] {\n      -ms-transform: rotate(45deg);\n      transform: rotate(45deg);\n      margin-left: 0.15em;\n      margin-right: 0.25em;\n    }\n    .ngb-dp-arrow[_ngcontent-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 auto;\n      flex-grow: 1;\n      padding-right: 0;\n      padding-left: 0;\n      margin: 0;\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-arrow.right[_ngcontent-%COMP%] {\n      -ms-flex-pack: end;\n      justify-content: flex-end;\n    }\n    .ngb-dp-arrow-btn[_ngcontent-%COMP%] {\n      padding: 0 0.25rem;\n      margin: 0 0.5rem;\n      border: none;\n      background-color: transparent;\n      z-index: 1;\n    }\n    .ngb-dp-arrow-btn[_ngcontent-%COMP%]:focus {\n      outline: auto 1px;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n    }\n    .ngb-dp-navigation-select[_ngcontent-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n      -ms-flex: 1 1 9rem;\n      flex-grow: 1;\n      flex-basis: 9rem;\n    }"],data:{}});function AD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.select.emit(n)&&r),r},xD,ID)),uo(1,49152,null,0,K_,[C_],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],function(t,e){var n=e.component;t(e,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)},null)}function ND(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function RD(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function PD(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,ND)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(t()(),Lo(3,null,[" "," "," "])),(t()(),bi(16777216,null,null,1,null,RD)),uo(5,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,e.context.index>0),t(e,5,0,e.context.index!==n.months.length-1)},function(t,e){t(e,3,0,e.component.i18n.getMonthFullName(e.context.$implicit.number),e.context.$implicit.year)})}function MD(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,PD)),uo(1,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,e.component.months)},null)}function LD(t){return Uo(2,[(t()(),_i(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=!!i.navigate.emit(i.navigation.PREV)&&r),r},null,null)),(t()(),_i(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,AD)),uo(4,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,MD)),uo(6,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(t()(),_i(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=0!=!!i.navigate.emit(i.navigation.NEXT)&&r),r},null,null)),(t()(),_i(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.showSelect),t(e,6,0,!n.showSelect)},function(t,e){var n=e.component;t(e,1,0,n.prevDisabled),t(e,8,0,n.nextDisabled)})}var FD=Hr({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: block;\n    }\n    .ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      line-height: 2rem;\n      text-align: center;\n      font-style: italic;\n    }\n    .ngb-dp-weekday[_ngcontent-%COMP%] {\n      color: #5bc0de;\n      color: var(--info);\n    }\n    .ngb-dp-week[_ngcontent-%COMP%] {\n      border-radius: 0.25rem;\n      display: -ms-flexbox;\n      display: flex;\n    }\n    .ngb-dp-weekdays[_ngcontent-%COMP%] {\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n      border-radius: 0;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%], .ngb-dp-weekday[_ngcontent-%COMP%], .ngb-dp-week-number[_ngcontent-%COMP%] {\n      width: 2rem;\n      height: 2rem;\n    }\n    .ngb-dp-day[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }\n    .ngb-dp-day.disabled[_ngcontent-%COMP%], .ngb-dp-day.hidden[_ngcontent-%COMP%] {\n      cursor: default;\n    }"],data:{}});function VD(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function UD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.i18n.getWeekdayShortName(e.context.$implicit))})}function jD(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays bg-light"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,VD)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,UD)),uo(4,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.showWeekNumbers),t(e,4,0,n.month.weekdays)},null)}function BD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(t()(),Lo(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.parent.context.$implicit.number)})}function qD(t){return Uo(0,[(t()(),bi(0,null,null,0))],null,null)}function HD(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,qD)),uo(1,540672,null,0,Lu,[En],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,e.parent.context.$implicit.context,e.component.dayTemplate)},null)}function WD(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[1,"aria-label",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.doSelect(t.context.$implicit)&&r),r},null,null)),(t()(),bi(16777216,null,null,1,null,HD)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,!e.context.$implicit.hidden)},function(t,e){t(e,0,0,e.context.$implicit.context.disabled,e.context.$implicit.tabindex,e.context.$implicit.hidden,e.context.$implicit.ariaLabel)})}function zD(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,BD)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,WD)),uo(4,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.showWeekNumbers),t(e,4,0,e.parent.context.$implicit.days)},null)}function GD(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,zD)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(0,null,null,0))],function(t,e){t(e,1,0,!e.context.$implicit.collapsed)},null)}function KD(t){return Uo(0,[(t()(),bi(16777216,null,null,1,null,jD)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),bi(16777216,null,null,1,null,GD)),uo(3,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.showWeekdays),t(e,3,0,n.month.weeks)},null)}var QD=Hr({encapsulation:0,styles:["[_nghost-%COMP%] {\n      border: 1px solid #dfdfdf;\n      border-radius: 0.25rem;\n      display: inline-block;\n    }\n    .ngb-dp-month[_ngcontent-%COMP%] {\n      pointer-events: none;\n    }\n    .ngb-dp-header[_ngcontent-%COMP%] {\n      border-bottom: 0;\n      border-radius: 0.25rem 0.25rem 0 0;\n      padding-top: 0.25rem;\n    }\n    ngb-datepicker-month-view[_ngcontent-%COMP%] {\n      pointer-events: auto;\n    }\n    .ngb-dp-month-name[_ngcontent-%COMP%] {\n      font-size: larger;\n      height: 2rem;\n      line-height: 2rem;\n      text-align: center;\n    }\n      .ngb-dp-month + .ngb-dp-month > ngb-datepicker-month-view > .ngb-dp-week {\n      padding-left: 1rem;\n    }\n      .ngb-dp-month + .ngb-dp-month > .ngb-dp-month-name {\n      padding-left: 1rem;\n    }\n      .ngb-dp-month:last-child .ngb-dp-week {\n      padding-right: .25rem;\n    }\n      .ngb-dp-month:first-child .ngb-dp-week {\n      padding-left: .25rem;\n    }\n      .ngb-dp-month > ngb-datepicker-month-view > .ngb-dp-week:last-child {\n      padding-bottom: .25rem;\n    }\n    .ngb-dp-months[_ngcontent-%COMP%] {\n      display: -ms-flexbox;\n      display: flex;\n    }"],data:{}});function YD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,TD,SD)),uo(1,49152,null,0,G_,[],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],function(t,e){t(e,1,0,e.context.currentMonth,e.context.date,e.context.disabled,e.context.focused,e.context.selected)},function(t,e){t(e,0,0,Yi(e,1).selected,Yi(e,1).selected,Yi(e,1).isMuted(),Yi(e,1).isMuted(),Yi(e,1).focused)})}function $D(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],function(t,e,n){var r=!0,i=t.component;return"navigate"===e&&(r=!1!==i.onNavigateEvent(n)&&r),"select"===e&&(r=!1!==i.onNavigateDateSelect(n)&&r),r},LD,OD)),uo(1,49152,null,0,P_,[C_],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],function(t,e){var n=e.component;t(e,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)},null)}function XD(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"div",[["class","ngb-dp-month-name bg-light"]],null,null,null,null,null)),(t()(),Lo(1,null,[" "," "," "]))],null,function(t,e){t(e,1,0,e.component.i18n.getMonthFullName(e.parent.context.$implicit.number),e.parent.context.$implicit.year)})}function JD(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,XD)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(3,0,null,null,1,"ngb-datepicker-month-view",[["role","grid"]],null,[[null,"select"]],function(t,e,n){var r=!0;return"select"===e&&(r=!1!==t.component.onDateSelect(n)&&r),r},KD,FD)),uo(4,49152,null,0,R_,[C_],{dayTemplate:[0,"dayTemplate"],month:[1,"month"],showWeekdays:[2,"showWeekdays"],showWeekNumbers:[3,"showWeekNumbers"]},{select:"select"})],function(t,e){var n=e.component;t(e,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),t(e,4,0,n.dayTemplate||Yi(e.parent,0),e.context.$implicit,n.showWeekdays,n.showWeekNumbers)},null)}function ZD(t){return Uo(2,[(t()(),bi(0,[["dt",2]],null,0,null,YD)),(t()(),_i(1,0,null,null,2,"div",[["class","ngb-dp-header bg-light"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,1,null,$D)),uo(3,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(4,0,null,null,2,"div",[["class","ngb-dp-months"]],null,[[null,"keydown"],[null,"focusin"],[null,"focusout"]],function(t,e,n){var r=!0,i=t.component;return"keydown"===e&&(r=!1!==i.onKeyDown(n)&&r),"focusin"===e&&(r=!1!==i.showFocus(!0)&&r),"focusout"===e&&(r=!1!==i.showFocus(!1)&&r),r},null,null)),(t()(),bi(16777216,null,null,1,null,JD)),uo(6,802816,null,0,Du,[En,wn,zn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,"none"!==n.navigation),t(e,6,0,n.model.months)},null)}function tx(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"ngb-datepicker",[],null,null,null,ZD,QD)),co(5120,null,yd,function(t){return[t]},[N_]),co(512,null,T_,T_,[v_,C_]),co(512,null,k_,k_,[T_,v_]),uo(4,770048,null,0,N_,[k_,T_,v_,C_,x_,Cn,dn,O_,Be],null,null)],function(t,e){t(e,4,0)},null)}var ex=Vi("ngb-datepicker",N_,tx,{dayTemplate:"dayTemplate",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",select:"select"},[]),nx=Hr({encapsulation:2,styles:[],data:{}});function rx(t){return Uo(0,[],null,null)}function ix(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-modal-backdrop",[],[[8,"className",0]],null,null,rx,nx)),uo(1,49152,null,0,tw,[],null,null)],null,function(t,e){t(e,0,0,"modal-backdrop fade show"+(Yi(e,1).backdropClass?" "+Yi(e,1).backdropClass:""))})}var ox=Vi("ngb-modal-backdrop",tw,ix,{backdropClass:"backdropClass"},{},[]),ax=Hr({encapsulation:2,styles:[],data:{}});function sx(t){return Uo(0,[(t()(),_i(0,0,null,null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(t()(),_i(1,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),Ao(null,0)],null,function(t,e){var n=e.component;t(e,0,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":""))})}function ux(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-labelledby",0]],[[null,"keyup.esc"],[null,"click"]],function(t,e,n){var r=!0;return"keyup.esc"===e&&(r=!1!==Yi(t,1).escKey(n)&&r),"click"===e&&(r=!1!==Yi(t,1).backdropClick(n)&&r),r},sx,ax)),uo(1,4440064,null,0,nw,[Gu,dn,pn],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,"modal fade show d-block"+(Yi(e,1).windowClass?" "+Yi(e,1).windowClass:""),Yi(e,1).ariaLabelledBy)})}var lx=Vi("ngb-modal-window",nw,ux,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]),cx=Hr({encapsulation:0,styles:[".bs-popover-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 50%;\n      margin-left: -5px;\n    }\n\n    .bs-popover-top-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: 2em;\n    }\n\n    .bs-popover-top-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-bottom-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      left: auto;\n      right: 2em;\n    }\n\n    .bs-popover-left[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 50%;\n      margin-top: -5px;\n    }\n\n    .bs-popover-left-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-top[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: 0.7em;\n    }\n\n    .bs-popover-left-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%], .bs-popover-right-bottom[_nghost-%COMP%]   .arrow[_ngcontent-%COMP%] {\n      top: auto;\n      bottom: 0.7em;\n    }"],data:{}});function hx(t){return Uo(2,[(t()(),_i(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"h3",[["class","popover-header"]],null,null,null,null,null)),(t()(),Lo(2,null,["",""])),(t()(),_i(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),Ao(null,0)],null,function(t,e){t(e,2,0,e.component.title)})}function fx(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,hx,cx)),uo(1,49152,null,0,pw,[dn,pn],null,null)],null,function(t,e){t(e,0,0,"popover bs-popover-"+Yi(e,1).placement.split("-")[0]+" bs-popover-"+Yi(e,1).placement+(Yi(e,1).popoverClass?" "+Yi(e,1).popoverClass:""),Yi(e,1).id)})}var px=Vi("ngb-popover-window",pw,fx,{placement:"placement",title:"title",id:"id",popoverClass:"popoverClass"},{},["*"]),dx=function(){function t(){this.show=!1}return t.prototype.toggleCollapse=function(){this.show=!this.show},t}(),mx=Hr({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{background-color:#000;border-color:#ff4500}"]],data:{}});function gx(t){return Uo(0,[(t()(),_i(0,0,null,null,22,"nav",[["aria-label","main navigation"],["class","navbar"],["role","navigation"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,9,"div",[["class","navbar-brand"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(3,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),_i(4,0,null,null,0,"img",[["alt","TOTECH"],["height","20%"],["src","assets/totech_logo_inverse.jpg"],["width","20%"]],null,null,null,null,null)),(t()(),_i(5,0,null,null,5,"a",[["class","navbar-burger"],["id","navToggle"],["role","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleCollapse()&&r),r},null,null)),uo(6,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Po(7,{"is-active":0}),(t()(),_i(8,0,null,null,0,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),_i(9,0,null,null,0,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),_i(10,0,null,null,0,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),_i(11,0,null,null,11,"div",[["class","navbar-menu"]],null,null,null,null,null)),uo(12,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Po(13,{"is-active":0}),(t()(),_i(14,0,null,null,8,"div",[["class","navbar-end"]],null,null,null,null,null)),(t()(),_i(15,0,null,null,2,"a",[["routerLink","/contact"],["style","color:orangered"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(16,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,[" Contact "])),(t()(),_i(18,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Lo(-1,null,["\xa0\xa0"])),(t()(),_i(20,0,null,null,2,"a",[["routerLink","/about"],["style","color:orangered"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,21).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(21,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,[" About "]))],function(t,e){var n=e.component;t(e,3,0,"/");var r=t(e,7,0,n.show);t(e,6,0,"navbar-burger",r);var i=t(e,13,0,n.show);t(e,12,0,"navbar-menu",i),t(e,16,0,"/contact"),t(e,21,0,"/about")},function(t,e){t(e,2,0,Yi(e,3).target,Yi(e,3).href),t(e,15,0,Yi(e,16).target,Yi(e,16).href),t(e,20,0,Yi(e,21).target,Yi(e,21).href)})}var yx=function(){function t(t){this.auth=t,this.show=!1}return t.prototype.logout=function(){this.auth.signOut()},t.prototype.toggleCollapse=function(){this.show=!this.show},t}(),vx=Hr({encapsulation:0,styles:[[".cntr[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}"]],data:{}});function bx(t){return Uo(0,[(t()(),_i(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function _x(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(-1,null,["GUEST"])),(t()(),_i(2,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),Lo(-1,null,["Login or register to get started..."])),(t()(),_i(4,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/login"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,5).onClick()&&r),r},null,null)),uo(5,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Login/Register"]))],function(t,e){t(e,5,0,"/login")},null)}function wx(t){return Uo(0,[(t()(),_i(0,0,null,null,14,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,3,"button",[["class","btn btn-outline-primary btn-block"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleCollapse()&&r),r},null,null)),(t()(),Lo(-1,null,["Admin "])),(t()(),_i(3,0,null,null,0,"span",[["class","fa fa-bars fa-lg float-right"]],[[8,"hidden",0]],null,null,null,null)),(t()(),_i(4,0,null,null,0,"span",[["class","fa fa-times fa-lg float-right"]],[[8,"hidden",0]],null,null,null,null)),(t()(),_i(5,0,null,null,9,"div",[["class","collapse"]],[[2,"show",null]],null,null,null,null)),(t()(),_i(6,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/users"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,7).onClick()&&r),r},null,null)),uo(7,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Manage Users"])),(t()(),_i(9,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/machines"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,10).onClick()&&r),r},null,null)),uo(10,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Manage machines"])),(t()(),_i(12,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/calendar"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,13).onClick()&&r),r},null,null)),uo(13,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Calendar Demo"]))],function(t,e){t(e,7,0,"/users"),t(e,10,0,"/machines"),t(e,13,0,"/calendar")},function(t,e){var n=e.component;t(e,3,0,n.show),t(e,4,0,!n.show),t(e,5,0,n.show)})}function Ex(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(2,0,null,null,2,"button",[["class","button btn-block btn-success"],["routerLink","/engel"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,3).onClick()&&r),r},null,null)),uo(3,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Engel"]))],function(t,e){t(e,3,0,"/engel")},null)}function Cx(t){return Uo(0,[(t()(),_i(0,0,null,null,27,"div",[],null,null,null,null,null)),(t()(),_i(1,0,null,null,0,"img",[["class","cntr"]],[[8,"src",4]],null,null,null,null)),(t()(),_i(2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(3,null,["",""])),(t()(),_i(4,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Lo(5,null,["",""])),(t()(),_i(6,0,null,null,1,"p",[["class","text-truncate"]],null,null,null,null,null)),(t()(),Lo(7,null,["",""])),(t()(),bi(16777216,null,null,1,null,wx)),uo(9,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(10,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_i(11,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/monitoring"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,12).onClick()&&r),r},null,null)),uo(12,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Machine Monitoring"])),(t()(),_i(14,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/presentation/en"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,15).onClick()&&r),r},null,null)),uo(15,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Presentation (EN)"])),(t()(),_i(17,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/presentation/fi"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,18).onClick()&&r),r},null,null)),uo(18,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Presentation (FI)"])),(t()(),_i(20,0,null,null,2,"button",[["class","button btn-block"],["routerLink","/notes"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,21).onClick()&&r),r},null,null)),uo(21,16384,null,0,Ip,[Cp,Ff,[8,null],pn,dn],{routerLink:[0,"routerLink"]},null),(t()(),Lo(-1,null,["Comment"])),(t()(),bi(16777216,null,null,1,null,Ex)),uo(24,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),(t()(),_i(25,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_i(26,0,null,null,1,"button",[["class","btn btn-outline-primary btn-block"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.logout()&&r),r},null,null)),(t()(),Lo(-1,null,["Logout"]))],function(t,e){t(e,9,0,e.context.ngIf.isAdmin),t(e,12,0,"/monitoring"),t(e,15,0,"/presentation/en"),t(e,18,0,"/presentation/fi"),t(e,21,0,"/notes"),t(e,24,0,e.context.ngIf.isEngel)},function(t,e){t(e,1,0,e.context.ngIf.photoURL||"assets/totech_icon.jpg"),t(e,3,0,e.context.ngIf.displayName),t(e,5,0,e.context.ngIf.company),t(e,7,0,e.context.ngIf.email)})}function Sx(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,Cx)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,null,null,0))],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.auth.user)))},null)}function Tx(t){return Uo(0,[(t()(),_i(0,0,null,null,3,"div",[["class","box"]],null,null,null,null,null)),(t()(),bi(16777216,null,null,2,null,bx)),uo(2,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),lo(131072,Bu,[Cn]),(t()(),bi(0,[["guest",2]],null,0,null,_x)),(t()(),bi(0,[["authenticated",2]],null,0,null,Sx))],function(t,e){var n=e.component;t(e,2,0,jr(e,2,0,Yi(e,3).transform(n.auth.user)),Yi(e,5),Yi(e,4))},null)}var Ix=function(){return function(t){this.notify=t}}(),kx=Hr({encapsulation:0,styles:[[""]],data:{}});function Dx(t){return Uo(0,[(t()(),_i(0,0,null,null,4,"div",[["class","notification"]],null,null,null,null,null)),uo(1,278528,null,0,Iu,[zn,Gn,dn,pn],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Po(2,{"is-danger":0,"is-success":1,"is-info":2}),(t()(),_i(3,0,null,null,0,"button",[["class","delete"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.notify.clear()&&r),r},null,null)),(t()(),Lo(4,null,[" ","\n"]))],function(t,e){var n=t(e,2,0,"error"==e.context.ngIf.style,"success"==e.context.ngIf.style,"info"==e.context.ngIf.style);t(e,1,0,"notification",n)},function(t,e){t(e,4,0,e.context.ngIf.content)})}function xx(t){return Uo(0,[(t()(),bi(16777216,null,null,2,null,Dx)),uo(1,16384,null,0,Ou,[En,wn],{ngIf:[0,"ngIf"]},null),lo(131072,Bu,[Cn])],function(t,e){var n=e.component;t(e,1,0,jr(e,1,0,Yi(e,2).transform(n.notify.msg)))},null)}var Ox=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Ax=Hr({encapsulation:0,styles:[[""]],data:{}});function Nx(t){return Uo(0,[(t()(),_i(0,0,null,null,18,"div",[["class","columns"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,2,"aside",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(2,0,null,null,1,"a",[["href","https://www.engelglobal.com/en/fi/contact/local-contacts/countryContact/finland.html"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),_i(3,0,null,null,0,"img",[["alt","ENGEL"],["src","assets/logos/ENGEL_Logo_png.png"]],null,null,null,null,null)),(t()(),_i(4,0,null,null,2,"main",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(5,0,null,null,1,"a",[["href","https://industrial.omron.fi/fi/home"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),_i(6,0,null,null,0,"img",[["alt","OMRON"],["src","assets/logos/OMRON_Logo_png.png"]],null,null,null,null,null)),(t()(),_i(7,0,null,null,2,"aside",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(8,0,null,null,1,"a",[["href","https://www.bedika.fi/"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),_i(9,0,null,null,0,"img",[["alt","BEDIKA"],["src","assets/logos/BEDIKA_Logo_png.png"]],null,null,null,null,null)),(t()(),_i(10,0,null,null,2,"aside",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(11,0,null,null,1,"a",[["href","http://prevex.com/"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),_i(12,0,null,null,0,"img",[["alt","PREVEX"],["src","assets/logos/PREVEX_Logo_png.png"]],null,null,null,null,null)),(t()(),_i(13,0,null,null,2,"aside",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(14,0,null,null,1,"a",[["href","https://rottnerospackaging.com"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),_i(15,0,null,null,0,"img",[["alt","ROTTNEROS"],["src","assets/logos/Rottneros_Packaging_png.png"]],null,null,null,null,null)),(t()(),_i(16,0,null,null,2,"aside",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(17,0,null,null,1,"a",[["href","http://www.ringservice.fi"],["rel","noopener noreferrer"],["target","_blank"]],null,null,null,null,null)),(t()(),_i(18,0,null,null,0,"img",[["alt","PJELAX RINGSERVICE"],["src","assets/logos/PjelaxRingserviceLogo.png"]],null,null,null,null,null)),(t()(),_i(19,0,null,null,0,"hr",[],null,null,null,null,null))],null,null)}var Rx=Hr({encapsulation:0,styles:[[""]],data:{}});function Px(t){return Uo(0,[(t()(),_i(0,0,null,null,23,"div",[["class","content"],["id","wrapper"]],null,null,null,null,null)),(t()(),_i(1,0,null,null,1,"main-nav",[],null,null,null,gx,mx)),uo(2,49152,null,0,dx,[],null,null),(t()(),_i(3,0,null,null,8,"div",[["class","columns"]],null,null,null,null,null)),(t()(),_i(4,0,null,null,2,"aside",[["class","column is-2"]],null,null,null,null,null)),(t()(),_i(5,0,null,null,1,"user-profile",[],null,null,null,Tx,vx)),uo(6,49152,null,0,yx,[Ql],null,null),(t()(),_i(7,0,null,null,4,"main",[["class","column is-8"]],null,null,null,null,null)),(t()(),_i(8,0,null,null,1,"notification-message",[],null,null,null,xx,kx)),uo(9,49152,null,0,Ix,[zl],null,null),(t()(),_i(10,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),uo(11,212992,null,0,Ap,[Op,En,Oe,[8,null],Cn],null,null),(t()(),_i(12,0,null,null,11,"footer",[["class","footer"]],null,null,null,null,null)),(t()(),_i(13,0,null,null,1,"logos",[],null,null,null,Nx,Ax)),uo(14,114688,null,0,Ox,[],null,null),(t()(),_i(15,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),_i(16,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Yi(t,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),uo(17,671744,null,0,kp,[Cp,Ff,Rs],{routerLink:[0,"routerLink"]},null),(t()(),_i(18,0,null,null,0,"img",[["alt","TOTECH"],["height","100px"],["src","assets/totech_logo.jpg"],["width","100px"]],null,null,null,null,null)),(t()(),_i(19,0,null,null,2,"i",[],null,null,null,null,null)),(t()(),_i(20,0,null,null,1,"b",[],null,null,null,null,null)),(t()(),Lo(-1,null,[" Web Application"])),(t()(),_i(22,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Lo(-1,null,["\xa9 CopyRight www.totech.fi 2018"]))],function(t,e){t(e,11,0),t(e,14,0),t(e,17,0,"/")},function(t,e){t(e,16,0,Yi(e,17).target,Yi(e,17).href)})}function Mx(t){return Uo(0,[(t()(),_i(0,0,null,null,1,"app-root",[],null,null,null,Px,Rx)),uo(1,49152,null,0,Yl,[Ql],null,null)],null,null)}var Lx=Vi("app-root",Yl,Mx,{},{},[]);function Fx(){return"undefined"!=typeof process}function Vx(t){switch(t.length){case 0:return new wg;case 1:return t[0];default:return new Eg(t)}}function Ux(t,e,n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={});var a=[],s=[],u=-1,l=null;if(r.forEach(function(t){var n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case Cg:s=i[n];break;case yg:s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}c[r]=s}),r||s.push(c),l=c,u=n}),a.length)throw new Error("Unable to animate due to the following errors:\n - "+a.join("\n - "));return s}function jx(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&Bx(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&Bx(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&Bx(n,"destroy",t))})}}function Bx(t,e,n){var r=n.totalTime,i=qx(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function qx(t,e,n,r,i,o,a){return void 0===i&&(i=""),void 0===o&&(o=0),{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Hx(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function Wx(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var zx=function(t,e){return!1},Gx=function(t,e){return!1},Kx=function(t,e,n){return[]},Qx=Fx();if(Qx||"undefined"!=typeof Element){if(zx=function(t,e){return t.contains(e)},Qx||Element.prototype.matches)Gx=function(t,e){return t.matches(e)};else{var Yx=Element.prototype,$x=Yx.matchesSelector||Yx.mozMatchesSelector||Yx.msMatchesSelector||Yx.oMatchesSelector||Yx.webkitMatchesSelector;$x&&(Gx=function(t,e){return $x.apply(t,[e])})}Kx=function(t,e,n){var i=[];if(n)i.push.apply(i,Object(r.__spread)(t.querySelectorAll(e)));else{var o=t.querySelector(e);o&&i.push(o)}return i}}var Xx=null,Jx=!1;function Zx(t){Xx||(Xx=("undefined"!=typeof document?document.body:null)||{},Jx=!!Xx.style&&"WebkitAppearance"in Xx.style);var e=!0;return Xx.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Xx.style)&&Jx&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Xx.style),e}var tO=Gx,eO=zx,nO=Kx;function rO(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var iO=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return Zx(t)},t.prototype.matchesElement=function(t,e){return tO(t,e)},t.prototype.containsElement=function(t,e){return eO(t,e)},t.prototype.query=function(t,e,n){return nO(t,e,n)},t.prototype.computeStyle=function(t,e,n){return n||""},t.prototype.animate=function(t,e,n,r,i,o,a){return void 0===o&&(o=[]),new wg(n,r)},t}(),oO=function(){function t(){}return t.NOOP=new iO,t}(),aO=1e3;function sO(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uO(parseFloat(e[1]),e[2])}function uO(t,e){switch(e){case"s":return t*aO;default:return t}}function lO(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};r=uO(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=uO(Math.floor(parseFloat(s)),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var l=!1,c=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'+t+'" is invalid.')}return{duration:r,delay:i,easing:o}}(t,e,n)}function cO(t,e){return void 0===e&&(e={}),Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function hO(t,e,n){if(void 0===n&&(n={}),e)for(var r in t)n[r]=t[r];else cO(t,n);return n}function fO(t,e,n){return n?e+":"+n+";":""}function pO(t){for(var e="",n=0;n<t.style.length;n++)e+=fO(0,r=t.style.item(n),t.style.getPropertyValue(r));for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=fO(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function dO(t,e){t.style&&(Object.keys(e).forEach(function(n){var r=EO(n);t.style[r]=e[n]}),Fx()&&pO(t))}function mO(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=EO(e);t.style[n]=""}),Fx()&&pO(t))}function gO(t){return Array.isArray(t)?1==t.length?t[0]:vg(t):t}var yO=new RegExp("{{\\s*(.+?)\\s*}}","g");function vO(t){var e=[];if("string"==typeof t){for(var n=t.toString(),r=void 0;r=yO.exec(n);)e.push(r[1]);yO.lastIndex=0}return e}function bO(t,e,n){var r=t.toString(),i=r.replace(yO,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function _O(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var wO=/-+([a-z0-9])/g;function EO(t){return t.replace(wO,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function CO(t,e){return 0===t||0===e}function SO(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=IO(t,e)})},s=1;s<e.length;s++)a()}return e}function TO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function IO(t,e){return window.getComputedStyle(t)[e]}var kO="*",DO=new Set(["true","1"]),xO=new Set(["false","0"]);function OO(t,e){var n=DO.has(t)||xO.has(t),r=DO.has(e)||xO.has(e);return function(i,o){var a=t==kO||t==i,s=e==kO||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?DO.has(t):xO.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?DO.has(e):xO.has(e)),a&&s}}var AO=new RegExp("s*:selfs*,?","g");function NO(t,e,n){return new RO(t).build(e,n)}var RO=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var n=new PO(e);return this._resetContextStyleTimingState(n),TO(this,gO(t),n)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);r+=l.queryCount,i+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}},t.prototype.visitState=function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(MO(t)){var e=t;Object.keys(e).forEach(function(t){vO(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=_O(i.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+a.join(", "))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=TO(this,gO(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'+t+'" is not supported'),e;var o=i[1],a=i[2],s=i[3];e.push(OO(o,s)),"<"!=a[0]||o==kO&&s==kO||e.push(OO(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:LO(t.options)}},t.prototype.visitSequence=function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return TO(n,t,e)}),options:LO(t.options)}},t.prototype.visitGroup=function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=TO(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:LO(t.options)}},t.prototype.visitAnimate=function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return FO(lO(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=FO(0,0,"");return i.dynamic=!0,i.strValue=r,i}return FO((n=n||lO(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:bg({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=bg(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}},t.prototype.visitStyle=function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n},t.prototype._makeStyleAst=function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==yg?n.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(MO(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}},t.prototype._validateStyleAst=function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l=e.collectedStyles[e.currentQuerySelector],c=l[r],h=!0;c&&(o!=i&&o>=c.startTime&&i<=c.endTime&&(e.errors.push('The CSS property "'+r+'" that exists between the times of "'+c.startTime+'ms" and "'+c.endTime+'ms" is also being animated in a parallel animation between the times of "'+o+'ms" and "'+i+'ms"'),h=!1),o=c.startTime),h&&(l[r]={startTime:o,endTime:i}),e.options&&(a=e.errors,s=e.options.params||{},(u=vO(t[r])).length&&u.forEach(function(t){s.hasOwnProperty(t)||a.push("Unable to resolve the local animation param "+t+" in the given list of values")}))}else e.errors.push('The provided animation property "'+r+'" is not a supported CSS property for animations')})})},t.prototype.visitKeyframes=function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=t.steps.map(function(t){var r=n._makeStyleAst(t,e),l=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(MO(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(MO(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,p=e.currentTime,d=e.currentAnimateTimings,m=d.duration;return l.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*m;e.currentTime=p+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r},t.prototype.visitReference=function(t,e){return{type:8,animation:TO(this,gO(t.animation),e),options:LO(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:LO(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:LO(t.options)}},t.prototype.visitQuery=function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var o=Object(r.__read)(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(AO,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];e.currentQuerySelector=n.length?n+" "+a:a,Hx(e.collectedStyles,e.currentQuerySelector,{});var u=TO(this,gO(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:LO(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:lO(t.timings,e.errors,!0);return{type:12,animation:TO(this,gO(t.animation),e),timings:n,options:null}},t}(),PO=function(){return function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function MO(t){return!Array.isArray(t)&&"object"==typeof t}function LO(t){var e;return t?(t=cO(t)).params&&(t.params=(e=t.params)?cO(e):null):t={},t}function FO(t,e,n){return{duration:t,delay:e,easing:n}}function VO(t,e,n,r,i,o,a,s){return void 0===a&&(a=null),void 0===s&&(s=!1),{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var UO=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var n=this._map.get(t);n||this._map.set(t,n=[]),n.push.apply(n,Object(r.__spread)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),jO=new RegExp(":enter","g"),BO=new RegExp(":leave","g");function qO(t,e,n,r,i,o,a,s,u,l){return void 0===o&&(o={}),void 0===a&&(a={}),void 0===l&&(l=[]),(new HO).buildKeyframes(t,e,n,r,i,o,a,s,u,l)}var HO=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,n,r,i,o,a,s,u,l){void 0===l&&(l=[]),u=u||new UO;var c=new zO(t,e,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),TO(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[VO(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?sO(n.duration):null,o=null!=n.delay?sO(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),TO(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=WO);var a=sO(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return TO(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?sO(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),TO(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var n=t.strValue;return lO(e.params?bO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t},t.prototype.visitQuery=function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?sO(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=WO);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),TO(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;TO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)},t}(),WO={},zO=function(){function t(t,e,n,r,i,o,a,s){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new GO(this._driver,e,0),a.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=sO(r.duration)),null!=r.delay&&(i.delay=sO(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=bO(o[t],a,n.errors))})}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t},t.prototype.createSubContext=function(e,n,r){void 0===e&&(e=null);var i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=WO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new KO(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,n,i,o,a){var s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(jO,"."+this._enterClassName)).replace(BO,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,Object(r.__spread)(u))}return o||0!=s.length||a.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),s},t}(),GO=function(){function t(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||yg,e._currentKeyframe[t]=yg}),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]=yg}):hO(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=bO(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:yg),i._updateStyle(t,e)})},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=hO(o,!0);Object.keys(s).forEach(function(t){var r=s[t];r==Cg?e.add(t):r==yg&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?_O(e.values()):[],a=n.size?_O(n.values()):[];if(r){var s=i[0],u=cO(s);s.offset=0,u.offset=1,i=[s,u]}return VO(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)},t}(),KO=function(t){function e(e,n,r,i,o,a,s){void 0===s&&(s=!1);var u=t.call(this,e,n,a.delay)||this;return u.element=n,u.keyframes=r,u.preStyleProps=i,u.postStyleProps=o,u._stretchStartingKeyframe=s,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return Object(r.__extends)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=hO(t[0],!1);u.offset=0,o.push(u);var l=hO(t[0],!1);l.offset=QO(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var f=hO(t[h],!1);f.offset=QO((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return VO(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)},e}(GO);function QO(t,e){void 0===e&&(e=3);var n=Math.pow(10,e-1);return Math.round(t*n)/n}var YO=function(){return function(){}}(),$O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(e,t),e.prototype.normalizePropertyName=function(t,e){return EO(t)},e.prototype.normalizeStyleValue=function(t,e,n,r){var i="",o=n.toString().trim();if(XO[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for "+t+":"+n)}return o+i},e}(YO),XO=JO("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function JO(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function ZO(t,e,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var tA={},eA=function(){function t(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}return t.prototype.match=function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)},t.prototype.buildStyles=function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o},t.prototype.build=function(t,e,n,i,o,a,s,u,l,c){var h=[],f=this.ast.options&&this.ast.options.params||tA,p=this.buildStyles(n,s&&s.params||tA,h),d=u&&u.params||tA,m=this.buildStyles(i,d,h),g=new Set,y=new Map,v=new Map,b="void"===i,_={params:Object(r.__assign)({},f,d)},w=c?[]:qO(t,e,this.ast.animation,o,a,p,m,_,l,h),E=0;if(w.forEach(function(t){E=Math.max(t.duration+t.delay,E)}),h.length)return ZO(e,this._triggerName,n,i,b,p,m,[],[],y,v,E,h);w.forEach(function(t){var n=t.element,r=Hx(y,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=Hx(v,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&g.add(n)});var C=_O(g.values());return ZO(e,this._triggerName,n,i,b,p,m,w,C,y,v,E)},t}(),nA=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var n={},r=cO(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=bO(o,r,e)),n[t]=o})}}),n},t}(),rA=function(){function t(t,e){var n=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(function(t){n.states[t.name]=new nA(t.style,t.options&&t.options.params||{})}),iA(this.states,"true","1"),iA(this.states,"false","0"),e.transitions.forEach(function(e){n.transitionFactories.push(new eA(t,e,n.states))}),this.fallbackTransition=new eA(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null},t.prototype.matchStyles=function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)},t}();function iA(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var oA=new UO,aA=function(){function t(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var n=[],r=NO(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r},t.prototype._buildPlayer=function(t,e,n){var r=t.element,i=Ux(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,n){var r=this;void 0===n&&(n={});var i,o=[],a=this._animations[t],s=new Map;if(a?(i=qO(this._driver,e,a,"ng-enter","ng-leave",{},{},n,oA,o)).forEach(function(t){var e=Hx(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),i=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,yg)})});var u=Vx(i.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,n,r){var i=qx(e,"","","");return jx(this._getPlayer(t),n,i,r),function(){}},t.prototype.command=function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])},t}(),sA=[],uA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cA="__ng_removed",hA=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){var r=cO(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}},t}(),fA=new hA("void"),pA=function(){function t(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wA(e,this._hostClassName)}return t.prototype.listen=function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+n+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'+n+'" for the animation trigger "'+e+'" is not supported!');var a=Hx(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=Hx(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(wA(t,"ng-trigger"),wA(t,"ng-trigger-"+e),u[e]=fA),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,n,r){var i=this;void 0===r&&(r=!0);var o=this._getTrigger(e),a=new mA(this.id,e,t),s=this._engine.statesByElement.get(t);s||(wA(t,"ng-trigger"),wA(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new hA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[e]=l,u||(u=fA),"void"===l.value||u.value!==l.value){var c=Hx(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,l.value,t,l.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(wA(t,"ng-animate-queued"),a.onStart(function(){EA(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var p=[],d=o.matchStyles(u.value,u.params,p),m=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(function(){mO(t,d),dO(t,m)})}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,n){var r=this;void 0===n&&(n=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach(function(t){if(!t[cA]){var n=r._engine.fetchNamespacesByElement(t);n.size?n.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):r.clearElementCache(t)}})},t.prototype.triggerLeaveAnimation=function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Vx(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach(function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,a=e._engine.statesByElement.get(t)[i]||fA,s=new hA("void"),u=new mA(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}},t.prototype.removeNode=function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}this.prepareLeaveAnimationListeners(t),i?r.markElementAsRemoved(this.id,t,!1,e):(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){wA(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=qx(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,jx(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})},t.prototype.destroy=function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(function(e){return e.element===t})||e},t}(),dA=function(){function t(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var n=new pA(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n},t.prototype._balanceNamespaceList=function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n},t.prototype.registerTrigger=function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e},t.prototype.trigger=function(t,e,n,r){if(gA(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1},t.prototype.insertNode=function(t,e,n,r){if(gA(e)){var i=e[cA];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wA(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),EA(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,n){if(gA(e)){var r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n)}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,n,r){this.collectedLeaveElements.push(e),e[cA]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,n,r,i){return gA(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}},t.prototype._buildInstruction=function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)},t.prototype.destroyInnerAnimations=function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})},t.prototype.whenRenderingDone=function(){var t=this;return new Promise(function(e){if(t.players.length)return Vx(t.players).onDone(function(){return e()});e()})},t.prototype.processLeaveNode=function(t){var e=this,n=t[cA];if(n&&n.setForRemoval){if(t[cA]=uA,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(n){e.markElementAsDisabled(t,!1)})},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)wA(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(r=0;r<i.length;r++)i[r]()}}else for(r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?Vx(n).onDone(function(){o.forEach(function(t){return t()})}):o.forEach(function(t){return t()})}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var n=this,i=new UO,o=[],a=new Map,s=[],u=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,p=Array.from(this.statesByElement.keys()),d=bA(p,this.collectedEnterElements),m=new Map,g=0;d.forEach(function(t,e){var n="ng-enter"+g++;m.set(e,n),t.forEach(function(t){return wA(t,n)})});for(var y=[],v=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++)(F=(L=this.collectedLeaveElements[_])[cA])&&F.setForRemoval&&(y.push(L),v.add(L),F.hasAnimation?this.driver.query(L,".ng-star-inserted",!0).forEach(function(t){return v.add(t)}):b.add(L));var w=new Map,E=bA(p,Array.from(v));E.forEach(function(t,e){var n="ng-leave"+g++;w.set(e,n),t.forEach(function(t){return wA(t,n)})}),t.push(function(){d.forEach(function(t,e){var n=m.get(e);t.forEach(function(t){return EA(t,n)})}),E.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return EA(t,n)})}),y.forEach(function(t){n.processLeaveNode(t)})});for(var C=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(function(t){var e=t.player,r=t.element;if(C.push(e),n.collectedEnterElements.length){var a=r[cA];if(a&&a.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,r),p=w.get(r),d=m.get(r),g=n._buildInstruction(t,i,d,p,h);if(g.errors&&g.errors.length)S.push(g);else{if(h)return e.onStart(function(){return mO(r,g.fromStyles)}),e.onDestroy(function(){return dO(r,g.toStyles)}),void o.push(e);if(t.isFallbackTransition)return e.onStart(function(){return mO(r,g.fromStyles)}),e.onDestroy(function(){return dO(r,g.toStyles)}),void o.push(e);g.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(r,g.timelines),s.push({instruction:g,player:e,element:r}),g.queriedElements.forEach(function(t){return Hx(u,t,[]).push(e)}),g.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),g.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(S.length){var I=[];S.forEach(function(t){I.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach(function(t){return I.push("- "+t+"\n")})}),C.forEach(function(t){return t.destroy()}),this.reportError(I)}var k=new Map,D=new Map;s.forEach(function(t){var e=t.element;i.has(e)&&(D.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,k))}),o.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Hx(k,e,[]).push(t),t.destroy()})});var x=y.filter(function(t){return SA(t,l,c)}),O=new Map;vA(O,this.driver,b,c,yg).forEach(function(t){SA(t,l,c)&&x.push(t)});var A=new Map;d.forEach(function(t,e){vA(A,n.driver,new Set(t),l,Cg)}),x.forEach(function(t){var e=O.get(t),n=A.get(t);O.set(t,Object(r.__assign)({},e,n))});var N=[],R=[],P={};s.forEach(function(t){var e=t.element,r=t.player,s=t.instruction;if(i.has(e)){if(h.has(e))return r.onDestroy(function(){return dO(e,s.toStyles)}),r.disabled=!0,r.overrideTotalTime(s.totalTime),void o.push(r);var u=P;if(D.size>1){for(var l=e,c=[];l=l.parentNode;){var f=D.get(l);if(f){u=f;break}c.push(l)}c.forEach(function(t){return D.set(t,u)})}var p=n._buildAnimation(r.namespaceId,s,k,a,A,O);if(r.setRealPlayer(p),u===P)N.push(r);else{var d=n.playersByElement.get(u);d&&d.length&&(r.parentPlayer=Vx(d)),o.push(r)}}else mO(e,s.fromStyles),r.onDestroy(function(){return dO(e,s.toStyles)}),R.push(r),h.has(e)&&o.push(r)}),R.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=Vx(e);t.setRealPlayer(n)}}),o.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var M=0;M<y.length;M++){var L,F=(L=y[M])[cA];if(EA(L,"ng-leave"),!F||!F.hasAnimation){var V=[];if(u.size){var U=u.get(L);U&&U.length&&V.push.apply(V,Object(r.__spread)(U));for(var j=this.driver.query(L,".ng-animating",!0),B=0;B<j.length;B++){var q=u.get(j[B]);q&&q.length&&V.push.apply(V,Object(r.__spread)(q))}}var H=V.filter(function(t){return!t.destroyed});H.length?CA(this,L,H):this.processLeaveNode(L)}}return y.length=0,N.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),N},t.prototype.elementContainsData=function(t,e){var n=!1,r=e[cA];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o},t.prototype._beforeAnimationBuild=function(t,e,n){var i,o,a=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,l=function(t){var r=t.element,i=r!==a,o=Hx(n,r,[]);c._getPreviousPlayers(r,i,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),o.push(t)})},c=this;try{for(var h=Object(r.__values)(e.timelines),f=h.next();!f.done;f=h.next())l(f.value)}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}mO(a,e.fromStyles)},t.prototype._buildAnimation=function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;c.add(f);var p=f[cA];if(p&&p.removedBeforeQueried)return new wg(e.duration,e.delay);var d,m,g=f!==u,y=(d=(n.get(f)||sA).map(function(t){return t.getRealPlayer()}),m=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof Eg?t(i.players,n):n.push(i)}}(d,m),m).filter(function(t){return!!t.element&&t.element===f}),v=i.get(f),b=o.get(f),_=Ux(0,a._normalizer,0,e.keyframes,v,b),w=a._buildPlayer(e,_,y);if(e.subTimeline&&r&&h.add(f),g){var E=new mA(t,s,f);E.setRealPlayer(w),l.push(E)}return w});l.forEach(function(t){Hx(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else(r=t[e])&&(r.length&&(i=r.indexOf(n),r.splice(i,1)),0==r.length&&delete t[e]);return r}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return wA(t,"ng-animating")});var p=Vx(f);return p.onDestroy(function(){c.forEach(function(t){return EA(t,"ng-animating")}),dO(u,e.toStyles)}),h.forEach(function(t){Hx(r,t,[]).push(p)}),p},t.prototype._buildPlayer=function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wg(t.duration,t.delay)},t}(),mA=function(){function t(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new wg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return jx(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})},t.prototype._queueEvent=function(t,e){Hx(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function gA(t){return t&&1===t.nodeType}function yA(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function vA(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(yA(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[cA]=lA,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return yA(t,o[s++])}),a}function bA(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach(function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:r.has(a)?1:t(a),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}var _A="$$classes";function wA(t,e){if(t.classList)t.classList.add(e);else{var n=t[_A];n||(n=t[_A]={}),n[e]=!0}}function EA(t,e){if(t.classList)t.classList.remove(e);else{var n=t[_A];n&&delete n[e]}}function CA(t,e,n){Vx(n).onDone(function(){return t.processLeaveNode(e)})}function SA(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var TA=function(){function t(t,e,n){var r=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new dA(t,e,n),this._timelineEngine=new aA(t,e,n),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=NO(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'+r+'" has failed to build due to the following errors:\n - '+s.join("\n - "));a=function(t,e){return new rA(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)},t.prototype.onRemove=function(t,e,n){this._transitionEngine.removeNode(t,e,n)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,n,i){if("@"==n.charAt(0)){var o=Object(r.__read)(Wx(n),2);this._timelineEngine.command(o[0],e,o[1],i)}else this._transitionEngine.trigger(t,e,n,i)},t.prototype.listen=function(t,e,n,i,o){if("@"==n.charAt(0)){var a=Object(r.__read)(Wx(n),2);return this._timelineEngine.listen(a[0],e,a[1],o)}return this._transitionEngine.listen(t,e,n,i,o)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}(),IA="animation",kA="animationend",DA=function(){function t(t,e,n,r,i,o,a){var s=this;this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return s._handleCallback(t)}}return t.prototype.apply=function(){var t,e,n;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(n=PA(t=this._element,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)","===t.charAt(n)&&0}(n),e=n+", "+e),RA(t,"",e),NA(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){xA(this._element,this._name,"paused")},t.prototype.resume=function(){xA(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=OA(this._element,this._name);this._position=t*this._duration,RA(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),NA(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(r=AA(n=PA(t=this._element,"").split(","),e))>=0&&(n.splice(r,1),RA(t,"",n.join(","))))},t}();function xA(t,e,n){RA(t,"PlayState",n,OA(t,e))}function OA(t,e){var n=PA(t,"");return n.indexOf(",")>0?AA(n.split(","),e):AA([n],e)}function AA(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function NA(t,e,n){n?t.removeEventListener(kA,e):t.addEventListener(kA,e)}function RA(t,e,n,r){var i=IA+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function PA(t,e){return t.style[IA+e]}var MA="linear",LA=function(t){return t[t.INITIALIZED=1]="INITIALIZED",t[t.STARTED=2]="STARTED",t[t.FINISHED=3]="FINISHED",t[t.DESTROYED=4]="DESTROYED",t}({}),FA=function(){function t(t,e,n,r,i,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this.state=0,this.easing=o||MA,this.totalTime=r+i,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this.state>=LA.DESTROYED||(this.state=LA.DESTROYED,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this.state>=LA.FINISHED||(this.state=LA.FINISHED,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this.state>=LA.STARTED},t.prototype.init=function(){this.state>=LA.INITIALIZED||(this.state=LA.INITIALIZED,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this.state=LA.STARTED),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new DA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this.state>=LA.FINISHED;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:IO(t.element,r))})}this.currentSnapshot=e},t}(),VA=function(t){function e(e,n){var r=t.call(this)||this;return r.element=e,r._startingStyles={},r.__initialized=!1,r._styles=rO(n),r}return Object(r.__extends)(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,t.prototype.destroy.call(this))},e}(wg),UA=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return Zx(t)},t.prototype.matchesElement=function(t,e){return tO(t,e)},t.prototype.containsElement=function(t,e){return eO(t,e)},t.prototype.query=function(t,e,n){return nO(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,n){n=n.map(function(t){return rO(t)});var r="@keyframes "+e+" {\n",i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+=""+i+100*e+"% {\n",i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=i+"animation-timing-function: "+n+";\n"));default:return void(r+=""+i+e+": "+n+";\n")}}),r+=i+"}\n"}),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o},t.prototype.animate=function(t,e,n,r,i,o,a){void 0===o&&(o=[]),a&&this._notifyFaultyScrubber();var s=o.filter(function(t){return t instanceof FA}),u={};CO(n,r)&&s.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=SO(t,e,u));if(0==n)return new VA(t,l);var c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var f=new FA(t,e,c,n,r,i,l);return f.onDestroy(function(){var t;(t=h).parentNode.removeChild(t)}),f},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),jA=function(){function t(t,e,n){this.element=t,this.keyframes=e,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,n){return t.animate(e,n)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:IO(t.element,n))}),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0},t}(),BA=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qA().toString()),this._cssKeyframesDriver=new UA}return t.prototype.validateStyleProperty=function(t){return Zx(t)},t.prototype.matchesElement=function(t,e){return tO(t,e)},t.prototype.containsElement=function(t,e){return eO(t,e)},t.prototype.query=function(t,e,n){return nO(t,e,n)},t.prototype.computeStyle=function(t,e,n){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,n,r,i,o,a){if(void 0===o&&(o=[]),!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=o.filter(function(t){return t instanceof jA});return CO(n,r)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})}),e=SO(t,e=e.map(function(t){return hO(t,!1)}),u),new jA(t,e,s)},t}();function qA(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var HA=function(t){function e(e,n){var r=t.call(this)||this;return r._nextAnimationId=0,r._renderer=e.createRenderer(n.body,{id:"0",encapsulation:ee.None,styles:[],data:{animation:[]}}),r}return Object(r.__extends)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?vg(t):t;return GA(this._renderer,null,e,"register",[n]),new WA(e,this._renderer)},e}(mg),WA=function(t){function e(e,n){var r=t.call(this)||this;return r._id=e,r._renderer=n,r}return Object(r.__extends)(e,t),e.prototype.create=function(t,e){return new zA(this._id,t,e||{},this._renderer)},e}(gg),zA=function(){function t(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return GA(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function GA(t,e,n,r,i){return t.setProperty(e,"@@"+n+":"+r,i)}var KA=function(){function t(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new QA("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function(e){return n.engine.registerTrigger(o,a,t,e.name,e)}),new YA(this,a,r,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then(function(){t._microtaskId++})},t.prototype.scheduleListenerCallback=function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var e=Object(r.__read)(t,2);(0,e[0])(e[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),QA=function(){function t(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e){this.engine.onRemove(this.namespaceId,e,this.delegate)},t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),YA=function(t){function e(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.factory=e,o.namespaceId=n,o}return Object(r.__extends)(e,t),e.prototype.setProperty=function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)},e.prototype.listen=function(t,e,n){var i,o,a,s=this;if("@"==e.charAt(0)){var u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=e.substr(1),c="";return"@"!=l.charAt(0)&&(l=(i=Object(r.__read)((o=l,a=o.indexOf("."),[o.substring(0,a),o.substr(a+1)]),2))[0],c=i[1]),this.engine.listen(this.namespaceId,u,l,c,function(t){s.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)},e}(QA),$A=function(t){function e(e,n,r){return t.call(this,e.body,n,r)||this}return Object(r.__extends)(e,t),e}(TA);function XA(){return"function"==typeof qA()?new BA:new UA}function JA(){return new $O}function ZA(t,e,n){return new KA(t,e,n)}var tN=new pt("AnimationModuleType"),eN=function(){return function(){}}(),nN=function(){function t(t,e,n){this.auth=t,this.router=e,this.notify=n}return t.prototype.canActivate=function(t,e){var n=this;return this.auth.user.pipe(sl(1),j(function(t){return!!t}),pl(function(t){t||(console.log("access denied"),n.notify.update("You must be logged in!","error"),n.router.navigate(["/login"]))}))},t.ngInjectableDef=ft({factory:function(){return new t(te(Ql),te(Cp),te(zl))},token:t,providedIn:"root"}),t}(),rN=new T(E);function iN(t){return new T(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?W(n):Ts()).subscribe(e)})}var oN="Service workers are disabled or not supported by this browser",aN=function(){function t(t){if(this.serviceWorker=t,t){var e=U_(t,"controllerchange").pipe(j(function(){return t.controller})),n=Uy(iN(function(){return ks(t.controller)}),e);this.worker=n.pipe(rl(function(t){return!!t})),this.registration=this.worker.pipe(Ds(function(){return t.getRegistration()}));var r=U_(t,"message").pipe(j(function(t){return t.data})).pipe(rl(function(t){return!!t&&!!t.type})).pipe(ut(new tt));this.events=r,r.connect()}else this.worker=this.events=this.registration=(i=oN,iN(function(){return wy(new Error(i))}));var i}return t.prototype.postMessage=function(t,e){return this.worker.pipe(sl(1),pl(function(n){n.postMessage(Object(r.__assign)({action:t},e))})).toPromise().then(function(){})},t.prototype.postMessageWithStatus=function(t,e,n){var r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(function(){})},t.prototype.generateNonce=function(){return Math.round(1e7*Math.random())},t.prototype.eventsOfType=function(t){return this.events.pipe(rl(function(e){return e.type===t}))},t.prototype.nextEventOfType=function(t){return this.eventsOfType(t).pipe(sl(1))},t.prototype.waitForStatus=function(t){return this.eventsOfType("STATUS").pipe(rl(function(e){return e.nonce===t}),sl(1),j(function(t){if(!t.status)throw new Error(t.error)})).toPromise()},Object.defineProperty(t.prototype,"isEnabled",{get:function(){return!!this.serviceWorker},enumerable:!0,configurable:!0}),t}(),sN=function(){function t(t){if(this.sw=t,this.subscriptionChanges=new tt,!t.isEnabled)return this.messages=rN,void(this.subscription=rN);this.messages=this.sw.eventsOfType("PUSH").pipe(j(function(t){return t.data})),this.pushManager=this.sw.registration.pipe(j(function(t){return t.pushManager}));var e=this.pushManager.pipe(Ds(function(t){return t.getSubscription().then(function(t){return t})}));this.subscription=$(e,this.subscriptionChanges)}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),t.prototype.requestSubscription=function(t){var e=this;if(!this.sw.isEnabled)return Promise.reject(new Error(oN));for(var n={userVisibleOnly:!0},r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(r.length)),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return n.applicationServerKey=i,this.pushManager.pipe(Ds(function(t){return t.subscribe(n)}),sl(1)).toPromise().then(function(t){return e.subscriptionChanges.next(t),t})},t.prototype.unsubscribe=function(){var t=this;return this.sw.isEnabled?this.subscription.pipe(sl(1),Ds(function(e){if(null===e)throw new Error("Not subscribed to push notifications.");return e.unsubscribe().then(function(e){if(!e)throw new Error("Unsubscribe failed!");t.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(oN))},t.prototype.decodeBase64=function(t){return atob(t)},t}(),uN=function(){function t(t){if(this.sw=t,!t.isEnabled)return this.available=rN,void(this.activated=rN);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this.sw.isEnabled},enumerable:!0,configurable:!0}),t.prototype.checkForUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(oN));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)},t.prototype.activateUpdate=function(){if(!this.sw.isEnabled)return Promise.reject(new Error(oN));var t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)},t}(),lN=function(){return function(){}}(),cN=new pt("NGSW_REGISTER_SCRIPT");function hN(t,e,n,r){return function(){var i=t.get(un);if(Yu(r)&&"serviceWorker"in navigator&&!1!==n.enabled){var o=i.isStable.pipe(rl(function(t){return!!t}),sl(1)).toPromise();navigator.serviceWorker.addEventListener("controllerchange",function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),o.then(function(){return navigator.serviceWorker.register(e,{scope:n.scope})})}}}function fN(t,e){return new aN(Yu(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}var pN=function(){function t(){}return t.register=function(e,n){return void 0===n&&(n={}),{ngModule:t,providers:[{provide:cN,useValue:e},{provide:lN,useValue:n},{provide:aN,useFactory:fN,deps:[lN,ye]},{provide:pe,useFactory:hN,deps:[Ft,cN,lN,ye],multi:!0}]}},t}(),dN=function(){return function(){}}(),mN=function(){return function(){}}(),gN=function(){return function(){}}(),yN=function(){return function(){}}(),vN=function(){return function(){}}(),bN=function(){return function(){}}(),_N=function(){return function(){}}(),wN=function(){return function(){}}(),EN=function(){return function(){}}(),CN=function(){return function(){}}(),SN=function(){return function(){}}(),TN=Ga(ws,[Yl],function(t){return function(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===ce&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Ur(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([xi(512,Oe,Ae,[[8,[td,od,Km,Zm,nE,sE,CE,ES,FS,aT,yI,zI,hk,$k,nD,sD,hD,CD,ex,ox,lx,px,ub,Lx]],[3,Oe],Re]),xi(5120,Xn,tr,[[3,Xn]]),xi(4608,Su,Tu,[Xn,[2,Cu]]),xi(5120,zn,Jn,[]),xi(5120,Gn,Zn,[]),xi(4608,ah,sh,[Gu]),xi(6144,Tr,null,[ah]),xi(4608,th,eh,[]),xi(5120,kc,function(t,e,n,r,i,o,a){return[new Jc(t,e,n),new oh(r),new nh(i,o,a)]},[Gu,Be,[2,ye],Gu,Gu,th,be]),xi(4608,Dc,Dc,[kc,Be]),xi(135680,Ac,Ac,[Gu]),xi(4608,Vc,Vc,[Dc,Ac]),xi(5120,oO,XA,[]),xi(5120,YO,JA,[]),xi(4608,TA,$A,[Gu,oO,YO]),xi(5120,hn,ZA,[Vc,TA,Be]),xi(6144,Oc,null,[Ac]),xi(4608,Ye,Ye,[Be]),xi(4608,vc,vc,[Gu]),xi(4608,Cc,Cc,[Gu]),xi(5120,yh,vh,[Gu,me]),xi(4608,mg,HA,[hn,mc]),xi(5120,Ff,Gp,[Cp]),xi(4608,Mp,Mp,[]),xi(6144,Rp,null,[Mp]),xi(135680,Lp,Lp,[Cp,mn,we,Ft,Rp]),xi(4608,Pp,Pp,[]),xi(5120,$p,Yp,[Kp]),xi(5120,ve,function(t){return[t]},[$p]),xi(4608,Id,Id,[]),xi(4608,sw,sw,[un,Ft,Oe,Gu]),xi(4608,uw,uw,[Oe,Ft,sw]),xi(4608,Zb,Zb,[]),xi(4608,mw,mw,[]),xi(4608,Dw,Dw,[]),xi(135680,Mw,Mw,[Gu,Rw]),xi(4608,Lw,Lw,[]),xi(4608,Xb,Xb,[]),xi(4608,u_,u_,[]),xi(4608,v_,b_,[]),xi(4608,qu,qu,[Xn]),xi(4608,C_,S_,[Xn,qu]),xi(4608,M_,L_,[]),xi(4608,O_,A_,[]),xi(4608,x_,x_,[]),xi(4608,J_,J_,[]),xi(4608,cw,cw,[]),xi(4608,fw,fw,[]),xi(4608,yw,yw,[]),xi(4608,_w,_w,[]),xi(4608,Cw,Cw,[]),xi(4608,Sw,Tw,[]),xi(4608,Em,Em,[]),xi(4608,Il,Il,[bl,[2,_l],ye,Be]),xi(4608,Hl,Hl,[bl,[2,_l],[2,Ul],[2,jl],ye,Be]),xi(4608,zl,zl,[]),xi(4608,Kl,Kl,[Hl]),xi(4608,Ql,Ql,[Il,Hl,Cp,zl,Kl]),xi(4608,nN,nN,[Ql,Cp,zl]),xi(4608,lE,lE,[Hl]),xi(4608,US,US,[Hl]),xi(4608,jT,jT,[bl,[2,_l],[2,wl],ye,Be]),xi(4608,qT,qT,[jT]),xi(4608,WT,WT,[jT]),xi(4608,HT,HT,[jT]),xi(5120,Cl,Sl,[bl,[2,_l]]),xi(4608,AE,AE,[bl,[2,_l],[2,OE],ye,Be]),xi(5120,aN,fN,[lN,ye]),xi(4608,sN,sN,[aN]),xi(4608,uN,uN,[aN]),xi(5120,zg,_s,[]),xi(4608,Jg,Jg,[]),xi(4608,$g,$g,[zg]),xi(4608,ny,ny,[zg]),xi(1073742336,zu,zu,[]),xi(1024,le,mh,[]),xi(1024,nn,function(){return[jp()]},[]),xi(512,Kp,Kp,[Ft]),xi(256,me,"serverApp",[]),xi(2048,bc,null,[me]),xi(256,cN,"/ngsw-worker.js",[]),xi(256,lN,{enabled:!0},[]),xi(1024,pe,function(t,e,n,i,o,a,s,u,l){return[(c=t,Sc("probe",Ic),Sc("coreTokens",Object(r.__assign)({},Tc,(c||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Ic}),Qp(e),_c(n,i,o),hN(a,s,u,l)];var c},[[2,nn],Kp,bc,Gu,Ft,Ft,cN,lN,ye]),xi(512,de,de,[[2,pe]]),xi(131584,un,un,[Be,be,Ft,le,Oe,de]),xi(1073742336,er,er,[un]),xi(1073742336,gh,gh,[[3,gh]]),xi(1073742336,bh,bh,[]),xi(1073742336,eN,eN,[]),xi(1024,Vp,Hp,[[3,Cp]]),xi(512,of,af,[]),xi(512,Op,Op,[]),xi(256,Fp,{},[]),xi(1024,Rs,qp,[As,[2,Ps],Fp]),xi(512,Ms,Ms,[Rs]),xi(512,we,we,[]),xi(512,mn,bn,[we,[2,yn]]),xi(1024,gp,function(){return[[{path:"",component:ed},{path:"login",component:Bm},{path:"contact",component:Qm},{path:"calendar",component:Hw},{path:"about",component:rE},{path:"notes",component:vE,canActivate:[nN]},{path:"uploads",component:mS,canActivate:[nN]},{path:"users",component:IS,canActivate:[nN]},{path:"machines",component:YS,canActivate:[nN]},{path:"monitoring",component:fI,canActivate:[nN]},{path:"presentation/en",component:II,canActivate:[nN]},{path:"presentation/fi",component:GI,canActivate:[nN]},{path:"engel",component:fk,canActivate:[nN]},{path:"ssr",component:Xk}]]},[]),xi(1024,Cp,zp,[un,of,Op,Ms,Ft,mn,we,gp,Fp,[2,vp],[2,dp]]),xi(1073742336,Bp,Bp,[[2,Vp],[2,Cp]]),xi(1073742336,dN,dN,[]),xi(1073742336,e_,e_,[]),xi(1073742336,s_,s_,[]),xi(1073742336,d_,d_,[]),xi(1073742336,gw,gw,[]),xi(1073742336,Ow,Ow,[]),xi(1073742336,Uw,Uw,[]),xi(1073742336,Jb,Jb,[]),xi(1073742336,p_,p_,[]),xi(1073742336,Sm,Sm,[]),xi(1073742336,Tm,Tm,[]),xi(1073742336,X_,X_,[]),xi(1073742336,Z_,Z_,[]),xi(1073742336,lw,lw,[]),xi(1073742336,hw,hw,[]),xi(1073742336,dw,dw,[]),xi(1073742336,bw,bw,[]),xi(1073742336,ww,ww,[]),xi(1073742336,kw,kw,[]),xi(1073742336,jw,jw,[]),xi(1073742336,ry,ry,[]),xi(1073742336,Qy,Qy,[]),xi(1073742336,uy,uy,[]),xi(1073742336,hv,hv,[]),xi(1073742336,my,my,[]),xi(1073742336,by,by,[]),xi(1073742336,_y,_y,[]),xi(1073742336,mN,mN,[]),xi(1073742336,hT,hT,[]),xi(1073742336,Im,Im,[]),xi(1073742336,gN,gN,[]),xi(1073742336,Bw,Bw,[]),xi(1073742336,yN,yN,[]),xi(1073742336,vN,vN,[]),xi(1073742336,bN,bN,[]),xi(1073742336,_N,_N,[]),xi(1073742336,wN,wN,[]),xi(1073742336,EN,EN,[]),xi(1073742336,CN,CN,[]),xi(1073742336,SN,SN,[]),xi(1073742336,Tl,Tl,[]),xi(1073742336,Wl,Wl,[]),xi(1073742336,kl,kl,[]),xi(1073742336,fS,fS,[]),xi(1073742336,BT,BT,[]),xi(1073742336,pN,pN,[]),xi(1073742336,ws,ws,[]),xi(256,ce,!0,[]),xi(256,tN,"BrowserAnimations",[]),xi(256,Rw,100,[]),xi(256,bl,{apiKey:"AIzaSyD8TCC-9lyKPKEsDJxfGgfD896qN78dJcU",authDomain:"totech-e5e1f.firebaseapp.com",databaseURL:"https://totech-e5e1f.firebaseio.com",projectId:"totech-e5e1f",storageBucket:"totech-e5e1f.appspot.com",messagingSenderId:"1034072077763"},[]),xi(256,_l,"firestarter",[])])});(function(){if(Ze)throw new Error("Cannot enable prod mode after platform setup.");Je=!1})(),document.addEventListener("DOMContentLoaded",function(){dh().bootstrapModuleFactory(TN).catch(function(t){return console.log(t)})})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=(15&s)<<2|l>>6,h=63&l;u||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p=Error.captureStackTrace,d=function(){return function(t,e){if(this.code=t,this.message=e,p)p(this,m.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="FirebaseError";var m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new d(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function g(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=g(l(o[0])||""),n=g(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},v=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},b=function(t,e){return v(e,function(e,n){t[e]=n}),t},_=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},w=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=l^s&(u^l),o=1518500249):(i=s^u^l,o=1859775393):r<60?(i=s&u|l&(s|u),o=2400959708):(i=s^u^l,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){return function(){this.blockSize=-1}}()),E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=l,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=f,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=m,e.FirebaseError=d,e.patchCapture=function(t){var e=p;return p=t,e},e.jsonEval=g,e.stringify=function(t){return JSON.stringify(t)},e.decode=y,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=y(t),n=e.claims;return!!e.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=y(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=b,e.findKey=_,e.findValue=function(t,e,n){var r=_(t,e,n);return r&&t[r]},e.forEach=v,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return v(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=w,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.errorPrefix=S,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}},zj0I:function(t,e,n){var r=n("yNUO");t.exports=function(t){var e=r(t),n=e.getMonth();return e.setMonth(n-n%3+3,0),e.setHours(0,0,0,0),e}}},[[3,0]]]);